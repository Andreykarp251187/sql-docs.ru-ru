---
title: Создание, изменение и удаление управляемых данными подписок | Документы Майкрософт
ms.date: 06/12/2019
ms.prod: reporting-services
ms.prod_service: reporting-services-native
ms.technology: subscriptions
ms.topic: conceptual
helpviewer_keywords:
- query-based subscriptions [Reporting Services]
- queries [Reporting Services], data-driven subscriptions
- subscriptions [Reporting Services], data-driven
- data-driven subscriptions
ms.assetid: 0ba2093e-9393-4eb6-af06-9da10988cfaf
author: maggiesMSFT
ms.author: maggies
ms.openlocfilehash: b385e04cf2efa103dba4a66d4e794a7984814fb4
ms.sourcegitcommit: b78f7ab9281f570b87f96991ebd9a095812cc546
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/31/2020
ms.locfileid: "67140271"
---
# <a name="create-modify-and-delete-data-driven-subscriptions"></a>Создание, изменение и удаление управляемых данными подписок
  Управляемая данными подписка — это подписка на основе запроса, которая получает необходимые данные во время выполнения. При запуске такой подписки обрабатывается запрос на получение обновленной информации о получателях, параметрах доставки отчета, форматах подготовки и установки параметров. Результаты запроса объединены с определением подписки для создания динамической подписки, использующей данные, которые уже введены в базу данных служащего, клиента или любую другую базу данных, содержащую информацию, которая может использоваться как данные подписчика.  
  
 Чтобы создать новую управляемую данными подписку или изменить существующую, откройте страницу веб-портала **Управление** > **Подписки**. Страница **Подписки** содержит пошаговые инструкции для создания или изменения подписки. Чтобы получить доступ к созданной подписке, используйте страницу **Мои подписки** или список "Подписки" в отчете. Сведения о создании управляемой данными подписки см. в разделе [Создание управляемой данными подписки (учебник по службам SSRS)](../../reporting-services/create-a-data-driven-subscription-ssrs-tutorial.md).  
  
 В этой статье:  
  
-   [Управление управляемой данными подпиской и ее удаление](#bkmk_manage_and_delete)  
  
-   [Создание и изменение управляемой данными подписки](#bkmk_create_and_modify)  
  
-   [Определение запроса, который получает сведения о подписке](#bkmk_define_query)  
  
-   [Выполнение подписки](#bkmk_run_subscription)  
  
##  <a name="bkmk_manage_and_delete"></a> Управление управляемой данными подпиской и ее удаление  
 Находящуюся в процессе выполнения управляемую данными подписку невозможно остановить или удалить через веб-портал. Такую подписку удобно запускать с помощью общего расписания, поскольку для того, чтобы временно приостановить обработку подписки, достаточно приостановить запускающее эту подписку расписание. Дополнительные сведения см. в разделе [Создание подписок для работающих в основном режиме серверов отчетов и управление этими подписками](../../reporting-services/subscriptions/create-and-manage-subscriptions-for-native-mode-report-servers.md).  
  
 Чтобы удалить управляемую данными подписку, установите флажок рядом с отчетом на странице **Подписки** и щелкните **Удалить**.  
  
 Инструкции по отмене выполнения управляемой данными подписки см. в разделе [Управление запущенным процессом](../../reporting-services/subscriptions/manage-a-running-process.md).  
  
##  <a name="bkmk_create_and_modify"></a> Создание и изменение управляемой данными подписки  
 Для создания управляемой данными подписки выберите отчет, который или использует хранимые учетные данные, или не использует учетные данные. При создании управляемой данными подписки рекомендуется использовать контекст именования для поля описания, чтобы легко отличать стандартные подписки от управляемых данными подписок.  
  
### <a name="to-create-a-data-driven-subscription-native-mode"></a>Создание управляемой данными подписки (собственный режим)  
  
1. На веб-портале перейдите к папке, которая содержит отчет, щелкните отчет правой кнопкой мыши и выберите в раскрывающемся меню пункт **Управление**.  
  
2. Выберите вкладку **Подписки** .  
  
3. Щелкните действие **Создать подписку** на странице **Подписки**.  
  
### <a name="to-create-a-data-driven-subscription-sharepoint-mode"></a>Создание управляемой данными подписки (режим интеграции с SharePoint)  
  
1. В библиотеке документов SharePoint наведите указатель мыши на отчет, откройте меню параметров и выберите пункт **Управление подписками**.  
  
2. Нажмите кнопку **Добавить управляемую данными подписку**.  
  
### <a name="to-modify-an-existing-data-driven-subscription-native-mode"></a>Создание и изменение существующей, управляемой данными подписки (собственный режим)  
  
1. На веб-портале перейдите к папке, которая содержит отчет, щелкните отчет правой кнопкой мыши и выберите в раскрывающемся меню пункт **Управление**.  
  
2. Выберите вкладку **Подписки** .  
  
3. Установите флажок рядом с подпиской, которую вы хотите изменить, и щелкните **Правка**. Для управляемых данными подписки в столбце **Тип** указывается значение Data-driven (Управляемая данными).  
  
### <a name="to-modify-an-existing-data-driven-subscription-sharepoint-mode"></a>Создание и изменение существующей, управляемой данными подписки (режим интеграции с SharePoint)  
  
1.  В библиотеке документов SharePoint наведите указатель мыши на отчет, откройте меню параметров и выберите пункт **Управление подписками**.  
  
2.  Выберите подписку, которую хотите изменить.  
  
    > [!NOTE]  
    > Можно изменить любое значение, которое уже определено. Все значения представлены в том виде, в котором были заданы изначально, за исключением пароля, который используется для доступа к хранилищу данных подписчика. Пароль должен вводиться вновь каждый раз при изменении значений на второй или на любой последующей странице.  
  
  Перед созданием управляемой данными подписки необходимо убедиться в выполнении перечисленных далее требований.  
  
-   **Требования отчета.** Для получения данных во время выполнения у отчета либо должны быть хранимые учетные данные, либо он должен работать без учетных данных. Нельзя подписаться на отчет, который использует олицетворенные или делегированные учетные данные для соединения с внешним источником данных; учетные данные пользователя, который создает подписку или владеет ею, будут недоступны при обработке подписки. Хранимые учетные данные могут быть или учетной записью Windows, или учетной записью базы данных. Дополнительные сведения см. в статье [Задание учетных данных и сведениях о соединении для источников данных отчета](../../reporting-services/report-data/specify-credential-and-connection-information-for-report-data-sources.md).  
  
     Нельзя подписаться на отчет построителя отчетов, который в качестве источника данных использует модель, содержащую настройки безопасности элементов модели. Только отчеты, использующие безопасность элементов модели отчета, входят в это ограничение.  
  
     Нельзя создать управляемую данными подписку на отчет, содержащий выражение `User!UserID` .  
  
-   **Требования к данным.** Необходимо иметь доступ к внешнему источнику данных, содержащему данные подписчика.  
  
-   **Требования к пользователю.** Автор подписки должен обладать разрешениями «Управление отчетами» и «Управление всеми подписками». Дополнительные сведения о разрешениях задачи уровня элемента см. в разделе [Задачи и разрешения](../../reporting-services/security/tasks-and-permissions.md). Автор должен также иметь необходимые учетные данные для доступа к внешним источникам данных, содержащим сведения о подписчиках.  
  
##  <a name="bkmk_define_query"></a> Определение запроса, который получает сведения о подписке  
 Управляемая данными подписка должна указывать запрос или команду, которая получает сведения о подписчике. Запрос должен сформировать одну строку для каждого из подписчиков. Если используется модуль доставки по электронной почте, то запрос должен вернуть корректный почтовый псевдоним для каждого подписчика. Число попыток доставки основано на количестве строк, возвращенных запросом. Если набор строк состоит из 10 000 строк, то подписка доставит 10 000 отчетов.  
  
 Выполняя длительный запрос, можно увеличить продолжительность тайм-аута, чтобы сделать возможной дополнительную обработку.  
  
 На этом шаге перед продолжением необходимо проверить корректность запроса. Проверка правильности не выполняет запрос, однако возвращает список всех столбцов, которые находятся в наборе строк, что позволяет создать ссылки на столбцы при последующем выборе. Если запрос некорректен, перейти к следующему шагу нельзя. Запрос некорректен, если используемый синтаксис запроса некорректен, а также в случае некорректности подключения к источнику данных. Используйте кнопку **Назад** для исправления подключения к источнику данных.  
  
##  <a name="bkmk_run_subscription"></a> Выполнение подписки  
 Необходимо определить условия обработки подписки. Можно определить расписание или установить ее выполнение при обновлении снимка состояния выполнения отчета. Обработка зависимых от данных подписок аналогична обработке стандартных подписок.  
  
## <a name="see-also"></a>См. также раздел  
 [Создание подписок для работающих в основном режиме серверов отчетов и управление этими подписками](../../reporting-services/subscriptions/create-and-manage-subscriptions-for-native-mode-report-servers.md)   
 [Подписки и доставка (службы Reporting Services)](../../reporting-services/subscriptions/subscriptions-and-delivery-reporting-services.md)   
 [Веб-портал сервера отчетов (SSRS в собственном режиме)](../../reporting-services/web-portal-ssrs-native-mode.md)   
 [Создание подписок для работающих в основном режиме серверов отчетов и управление этими подписками](create-and-manage-subscriptions-for-native-mode-report-servers.md)   
 [Работа с подписками на веб-портале](../../reporting-services/working-with-subscriptions-web-portal.md) [Использование страницы "Мои подписки" (сервер отчетов в собственном режиме)](../../reporting-services/subscriptions/use-my-subscriptions-native-mode-report-server.md)  
 