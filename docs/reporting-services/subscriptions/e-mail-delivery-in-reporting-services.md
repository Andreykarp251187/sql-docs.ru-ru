---
title: Доставка электронной почтой в службах Reporting Services | Документы Майкрософт
ms.date: 03/14/2017
ms.prod: reporting-services
ms.prod_service: reporting-services-native
ms.technology: subscriptions
ms.topic: conceptual
helpviewer_keywords:
- subscriptions [Reporting Services], e-mail
- e-mail [Reporting Services]
- mail [Reporting Services]
ms.assetid: fda2f130-97b9-4258-9dbb-e93a70f4d08a
author: maggiesMSFT
ms.author: maggies
ms.openlocfilehash: b2d5f511fe6008801b25f7c93300911851482025
ms.sourcegitcommit: 43c3d8939f6f7b0ddc493d8e7a643eb7db634535
ms.translationtype: MTE75
ms.contentlocale: ru-RU
ms.lasthandoff: 10/14/2019
ms.locfileid: "72305047"
---
# <a name="e-mail-delivery-in-reporting-services"></a>Доставка электронной почтой в службах Reporting Services
  Службы SQL Server [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] включают модуль доставки электронной почты, что дает возможность доставлять по электронной почте отчеты отдельным пользователям или группам пользователей. Чтобы отправить отчет по электронной почте, следует настроить сервер отчетов для доставки по электронной почте и определить либо стандартную подписку, либо управляемую данными подписку. Одна подписка не может доставить несколько отчетов в одном электронном сообщении. Однако можно создать несколько подписок.  
  
 Сервер отчетов подключается к почтовому серверу через стандартное соединение. Он не использует подключение, зашифрованное с помощью Secure Sockets Layer (SSL). Почтовый сервер должен быть удаленным или локальным сервером Simple Mail Transport Protocol (SMTP), находящимся в той же сети, что и сервер отчетов.  
  
 Подробное пошаговое описание создания подписки см. в следующих разделах.  
  
-   [Создание подписок для работающих в основном режиме серверов отчетов и управление этими подписками](../../reporting-services/subscriptions/create-and-manage-subscriptions-for-native-mode-report-servers.md)  
  
-   [Создание подписок для серверов отчетов, работающих в режиме интеграции с SharePoint, и управление этими подписками](../../reporting-services/subscriptions/create-and-manage-subscriptions-for-sharepoint-mode-report-servers.md)  
  
||  
|-|  
|**[!INCLUDE[applies](../../includes/applies-md.md)]** [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Режим интеграции с SharePoint &#124; [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Собственный режим|  
  
## <a name="e-mail-delivery-options"></a>Параметры доставки электронной почты  
 Модуль доставки электронной почты сервера отчетов рассылает отчеты следующим образом.  
  
-   Посылает уведомление и гиперссылку на созданный отчет.  
  
-   Отправляет уведомление в поле «Тема» сообщения электронной почты. По умолчанию поле «Тема» в определении подписки включает следующие переменные, которые заменяются сведениями из отчета, когда обрабатывается подписка:  
  
     **\@ReportName** указывает название отчета;  
  
     **\@ExecutionTime** указывает дату выполнения отчета.  
  
     Можно объединить эти переменные со статическим текстом или изменить текст в поле «Тема» для каждой подписки.  
  
-   Посылает внедренный или прикрепленный отчет. Формат подготовки отчетов и веб-браузер определяют, является ли отчет внедренным или прикрепленным.  
  
     Если браузер поддерживает HTML 4.0 и MHTML, а вы выбираете формат подготовки отчета веб-архива, то отчет внедряется в текст сообщения. Все другие форматы подготовки отчета (CSV, PDF и т. д.) рассылают отчеты в виде вложений. Для серверов отчетов в основном режиме эту функцию можно отключить в файле конфигурации RSReportServer.config.  
  
     [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] не проверяют размер вложения или сообщения перед отправкой отчета. Если вложение или сообщение превышает максимальный предел, допустимый почтовым сервером, отчет не будет доставлен. Для больших отчетов выберите другой вариант доставки отчетов (например, URL-адрес или уведомление).  
  
 При создании подписки устанавливаются параметры доставки отчетов, которые определяют, как доставляется отчет. Например, при выборе в подписке параметра **Включить ссылку** электронное сообщение будет содержать гиперссылку на отчет.  
  
## <a name="native-mode-role-based-e-mail-settings"></a>Параметры электронной почты, основанные на ролях, для основного режима  
 В среде сервера отчетов в основном режиме параметры электронной почты, с которыми вы работаете, меняются в зависимости от того, включает ли в себя ваша роль задачу "Управление отдельными подписками" или задачу "Управление всеми подписками".  
  
|Задача|Доступные настройки|  
|----------|------------------------|  
|Управление отдельными подписками|Отображает поля, которые позволяют пользователю работать автоматически и послать отчет самому себе. В этом режиме поля, которые принимают псевдонимы электронной почты, недоступны.|  
|Управление всеми подписками|Отображает поля, которые обеспечивают более широкое распространение, включая "Кому:", "Копия:", "СК:" и "Ответить:", предоставляющие дополнительные способы направить отчет большему числу подписчиков. Доступность полей псевдонимов электронной почты определяется через параметры файла конфигурации RSReportServer.|  
  
## <a name="specifying-e-mail-addresses-in-a-subscription"></a>Указание адресов электронной почты в подписке  
 Если отчеты распространяются через корпоративную сеть, и используется шлюз SMTP к серверу [!INCLUDE[msCoName](../../includes/msconame-md.md)] Exchange, введите псевдоним электронной почты (как при отправке электронного сообщения). Если доставка относится к внешней учетной записи электронной почты, введите полный адрес электронной почты. Если вы указываете дополнительные адреса электронной почты для добавления других лиц в подписку, подписчики получают точную копию отчета, созданного при этой подписке.  
  
 Сервер отчетов не проверяет адреса электронной почты и не получает адреса электронной почты с почтового сервера. Нужно знать заранее, какой адрес электронной почты будет использоваться. По умолчанию можно послать по электронной почте отчеты на любую допустимую учетную запись электронной почты в пределах или за пределами вашей организации. Установки конфигурации могут быть использованы, однако для ограничения доставки электронной почты до узлов почтового сервера, идентифицируемых по имени, можно указать дополнительные узлы, если хотите поддержать доставку электронной почты людям, которые не являются элементами вашей организации.  
  
 Электронное сообщение, используемое для доставки отчета, должно быть отправлено от имени учетной записи электронной почты, которая определяется почтовым сервером. Установка конфигурации указывает учетную запись электронной почты. Учетная запись электронной почты используется для всех отчетов, рассылаемых модулем доставки по электронной почте; нельзя указать несколько учетных записей или изменять учетную запись для отдельных отчетов.  
  
## <a name="controlling-e-mail-delivery"></a>Контроль доставки электронной почты  
 Сервер отчетов можно настроить таким образом, чтобы распространение по электронной почте ограничивалось только определенными доменами. Например, можно запретить серверу отчетов в основном режиме доставку отчета всем доменам, кроме указанных в списке файла конфигурации **RSReportServer.config** .  
  
 Кроме того, можно настроить конфигурацию таким образом, чтобы поле **Кому** в подписке было скрыто. В этом случае отчеты будут доставляться только пользователю, который определяет подписку. Однако после отправки отчета пользователю можно явно запретить его пересылку.  
  
 Наиболее эффективный путь управления распространением отчетов — настроить сервер отчетов так, чтобы он отправлял только URL-адрес сервера отчетов. Сервер отчетов управляет доступом к отчетам с помощью проверки подлинности Windows и модели авторизации на основе ролей. Если пользователь случайно получит электронное письмо с отчетом, не предназначенным для этого пользователя, то сервер не отобразит этот отчет. Дополнительные сведения о подписках см. в следующих разделах.  
  
## <a name="e-mail-server-configuration"></a>Настройка почтового сервера  
 Для сервера отчетов в основном режиме модуль доставки электронной почты настраивается с помощью диспетчера конфигурации [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] основного режима и путем изменения файлов конфигурации [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] . Для сервера отчетов в режиме SharePoint модуль доставки электронной почты настраивается с помощью страниц управления SharePoint и сценариев PowerShell.  
  
 
 Дополнительные сведения о настройке сервера отчетов в основном режиме см. в разделе [Настройки электронной почты — основной режим служб Reporting Services (диспетчер конфигураций)](../install-windows/e-mail-settings-reporting-services-native-mode-configuration-manager.md).
 
 
 Дополнительные сведения о настройке сервера отчетов в режиме интеграции с SharePoint см. в следующих разделах:  
  
  
## <a name="see-also"></a>См. также:  
 [Задачи и разрешения](../../reporting-services/security/tasks-and-permissions.md)   
 [Подписки и доставка (службы Reporting Services)](../../reporting-services/subscriptions/subscriptions-and-delivery-reporting-services.md)   
 [Подписки, управляемые данными](../../reporting-services/subscriptions/data-driven-subscriptions.md)   
 [Назначения ролей](../../reporting-services/security/role-assignments.md)  
  
  
