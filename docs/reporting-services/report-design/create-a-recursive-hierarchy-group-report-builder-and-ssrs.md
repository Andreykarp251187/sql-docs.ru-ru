---
title: Создание группы рекурсивной иерархии (построитель отчетов) | Документация Майкрософт
description: Узнайте, как организовать данные в отчете с разбивкой на страницы из одного набора данных отчета, который содержит уровни иерархии, с помощью группы рекурсивной иерархии.
ms.date: 03/01/2017
ms.prod: reporting-services
ms.prod_service: reporting-services-native
ms.technology: report-design
ms.topic: conceptual
ms.assetid: 8b830ba5-4d64-4348-a2b1-76b9338a1462
author: maggiesMSFT
ms.author: maggies
ms.openlocfilehash: 9d72c85df464893a4f7e7d6ba1f183a3702aee87
ms.sourcegitcommit: 02b22274da4a103760a376c4ddf26c4829018454
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/11/2020
ms.locfileid: "84681533"
---
# <a name="create-a-recursive-hierarchy-group-report-builder-and-ssrs"></a>Создание группы рекурсивной иерархии (построитель отчетов и службы SSRS)
В отчетах с разбиением на страницы [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] группа рекурсивной иерархии организует данные отдельного набора данных отчета, включающего несколько уровней иерархии, например структуру подчинения для иерархии связей "начальник-подчиненный" в организации.  
  
 Прежде чем организовать данные в таблице в группу рекурсивной иерархии, необходимо получить один набор данных, содержащий все иерархические данные. При этом необходимы отдельные поля для группируемого элемента и для элемента, по которому происходит группирование. Например, набор данных, в котором необходимо провести рекурсивное группирование подчиненных каждого руководителя, может содержать в строках такие записи: имя, имя сотрудника, идентификатор сотрудника и идентификатор руководителя.  
  
> [!NOTE]  
>  [!INCLUDE[ssRBRDDup](../../includes/ssrbrddup-md.md)]  
  
## <a name="to-create-a-recursive-hierarchy-group"></a>Создание группы рекурсивной иерархии  
  
1.  В представлении конструктора добавьте таблицу и перетащите туда поля набора данных, которые нужно отобразить. Обычно поле, отображаемое в виде иерархии, находится в первом столбце.  
  
2.  Чтобы выбрать таблицу, щелкните правой кнопкой мыши в любой ее точке. Панель группирования отображает группу сведений для выбранной таблицы. На панели "Группы строк" щелкните правой кнопкой мыши группу **Сведения**и выберите пункт **Изменить группу**. Откроется диалоговое окно **Свойства группы** .  
  
3.  Щелкните **Добавить**в области **Выражения группирования**. В сетке появится новая строка.  
  
4.  В списке **Группировать по** введите или выберите поле для группирования.  
  
5.  Щелкните **Дополнительно**.  
  
6.  В поле **Рекурсивный родитель** введите или выберите поле для группирования.  
  
7.  [!INCLUDE[clickOK](../../includes/clickok-md.md)]  
  
     Запустите отчет. Отчет выведет группу рекурсивной иерархии, хотя и не выделит иерархию с помощью отступов.  
  
## <a name="to-format-a-recursive-hierarchy-group-with-indent-levels"></a>Форматирование группы рекурсивной иерархии с помощью отступов  
  
1.  Щелкните текстовое поле, содержащее поле, к которому нужно добавить уровни отступа для вывода формата иерархии. Свойства этого текстового поля отобразятся на панели «Свойства».  
  
    > [!NOTE]  
    >  Если панель "Свойства" не отображается, щелкните **Свойства** на вкладке **Вид** .  
  
2.  В области "Свойства" разверните узел **Заполнение**, щелкните **Влево** и в раскрывающемся списке выберите пункт **\<Expression...>** .  
  
3.  На панели «Выражение» введите следующее выражение:  
  
     `=CStr(2 + (Level()*10)) + "pt"`  
  
     Для свойств заполнения необходимо указать строку в формате *nnyy*, где *nn* — число, а *yy* — единица измерения. Приведенное выражение создает строку, в которой используется функция **Level** для увеличения отступа в зависимости от уровня рекурсии. Например, строка с уровнем 1 будет иметь отступ в 12 пунктов (2 + (1\*10)), а строка с уровнем 3 — отступ в 32 пункта (2 + (3\*10)). Дополнительные сведения о функции **Level** см. в разделе [Level](../../reporting-services/report-design/report-builder-functions-level-function.md).  
  
4.  [!INCLUDE[clickOK](../../includes/clickok-md.md)]  
  
     Запустите отчет. Отчет выведет группированные данные в иерархическом представлении.  
  
## <a name="see-also"></a>См. также:  
 [Создание групп рекурсивной иерархии (построитель отчетов и службы SSRS)](../../reporting-services/report-design/creating-recursive-hierarchy-groups-report-builder-and-ssrs.md)   
 [Фильтрация, группирование и сортировка данных (построитель отчетов и службы SSRS)](../../reporting-services/report-design/filter-group-and-sort-data-report-builder-and-ssrs.md)   
 [Справочник по агрегатным функциям (построитель отчетов и службы SSRS)](../../reporting-services/report-design/report-builder-functions-aggregate-functions-reference.md)   
 [Таблицы &#40;построитель отчетов и службы SSRS&#41;](../../reporting-services/report-design/tables-report-builder-and-ssrs.md)   
 [Матрицы &#40;построитель отчетов и службы SSRS&#41;](../../reporting-services/report-design/create-a-matrix-report-builder-and-ssrs.md)   
 [Списки &#40;построитель отчетов и службы SSRS&#41;](../../reporting-services/report-design/create-invoices-and-forms-with-lists-report-builder-and-ssrs.md)   
 [Таблицы, матрицы и списки (построитель отчетов и службы SSRS)](../../reporting-services/report-design/tables-matrices-and-lists-report-builder-and-ssrs.md)  
  
  
