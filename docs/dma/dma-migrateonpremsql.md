---
title: Обновление SQL Server с помощью Помощник по миграции данных
description: Узнайте, как использовать Помощник по миграции данных для обновления локальной SQL Server до более поздней версии SQL Server или для SQL Server на виртуальных машинах Azure.
ms.custom: seo-lt-2019
ms.date: 05/18/2019
ms.prod: sql
ms.prod_service: dma
ms.reviewer: ''
ms.technology: dma
ms.topic: conceptual
keywords: ''
helpviewer_keywords:
- Data Migration Assistant, on-premises SQL Server
ms.assetid: ''
author: rajeshsetlem
ms.author: rajpo
ms.openlocfilehash: 00d27decc533d33056a7cc0cb19c2584fea564fb
ms.sourcegitcommit: fb1430aedbb91b55b92f07934e9b9bdfbbd2b0c5
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/07/2020
ms.locfileid: "82885872"
---
# <a name="upgrade-sql-server-using-the-data-migration-assistant"></a>Обновление SQL Server с помощью Помощник по миграции данных

Помощник по миграции данных обеспечивает простую оценку SQL Server в локальной среде и обновления до более поздних версий SQL Server или миграций для SQL Server на виртуальных машинах Azure или базе данных SQL Azure.

В этой статье приведены пошаговые инструкции по обновлению SQL Server локальной версии до более поздних версий SQL Server или для SQL Server на виртуальных машинах Azure с помощью Помощник по миграции данных.

## <a name="create-a-new-migration-project"></a>Создание проекта миграции

1. На левой панели выберите **создать** (+), а затем тип проекта **Миграция** .

2. Задайте тип исходного и целевого серверов, чтобы **SQL Server** , если выполняется обновление локальной SQL Server до более поздней версии локального SQL Server.

3. Щелкните **Создать**.

   ![Создание проекта миграции](../dma/media/NewCreate.png)

## <a name="specify-the-source-and-target"></a>Указание источника и целевого объекта

1. В качестве источника введите SQL Server имя экземпляра в поле **имя сервера** в разделе **сведения о сервере источника** . 

2. Выберите **Тип проверки подлинности**, поддерживаемый исходным экземпляром SQL Server.

3. В качестве целевого объекта введите SQL Server имя экземпляра в поле **имя сервера** в разделе **сведения о целевом сервере** . 

4. Выберите **тип проверки подлинности** , поддерживаемый целевым экземпляром SQL Server.

5. Рекомендуется зашифровать подключение, выбрав **шифрование соединения** в разделе **Свойства соединения** .

6. Нажмите кнопку **Далее**.

   ![Укажите исходную и целевую страницы](../dma/media/SourceTarget.png)

## <a name="add-databases"></a>Добавить базы данных

1. Выберите конкретные базы данных, которые требуется перенести, выбрав эти базы данных в левой области страницы **Добавление баз данных** .

   По умолчанию для миграции выбраны все пользовательские базы данных в экземпляре SQL Server источника.

2. Используйте параметры миграции в правой части страницы, чтобы задать параметры миграции, применяемые к базам данных, выполнив следующие действия.

   > [!NOTE]
   > Вы можете применить параметры миграции ко всем переносимым базам данных, выбрав сервер в левой области. Можно также настроить отдельную базу данных с конкретными параметрами, выбрав ее в левой области.

    а. Укажите **общее расположение, доступное на исходном и целевом серверах SQL Server для операции резервного копирования**. Убедитесь, что учетная запись службы, в которой работает исходный экземпляр SQL Server, имеет права записи в общем расположении, а учетная запись целевой службы имеет права на чтение в общем расположении.

    б. Укажите расположение для восстановления данных и файлов журнала транзакций на целевом сервере.

    ![Страница «Добавление баз данных»](../dma/media/AddDatabases.png)

3. Введите общее расположение, к которому имеет доступ исходный и целевой SQL Server экземпляры, в поле **Параметры общей** папки.

4. Если не удается предоставить общее расположение, доступ к которому имеют и исходный, и целевой серверы SQL Server, установите флажок **Копировать резервные копии базы данных в другое расположение, из которого целевой сервер может выполнять чтение и восстановление**. Затем введите значение для **параметра расположение резервных копий для восстановления** . 

   Убедитесь, что у учетной записи пользователя, работающей Помощник по миграции данных, есть права на чтение расположения резервной копии и права на запись в расположение, из которого будет восстановлен целевой сервер.

   ![Возможность копирования резервных копий базы данных в другое расположение](../dma/media/CopyDatabaseDifferentLocation.png)

5. Выберите **Далее**.

Помощник по миграции данных выполняет проверки для папок резервных копий, данных и файлов журналов. Если проверка завершится неудачно, исправьте параметры и нажмите кнопку **Далее**.

## <a name="select-logins"></a>Выберите имена для входа

1. Выберите конкретные имена входа для миграции.

   > [!IMPORTANT]
   > Не забудьте выбрать имена входа, сопоставленные с одним или несколькими пользователями в базах данных, выбранных для миграции.   

   По умолчанию для миграции выбраны все имена входа SQL Server и Windows, подходящие для миграции.

2. Выберите **начать миграцию**.

   ![Выбор имен для входа и запуск миграции](../dma/media/SelectLogins.png)

## <a name="view-results"></a>Просмотр результатов

Ход миграции можно отслеживать на странице **Просмотр результатов** .

![Страница «Просмотр результатов»](../dma/media/ViewResults.png)

## <a name="export-migration-results"></a>Экспортировать результаты миграции

1. Нажмите кнопку **Экспорт отчета** в нижней части страницы **Просмотр результатов** , чтобы сохранить результаты миграции в CSV-файл.

2. Просмотрите сохраненный файл, чтобы получить сведения о миграции имени входа, а затем проверьте изменения.

## <a name="see-also"></a>См. также раздел

- [Помощник по миграции данных (DMA)](../dma/dma-overview.md)
- [Помощник по миграции данных: параметры конфигурации](../dma/dma-configurationsettings.md)
- [Помощник по миграции данных: рекомендации](../dma/dma-bestpractices.md)
