---
title: Новые возможности Помощник по миграции данных (SQL Server) | Документация Майкрософт
ms.custom: ''
ms.date: 11/05/2019
ms.prod: sql
ms.prod_service: dma
ms.reviewer: ''
ms.technology: dma
ms.topic: conceptual
keywords: ''
helpviewer_keywords:
- Data Migration Assistant, new features
ms.assetid: ''
author: HJToland3
ms.author: jtoland
ms.openlocfilehash: 83009008745a696919aa5ae5795d60ddfe9ba80b
ms.sourcegitcommit: b87d36c46b39af8b929ad94ec707dee8800950f5
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2020
ms.locfileid: "73632882"
---
# <a name="whats-new-in-data-migration-assistant"></a>Новые возможности Data Migration Assistant

В этой статье перечислены дополнения в каждом выпуске Помощник по миграции данных.

## <a name="data-migration-assistant-v-50"></a>Помощник по миграции данных v 5,0

Выпуск версии 5.0 Помощник по миграции данных обеспечивает поддержку следующих служб:

- SQL Server 2019 для Windows и SQL Server 2019 для Linux в качестве целевых объектов для оценки и обновления.
- Сохранение и загрузка оценок, включая поддержку сохранения и загрузки оценок, созданных в более ранних версиях Помощник по миграции данных.
- Оценка проектов SQL Server Integration Services (SSIS), размещенных в пакетах SSISDB и SSIS, размещенных в хранилище пакетов. Помощник по миграции базы данных обнаруживает неподдерживаемые, частично поддерживаемые или устаревшие функции и проблемы совместимости, которые используются в исходных пакетах, и предоставляет рекомендации, помогающие устранить эти проблемы.
- Оценка запросов SQL от внешнего приложения, например запросов SQL в исходном коде C#. С помощью набора средств миграции доступа к данным можно создать полный отчет JSON для запросов SQL, используемых в исходном коде C#, а затем передать отчет в Помощник по миграции данных.

Кроме того, этот выпуск Помощник по миграции данных предоставляет дополнительные улучшения и исправления ошибок, и средство было обновлено до .NET 4.7.2.

## <a name="data-migration-assistant-v45"></a>Помощник по миграции данных версии 4.5

Выпуск версии 4.5 Помощник по миграции данных обеспечивает поддержку оценки миграции пакетов SQL Server Integration Services (SSIS), размещенных в файловой системе, в базу данных SQL Azure или управляемый экземпляр базы данных SQL Azure.

## <a name="data-migration-assistant-v44"></a>Помощник по миграции данных v 4.4

Выпуск версии 4.4 Помощник по миграции данных предоставляет поддержку для отправки оценок в службу "миграция Azure".

## <a name="data-migration-assistant-v43"></a>Помощник по миграции данных v 4.3

Выпуск версии 4.3 Помощник по миграции данных обеспечивает поддержку:

- Рекомендации по SKU для управляемых экземпляров базы данных SQL Azure на основе оценки рабочей нагрузки.
- RDS SQL Server в качестве источника для оценки.
- Оценка заданий агента для управляемого экземпляра базы данных SQL Azure в качестве целевого объекта.
- Возможность игнорировать определенные правила оценки; Список кодов ошибок, указанных в свойстве "Игнорирроркодес", настроенном в DMA, не будет отображаться в результатах оценки DMA.
- Оценка запросов T-SQL в действиях заданий и предоставление соответствующих рекомендаций
- Оценки расширенных событий (общедоступная Предварительная версия).

Кроме того, этот выпуск DMA обеспечивает улучшенную производительность для обработки большого числа объектов схемы в базах данных, а также исправления ошибок, связанных с:

- Процедуры, скомпилированные с собственной компиляцией, в некоторых случаях.
- Сложные схемы баз данных.

## <a name="data-migration-assistant-v42"></a>Помощник по миграции данных версии 4.2

Выпуск версии 4.2 Помощник по миграции данных обеспечивает поддержку оценки целевой готовности для одного или нескольких экземпляров сервера при переходе с локальной SQL Server на управляемый экземпляр базы данных SQL Azure. Теперь клиенты могут использовать командную строку Помощник по миграции данных для получения метаданных о схеме базы данных, обнаружения блокирования и изучения частично поддерживаемых или неподдерживаемых функций, влияющих на миграцию на управляемый экземпляр базы данных SQL Azure. Затем результаты можно будет визуализировать с помощью предоставленного шаблона Power BI.

## <a name="data-migration-assistant-v41"></a>Помощник по миграции данных версии 4.1

В выпуске Помощник по миграции данных версии 4.1 представлена поддержка комплексной оценки локальных SQL Server баз данных, переносимых на управляемый экземпляр базы данных SQL Azure.

Рабочий процесс оценки помогает обнаружить следующие проблемы, которые могут повлиять на миграцию в управляемый экземпляр базы данных SQL Azure.

- **Неподдерживаемые или частично поддерживаемые функции**. Помощник по миграции данных оценивает базу данных исходного SQL Server для используемых функций, которые частично поддерживаются или не поддерживаются на целевом Управляемый экземпляр Базы данных SQL Azure. Затем средство предоставляет исчерпывающий набор рекомендаций, альтернативных подходов, доступных в Azure, и устраняет шаги, позволяющие клиентам учитывать эти сведения при планировании проектов миграции.

- **Проблемы совместимости**. Помощник по миграции данных также определяет проблемы совместимости, связанные со следующими областями:

  - Критические изменения. конкретные объекты схемы, которые могут нарушить функциональность, переданную в целевую базу данных.  Рекомендуется исправить эти объекты схемы после миграции базы данных.
  - Изменения поведения. объекты схемы, о которых сообщается, могут продолжать работать, но могут демонстрировать различные действия, например снижение производительности.
  - Информационные проблемы. Эти объекты не влияют на миграцию, но могут быть устаревшими в SQL Server выпусках функций.

После завершения оценки используйте нашу [Azure Database Migration Service](https://azure.microsoft.com/services/database-migration/) (DMS), чтобы выполнить миграцию баз данных SQL Server в управляемый экземпляр базы данных SQL Azure.  DMS поддерживает миграцию базы данных в [автономном режиме](https://docs.microsoft.com/azure/dms/tutorial-sql-server-to-managed-instance) (одноразовое) и в режиме «в [сети](https://docs.microsoft.com/azure/dms/tutorial-sql-server-managed-instance-online) » (минимальное время простоя) для управляемый экземпляр базы данных SQL Azure.

## <a name="data-migration-assistant-v40"></a>Помощник по миграции данных версии 4.0

В выпуске Помощник по миграции данных версии 4.0 представлена функция рекомендаций SKU базы данных SQL Azure, которая позволяет пользователям указывать минимальный рекомендуемый номер SKU базы данных SQL Azure на основе счетчиков производительности, собранных с компьютеров, на которых размещается база. Эта функция предоставляет рекомендации, связанные с ценовой категорией, уровнем вычислений и максимальным размером данных, а также оценочной стоимостью в месяц. Кроме того, она предоставляет возможность выполнения операций подготовки всех баз данных в Azure.

> [!NOTE]
> В настоящее время эта функция доступна только через интерфейс командной строки (CLI).

Дополнительные сведения см. в статье как [определить правильный номер SKU базы данных SQL Azure для вашей локальной базы данных](dma-sku-recommend-sql-db.md).

## <a name="data-migration-assistant-v36"></a>Помощник по миграции данных v 3.6

Выпуск версии 3.6 Помощник по миграции данных вводит "автоматическое исправление" для объектов схемы, на которые влияют наиболее распространенные блокирующие миграцию.

Этот выпуск предоставляет AutoFix для следующих проблем, связанных с блокировкой и изменением поведения:

- Объекты схемы, использующие синтаксис неквалифицированного объединения.
- Объекты схемы, использующие устаревшую инструкцию RAISEERROR.
- Инструкции SQL, использующие целочисленный литерал ORDER BY.

Помощник по миграции данных выполняет автоматическое преобразование схемы для объектов, затрагиваемых указанными проблемами, и запрашивает у пользователя подтверждение перед тем, как продолжить преобразование схемы. Пользователи могут просматривать предлагаемые изменения кода, а затем либо принять, либо отклонить все преобразования для любого объекта базы данных.

Помощник по миграции данных использует технологию синтеза программ Майкрософт (PROSE) для предложения исправлений кода. Дополнительные сведения о [PROSE](https://microsoft.github.io/prose/).

## <a name="data-migration-assistant-v35"></a>Помощник по миграции данных v 3.5

Выпуск версии 3.5 Помощник по миграции данных включает следующие дополнения.

- Значительные улучшения производительности при переходе на базу данных SQL Azure (тесты производительности показывают, что процесс выполняется в четыре раза быстрее, чем в предыдущих версиях Помощник по миграции данных).
- Объем памяти более оптимизирован для повышения стабильности рабочего процесса миграции.
- Возможность пропускать оценки во время миграции схемы и данных (если вы уже выполнили оценку и устранили все объекты схемы до миграции).
- Исправление, устраняющее проблему, связанную с аварийным завершением работы средства при неправильном пути к общей сетевой папке для файлов резервных копий при обновлении устаревшей версии SQL Server локально до более поздней версии или SQL Server на виртуальных машинах Azure.

## <a name="data-migration-assistant-v34"></a>Помощник по миграции данных v 3.4

Выпуск версии 3.4 Помощник по миграции данных включает следующие дополнения.

- Поддержка SQL Server 2017 в качестве источника для миграции в базу данных SQL Azure.
- Улучшения в отношении стабильности, производительности и правил оценки.

## <a name="ddata-migration-assistant-v33"></a>Ддата Помощник по миграции v 3.3

Выпуск версии 3.3 Помощник по миграции данных обеспечивает миграцию локального экземпляра SQL Server в новую версию SQL Server 2017, как в Windows, так и в Linux. Хотя общий рабочий процесс миграции для Windows и Linux одинаков, переход на SQL Server 2017 для Linux требует нескольких дополнительных соображений.

### <a name="specifying-the-back-up-path"></a>Указание пути резервного копирования

В Linux и Windows используются разные форматы пути. В результате переход на SQL Server 2017 в Linux требует, чтобы пользователь предоставил версии Windows и Linux пути в расположение физического файла. Вы можете указать обе версии пути различными способами в зависимости от расположения физического файла.
Если физический файл резервной копии находится на компьютере под управлением:

- Linux используйте общую папку "Samba" для совместного использования файла с другими компьютерами в сети.
- Windows используйте команду "МНТ", чтобы подключить общую папку на компьютере под управлением Linux.

> [!NOTE]
> Сведения об использовании общего ресурса "Samba" или команды "МНТ" выходят за рамки этой статьи.

### <a name="migrating-windows-logins"></a>Миграция имен входа Windows

Несмотря на то, что миграция имен входа Active Directory (AD) официально поддерживается SQL Server 2017 в Linux, для успешной работы требуется дополнительная настройка. Подробные сведения о настройке имен входа Active Directory для SQL Server 2017 в Linux см. в статье [Active Directory проверка подлинности с помощью SQL Server на Linux](https://docs.microsoft.com/sql/linux/sql-server-linux-active-directory-authentication) . После выполнения требуемой настройки процесс установки завершится, и вы сможете выполнить миграцию Active Directory имен входа в обычном режиме. Стандартная проверка подлинности SQL работает должным образом без каких бы то ни было дополнительных настроек.

## <a name="data-migration-assistant-v32"></a>Помощник по миграции данных версии 3.2

Выпуск версии 3.2 Помощник по миграции данных включает следующие дополнения.

- Перенос схемы и данных включается из локальных баз данных SQL Server в базу данных SQL Azure с помощью нового рабочего процесса миграции.
- При переносе схемы в базу данных SQL Azure сценарии DMA зависят от объектов базы данных источника, предоставляет рекомендации по устранению потенциальных проблем совместимости, а затем развертывает схему в Azure.

## <a name="data-migration-assistant-v31"></a>Помощник по миграции данных версии 3.1

Выпуск версии 3.1 Помощник по миграции данных содержит следующие дополнения.

- Улучшенные рекомендации по оценке баз данных SQL Azure с точки зрения параметров сортировки базы данных, использование неподдерживаемых системных хранимых процедур и объектов CLR.
- Руководство по оценке уровней совместимости 130, 120, 110 и 100 при миграции в базы данных SQL Azure.

## <a name="data-migration-assistant-v30"></a>Помощник по миграции данных версии 3.0

Выпуск версии 3.0 Помощник по миграции данных расширяет оценку базы данных SQL Azure, чтобы предоставить исчерпывающие рекомендации, которые помогут устранить проблемы, связанные с:

- Проблемы с блокировкой миграции.
- Частично или неподдерживаемые функции и функции.

## <a name="data-migration-assistant-v21"></a>Помощник по миграции данных версии 2.1

Выпуск версии 2.1 Помощник по миграции данных включает следующие дополнения.

- Поддержка командной строки для выполнения оценок в автоматическом режиме, которая помогает выполнять оценки в масштабе. Дополнительные сведения см. в статье [запуск помощник по миграции данных из командной строки](dma-commandline.md).
- Повышение производительности при запуске и закрытии прямого доступа пользователей.
- Возможность настройки времени ожидания подключения SQL. Дополнительные сведения см. в статье [Параметры конфигурации для помощник по миграции данных](dma-configurationsettings.md).

## <a name="data-migration-assistant-v20"></a>Помощник по миграции данных версии 2.0

Выпуск версии 2.0 Помощник по миграции данных содержит улучшенные рекомендации по функциям базы данных Stretch для предоставления правильных приоритетных таблиц, что позволяет максимально увеличить экономию хранилища.

## <a name="data-migration-assistant-v10"></a>Помощник по миграции данных v 1.0

Выпуск версии 1.0 Помощник по миграции данных является первоначальным выпуском и предоставляет следующие сведения:

- Обнаружение проблем, которые могут повлиять на обновление до локальной версии SQL Server. Все результаты описаны как проблемы совместимости, и они подразделяются на следующие области:
  - Критические изменения
  -  Изменения в поведении
  - Устаревшие функции
- Обнаружение новых функций в целевой SQL Server платформе, которую может использовать база данных после обновления. Все выводы описаны как рекомендации по функциям и делятся на следующие области:
  - Производительность
  - безопасность
  - Память
- Современные возможности для выполнения оценки.

## <a name="see-also"></a>См. также раздел

[Общие сведения о Помощник по миграции данных](../dma/dma-overview.md)
