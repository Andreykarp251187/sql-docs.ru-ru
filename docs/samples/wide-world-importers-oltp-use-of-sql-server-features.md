---
title: Использование функции SQL Server и возможности | Документация Майкрософт
ms.prod: sql
ms.prod_service: sql
ms.technology: samples
ms.custom: ''
ms.date: 01/21/2017
ms.reviewer: ''
ms.topic: conceptual
ms.assetid: 06f89721-8478-4abc-8ada-e9c73b08bf51
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: a2dfe7b9efa78d03a2233eedaa040e47d6f2b25c
ms.sourcegitcommit: b2464064c0566590e486a3aafae6d67ce2645cef
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/15/2019
ms.locfileid: "68067657"
---
# <a name="use-of-sql-server-features-and-capabilities"></a>Использование функции SQL Server и возможности

[!INCLUDE[appliesto-ss-asdb-xxxx-xxx-md](../includes/appliesto-ss-asdb-xxxx-xxx-md.md)]

WideWorldImporters использовать функции SQL Server и возможности базы данных OLTP.

WideWorldImporters разработано для демонстрации многие из ключевых функций SQL Server, включая последние функции, представленные в SQL Server 2016. Ниже перечислены функции и возможности SQL Server. Каждая строка также содержит описание использования функций в WideWorldImporters.  
&nbsp;

|Функция SQL Server или возможность|Используйте в WideWorldImporters|
|:-------------------------------|:------------------------|
|Темпоральные таблицы|Существует множество темпоральных таблиц, включая все ссылки на таблицы поиска стиля и основной сущности, такие как StockItems, клиентами и поставщиками. Использование темпоральных таблиц позволяет для удобного отслеживания истории этих сущностей.|
|Вызовы AJAX для JSON|Вызовы AJAX часто используются для запроса этих таблиц: Лица, клиентами, поставщиками и StockItems. Вызовы возвращают данные в формате JSON. Например, см. в хранимой процедуре `Website.SearchForCustomers`.|
|Контейнеры свойство/значение JSON|Несколько таблиц имеют столбцы, которые предоставляют данные JSON для расширения реляционных данных в таблице. Например `Application.SystemParameters` имеется столбец для параметров приложения и `Application.People` со столбцом настроек записей пользователя. Используйте эти таблицы `nvarchar(max)` столбец для записи данных JSON, а также ограничение CHECK, с помощью встроенной функции `ISJSON` для обеспечения столбец значений являются действительными объектами JSON.|
|Безопасность на уровне строк (RLS)|Безопасность уровня строк (RLS) используется для ограничения доступа к таблице Customers, на основе членства в роли. Каждой территории продаж имеет роль и пользователя. Для просмотра доступа RLS ограничить в действии, используйте соответствующий сценарий в script.zip образец, который является частью [выпуске примера](https://go.microsoft.com/fwlink/?LinkID=800630).|
|операционной аналитике в режиме реального времени|(Полная версия базы данных) В таблицах транзакций core `Sales.InvoiceLines` и `Sales.OrderLines` имеют индекс columnstore на некластеризованный для поддержки эффективного выполнения аналитических запросов в транзакционную базу данных с минимальным влиянием на рабочую нагрузку. Выполнение транзакций и аналитики в ту же базу данных также называется [гибридных транзакционная/Analytical обработки (HTAP)](https://wikipedia.org/wiki/Hybrid_Transactional/Analytical_Processing_(HTAP)). Чтобы увидеть это в действии, используйте соответствующий сценарий в образце script.zip, входящий в состав из [выпуске примера](https://go.microsoft.com/fwlink/?LinkID=800630).|
|PolyBase|Чтобы просмотреть этот PolyBase в действии, с помощью внешней таблицы с помощью общедоступного набора данных, размещенных в хранилище BLOB-объектов Azure, используйте соответствующий в образце script.zip, входящий в состав из [выпуске примера](https://go.microsoft.com/fwlink/?LinkID=800630).|
|Выполняющаяся в памяти OLTP|(Полная версия базы данных) Табличные типы являются все оптимизированные для памяти, таким образом, возвращающих табличные значения параметров (Tvp) все преимущества оптимизации для памяти.<br/><br/>Две таблицы мониторинга `Warehouse.VehicleTemperatures` и `Warehouse.ColdRoomTemperatures`, являются оптимизированных для памяти. Оптимизация памяти позволяет таблице ColdRoomTemperatures для заполнения выше скоростью, чем традиционные дисковой таблицы. В таблице VehicleTemperatures содержит полезные данные JSON и предоставляет возможности для расширения для сценариев Интернета вещей. В таблице VehicleTemperatures пригоден для сценариев, включающих концентраторов событий, Stream Analytics и Power BI.<br/><br/>Хранимая процедура `Website.RecordColdRoomTemperatures` компилируется в собственном коде для дальнейшего повышения производительности записи "холодных" температуры комнаты.<br/><br/>Чтобы увидеть пример выполняющейся в памяти OLTP в действии, см. в разделе драйвер расположения автомобиля рабочей нагрузки в рабочей нагрузке drivers.zip, входящий в состав из [выпуске примера](https://go.microsoft.com/fwlink/?LinkID=800630).|
|Кластеризованный индекс columnstore|(Полная версия базы данных) Таблицы `Warehouse.StockItemTransactions` использует кластеризованный индекс columnstore. Количество строк в этой таблице ожидается может увеличиться, и кластеризованный индекс columnstore значительно уменьшает размер на диске таблицы и повышает производительность запросов. Изменения в этой таблице, доступны только для вставки — нет без обновления и удаления для этой таблицы в рабочей нагрузки — и кластеризованный индекс columnstore выполняет подходит для рабочих нагрузок insert.|
|Динамическое маскирование данных|В схему базы данных маскирование данных был применен к сведениям о банковских удерживаемые для поставщиков, в таблице `Purchasing.Suppliers`. Персонал без прав администратора не будет иметь доступ к этим сведениям.|
|Always Encrypted|Демонстрация для постоянного шифрования включен в загружаемый samples.zip, входящий в состав из [выпуске примера](https://go.microsoft.com/fwlink/?LinkID=800630). Демонстрация создает ключ шифрования, а таблицы с помощью шифрования конфиденциальных данных и небольшой пример приложения, которое вставляет данные в таблицу.|
|База данных с поддержкой переноса|`Warehouse.ColdRoomTemperatures` Реализован как временная таблица таблиц и оптимизированных для памяти в полной версии образца базы данных. В архивную таблицу на диске и может быть растянуто в Azure.|
|Полнотекстовые индексы|Полнотекстовые индексы улучшить поиск сотрудников, клиентов и StockItems. Индексы применяются к запросам, только в том случае, если у вас есть полнотекстовое индексирование, установленных на экземпляре SQL Server. Непостоянные вычисляемый столбец используется для создания данных, полнотекстовые индексированные таблицы StockItems.<br/><br/>`CONCAT` используется для объединения полей для создания SearchData, полнотекстовый индекс.<br/>Чтобы включить использование полнотекстовых индексов в образце, выполните следующую инструкцию в базе данных:<br/><br/>`EXECUTE [Application].[Configuration_ConfigureFullTextIndexing]`<br/><br/>В процедуре создается полнотекстовый каталог по умолчанию, если ее еще не существует, после чего заменяет представления поиска полнотекстового поиска версиях эти представления).<br/><br/>Обратите внимание, что с помощью полнотекстовых индексов в SQL Server при выборе параметра полнотекстового поиска во время установки. База данных SQL Azure не требуется и конкретной конфигурации, чтобы включить полнотекстовые индексы.|
|Индексированные материализованных вычисляемых столбцов|Индексировать материализованные вычисляемые столбцы, используемые в SupplierTransactions и CustomerTransactions.|
|Проверочные ограничения|Является относительно сложным проверочного ограничения в `Sales.SpecialDeals`. Это гарантирует, что один и только один из DiscountAmount, DiscountPercentage, и настроен UnitPrice.|
|Ограничения уникальности|Многие, многие конструкции (и ограничения уникальности) задаются для `Warehouse.StockItemStockGroups`.|
|Секционирование таблиц|(Полная версия базы данных) Таблицы `Sales.CustomerTransactions` и `Purchasing.SupplierTransactions` секционируются по годам, с помощью функции секционирования `PF_TransactionDate` и схемы секционирования `PS_TransactionDate`. Секционирование позволяет повысить управляемость больших таблиц.|
|Обработка списка|Тип таблицы пример `Website.OrderIDList` предоставляется. Он используется пример процедуры `Website.InvoiceCustomerOrders`. В процедуре используется обобщенных табличных выражений (CTE), TRY/CATCH, JSON_MODIFY, XACT_ABORT, NOCOUNT, THROW и XACT_STATE для демонстрируется возможность обработки списка заказов, а не только один заказ, чтобы свести к минимуму приема-передачи между приложением компонент Database engine.|
|Сжатие GZip|В `Warehouse.VehicleTemperature` представление, с ним таблица содержит данные показаний датчиков. Но если эти данные являются более чем на несколько месяцев старый, сжимается в целях экономии пространства. Функция COMPRESS использует сжатие GZip.<br/><br/>Представление `Website.VehicleTemperatures` функция DECOMPRESS при получении данных, который был сжат.|
|Хранилище запросов|Query Store включена в базе данных. После выполнения нескольких запросов, выполните следующие действия:<br/><br/>1. Откройте базу данных в среде Management Studio.<br/>2. Откройте узел Store запроса, оно находится в базе данных.<br/>3. Откройте отчет *Топ ресурсоемких запросов*. См. в разделе выполнения запросов и планов запросов, которые вы только что выполнили см. в разделе.|
|STRING_SPLIT|Столбец `DeliveryInstructions` в таблице `Sales.Invoices` имеет значение с разделителями запятыми, который может использоваться для демонстрации STRING_SPLIT.|
|Аудит|Подсистема аудита SQL Server можно включить для этого образца базы данных, выполнив следующую инструкцию в базе данных:<br/><br/>`EXECUTE [Application].[Configuration_ApplyAuditing]`<br/><br/>В базе данных SQL Azure, включения аудита через [портала Azure](https://portal.azure.com/).<br/><br/>Операции обеспечения безопасности, включающие имена входа, роли и разрешения регистрируются во всех системах, где аудит включен (в том числе системы выпуск standard). Аудита направляется в журнал приложений, поскольку они доступны во всех системах и не требует дополнительных разрешений. Предупреждение указывает, учитывая, что для повышения безопасности, он должен перенаправляться в журнале безопасности или в файл в защищенную папку. Отобразится ссылка для описания требуется дополнительная настройка.<br/><br/>Для систем, выпуск enterprise или developer и evaluation аудит доступа ко всем данным финансовых транзакций.|
| &nbsp; | &nbsp; |
