---
title: Общие сведения о средствах DevOps для служб SQL Server Integration Services | Документация Майкрософт
description: Узнайте, как организовать непрерывную интеграцию и поставку для служб SSIS с помощью средств DevOps для служб SSIS.
ms.date: 12/06/2019
ms.topic: conceptual
ms.prod: sql
ms.prod_service: integration-services
ms.custom: ''
ms.technology: integration-services
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 6a1f903d0be82d6f5057af68dce80bda1e48238a
ms.sourcegitcommit: 58158eda0aa0d7f87f9d958ae349a14c0ba8a209
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/30/2020
ms.locfileid: "78225921"
---
# <a name="sql-server-integration-services-ssis-devops-tools-preview"></a>Средства DevOps для служб SQL Server Integration Services (SSIS) (предварительная версия)

Расширение [Средства DevOps для служб SSIS](https://marketplace.visualstudio.com/items?itemName=SSIS.ssis-devops-tools) доступно в магазине **Azure DevOps**.

Если у вас нет организации **Azure DevOps**, сначала зарегистрируйтесь для получения [Azure Pipelines](https://docs.microsoft.com/azure/devops/pipelines/get-started/pipelines-sign-up?view=azure-devops), а затем добавьте расширение **Средства DevOps для служб SSIS** согласно [инструкциям](https://docs.microsoft.com/azure/devops/marketplace/overview?view=azure-devops&tabs=browser#add-an-extension).

**Средства DevOps для служб SSIS** включают в себя задачу **Сборка SSIS** и задачу выпуска **Развертывание SSIS**.

- Задача **Сборка SSIS** поддерживает сборку файлов DTPROJ с использованием модели развертывания проекта или модели развертывания пакетов.

- Задача **Развертывание SSIS** поддерживает развертывание одного или нескольких файлов ISPAC в локальном каталоге служб SSIS и Azure-SSIS IR или файлов SSISDeploymentManifest и связанных с ними файлов в общей папке в локальной среде или Azure.

## <a name="ssis-build-task"></a>Задача сборки SSIS

![задача сборки](media/ssis-build-task.png)

### <a name="properties"></a>Свойства

#### <a name="project-path"></a>Путь к проекту

Путь к папке или файлу проекта, сборку которых необходимо выполнить. Если указан путь к папке, задача сборки SSIS рекурсивно ищет все файлы DTPROJ в этой папке и выполняют их сборку.

Путь к проекту не может быть *пустым*. Укажите **.** для построения из корневой папки репозитория.

#### <a name="project-configuration"></a>Конфигурация проекта

Имя конфигурации проекта, которую необходимо использовать для сборки. Если не указано, по умолчанию используется первая конфигурация проекта, определенная в каждом файле DTPROJ.

#### <a name="output-path"></a>Путь вывода

Путь к отдельной папке, в которой следует сохранить результаты сборки и которую можно опубликовать как артефакт сборки с помощью [задачи публикации артефактов сборки](https://docs.microsoft.com/azure/devops/pipelines/tasks/utility/publish-build-artifacts?view=azure-devops).

### <a name="limitations-and-known-issues"></a>Ограничения и известные проблемы

- Задача сборки SSIS использует Visual Studio и конструктор служб SSIS, которые должны быть установлены на агентах сборки. Поэтому, чтобы запустить задачу сборки SSIS в конвейере, необходимо выбрать **vs2017-win2016** для агентов, размещенных в Майкрософт, или установить Visual Studio и конструктор служб SSIS (расширение Visual Studio 2017 с SSDT 2017 или Visual Studio 2019 со службами SSIS) на локальных агентах.

- Для сборки проектов служб SSIS с использованием любых готовых компонентов (включая пакет дополнительных компонентов Azure для служб SSIS и другие компоненты сторонних производителей) эти компоненты должны быть установлены на компьютере, где работает агент конвейера.  Для размещенного агента Майкрософт пользователь может добавить [задачу скрипта PowerShell](https://docs.microsoft.com/azure/devops/pipelines/tasks/utility/powershell?view=azure-devops) или [задачу скрипта командной строки](https://docs.microsoft.com/azure/devops/pipelines/tasks/utility/command-line?view=azure-devops), чтобы скачать и установить компоненты перед выполнением задачи сборки SSIS. Ниже приведен пример скрипта PowerShell для установки пакета дополнительных компонентов Azure. 

```powershell
wget -Uri https://download.microsoft.com/download/E/E/0/EE0CB6A0-4105-466D-A7CA-5E39FA9AB128/SsisAzureFeaturePack_2017_x86.msi -OutFile AFP.msi

start -Wait -FilePath msiexec -Args "/i AFP.msi /quiet /l* log.txt"

cat log.txt
```

- Уровни защиты **EncryptSensitiveWithPassword** и **EncryptAllWithPassword** не поддерживаются задачей сборки SSIS. Эти два уровня защиты не должны использоваться ни в одном проекте служб SSIS в базе кода, иначе задача сборки служб SSIS зависнет во время выполнения из-за истечения времени ожидания.

- **ConnectByProxy** — новое свойство, недавно добавленное в SSDT. Установка SSDT на размещенном агенте Майкрософт, не обновлена, поэтому используйте собственный агент в качестве решения.

## <a name="ssis-deploy-task"></a>Задача развертывания SSIS

![задача развертывания](media/ssis-deploy-task.png)

### <a name="properties"></a>Свойства

#### <a name="source-path"></a>Исходный путь

Путь к исходным файлам ISPAC или SSISDeploymentManifest, которые требуется развернуть. Это может быть путь к папке или файлу.

#### <a name="destination-type"></a>Тип назначения

Тип назначения. В настоящее время задача развертывания SSIS поддерживает два типа.

- *Файловая система*: файлы SSISDeploymentManifest и связанные с ними файлы развертываются в указанной файловой системе. Поддерживается общая папка как в локальной среде, так и в Azure.
- *SSISDB*: файлы ISPAC развертываются в указанном каталоге служб SSIS, который может размещаться на локальном сервере SQL Server или в Azure-SSIS Integration Runtime.

#### <a name="destination-server"></a>Целевой сервер

Имя целевого сервера SQL. Это может быть имя локального сервера SQL Server, Базы данных SQL Azure или управляемого экземпляра Базы данных SQL Azure. Это свойство является видимым, только если выбран тип назначения SSISDB.

#### <a name="destination-path"></a>Конечный путь

Путь к конечной папке, в которой будет развернут исходный файл. Пример:

- /SSISDB/\<имяПапки\>
- \\\\\<имяКомпьютера\>\\\<имяОбщейПапки\>\\\<необязательноеИмяВложеннойПапки\>

Задача развертывания SSIS создаст папку и вложенную папку, если они не существуют.

#### <a name="authentication-type"></a>Authentication type (Тип проверки подлинности)

Тип проверки подлинности для доступа к указанному целевому серверу. Это свойство является видимым, только если выбран тип назначения SSISDB. Задача развертывания SSIS поддерживает всего четыре типа:

- Проверка подлинности Windows
- Проверка подлинности SQL Server
- "Active Directory — пароль";
- "Active Directory — встроенная".

Однако поддержка конкретного типа проверки подлинности зависит от типов целевого сервера и агента. Ниже приведена подробная матрица поддержки.

| |Размещенный агент Майкрософт|Локальный агент|
|---------|---------|---------|
|Локальный сервер или виртуальная машина SQL Server |Недоступно|Проверка подлинности Windows|
|Azure SQL|Проверка подлинности SQL Server <br> "Active Directory — пароль";|Проверка подлинности SQL Server <br> "Active Directory — пароль"; <br> "Active Directory — встроенная".|

#### <a name="domain-name"></a>Доменное имя

Доменное имя для доступа к указанной файловой системе. Это свойство является видимым, только если выбран тип назначения "Файловая система".
Его можно оставить пустым, если учетной записи пользователя для запуска локального агента предоставлен доступ к указанному конечному пути с правами на чтение и запись.

#### <a name="username"></a>Имя пользователя

Имя пользователя для доступа к указанной файловой системе или SSISDB. Это свойство является видимым, если выбран тип назначения "Файловая система" либо тип проверки подлинности "Проверка подлинности SQL Server" или "Active Directory — пароль".
Его можно оставить пустым, если выбран тип назначения "Файловая система", а учетной записи пользователя для запуска локального агента предоставлен доступ к указанному конечному пути с правами на чтение и запись.

#### <a name="password"></a>Пароль

Пароль для доступа к указанной файловой системе или SSISDB. Это свойство является видимым, если выбран тип назначения "Файловая система" либо тип проверки подлинности "Проверка подлинности SQL Server" или "Active Directory — пароль".
Его можно оставить пустым, если выбран тип назначения "Файловая система", а учетной записи пользователя для запуска локального агента предоставлен доступ к указанному конечному пути с правами на чтение и запись.

#### <a name="overwrite-existing-projects-or-ssisdeploymentmanifest-files-of-the-same-names"></a>Перезаписать существующие проекты или файлы SSISDeploymentManifest с совпадающими именами

Укажите, следует ли перезаписать существующие проекты или файлы SSISDeploymentManifest с совпадающими именами. Если выбрано значение "Нет", задача развертывания SSIS не будет развертывать эти проекты или файлы.

#### <a name="continue-deployment-when-error-occurs"></a>Продолжить развертывание при возникновении ошибки

Укажите, будет ли продолжаться развертывание оставшихся проектов или файлов при возникновении ошибки. Если выбрано значение "Нет", задача развертывания SSIS завершится немедленно при возникновении ошибки.

### <a name="limitations-and-known-issues"></a>Ограничения и известные проблемы

Задача развертывания SSIS в настоящее время не поддерживает следующие сценарии:

- настройка среды в каталоге служб SSIS;
- развертывание файла ISPAC на сервере SQL Server в Azure или в Управляемом экземпляре SQL Azure, допускающем только многофакторную проверку подлинности (MFA);
- развертывание пакетов в хранилище пакетов MSDB или SSIS.

## <a name="release-notes"></a>Заметки о выпуске

### <a name="version-013-preview"></a>Предварительная версия 0.1.3

Дата выпуска: 19 января 2020 г.

- Исправлена проблема, препятствующая развертыванию ISPAC, если исходное имя файла было изменено.

### <a name="version-012-preview"></a>Версия 0.1.2 — предварительная версия

Дата выпуска: 13 января 2020 г.

- В журнал задач развертывания служб SSIS добавляются более подробные сведения об исключении, если целевой тип — SSISDB.
- Исправлен пример целевого пути в тексте справки для свойства целевого пути у задачи развертывания служб SSIS.

### <a name="version-011-preview"></a>Предварительная версия 0.1.1

Дата выпуска: 6 января 2020 г.

- Добавлено требование минимальной версии агента. В настоящее время минимальная версия агента для этого продукта — 2.144.0.
- Исправлен неверный текст, отображаемый для задачи развертывания SSIS.
- Уточнены некоторые сообщения об ошибках.

### <a name="version-010-preview"></a>Предварительная версия 0.1.0

Дата выпуска: 5 декабря 2019 г.

Начальный выпуск средств DevOps для служб SSIS. Это предварительный выпуск.

## <a name="next-steps"></a>Дальнейшие действия

- Получите [расширение DevOps для служб SSIS](https://marketplace.visualstudio.com/items?itemName=SSIS.ssis-devops-tools)
