---
title: Экземпляр CDC Oracle | Документы Майкрософт
ms.custom: ''
ms.date: 03/14/2017
ms.prod: sql
ms.prod_service: integration-services
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
ms.assetid: ed71e8c4-e013-4bf2-8b6c-1e833ff2a41d
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 359e5f8f8916a698be802cd7cc05d800e5997d82
ms.sourcegitcommit: e8af8cfc0bb51f62a4f0fa794c784f1aed006c71
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/26/2019
ms.locfileid: "71294536"
---
# <a name="the-oracle-cdc-instance"></a>Экземпляр CDC Oracle

[!INCLUDE[ssis-appliesto](../../includes/ssis-appliesto-ssvrpluslinux-asdb-asdw-xxx.md)]


  Экземпляр Oracle CDC — это процесс, создаваемый службой Oracle CDC Service для обработки изменений, отслеживаемых в одной базе данных-источнике Oracle. Экземпляр Oracle CDC получает свою конфигурацию из таблицы **cdc.xdbcdc_config** и передает данные о своем состоянии в таблицу **cdc.xdbcdc_state** . Эти таблицы являются частью базы данных CDC, которая определяет экземпляр Oracle CDC. Дополнительные сведения о базе данных и таблицах xdbcdc см. в разделе [The CDC Databases](../../integration-services/change-data-capture/working-with-the-oracle-cdc-service.md#BKMK_CDCdatabase).  
  
 Далее описываются задачи, выполняемые экземпляром Oracle CDC.  
  
-   **Выполнение проверки при запуске служб**: при запуске экземпляр CDC загружает свою конфигурацию из таблицы **xdbcdc_config** и выполняет ряд проверок состояния. Цель этих проверок — убедиться, что сохраненное состояние экземпляра CDC не содержит ошибок, а экземпляр может начать обработку изменений.  
  
-   **Подготовка к отслеживанию изменений**: Если проверка прошла успешно, экземпляр CDC просматривает все существующие экземпляры отслеживания, подготавливает запросы средства интеллектуального анализа журнала Oracle и другие вспомогательные структуры, необходимые для отслеживания изменений. Кроме того, экземпляр Oracle заново загружает внутреннее состояние отслеживания изменений, сохраненное в последний раз, когда выполнялся этот экземпляр Oracle CDC.  
  
-   **Отслеживание изменений из Oracle**: Экземпляр Oracle CDC Instance группирует изменения, поступающие из Oracle, с помощью средства интеллектуального анализа журнала Oracle, сортирует их по времени фиксации транзакции, а затем изменяет время транзакции и записывает изменения в таблицы изменений [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] в базе данных CDC.  
  
-   **Обработка завершения работы службы**: Жизненным циклом экземпляра Oracle CDC Instance управляет служба Oracle CDC Service. Получив команду завершения работы, экземпляр CDC Oracle выполняет следующие задачи:  
  
    -   прекращает чтение журнала транзакций Oracle;  
  
    -   прекращает запись завершенных транзакций Oracle в базу данных CDC;  
  
    -   ждет до 30 секунд (при необходимости), пока текущая транзакция не закончит запись в базу данных CDC. Если прошло более 30 секунд, операция записи отменяется и транзакция откатывается (при повторном запуске экземпляра CDC она будет выполнена заново);  
  
    -   в отдельном потоке в течение не более 30 секунд записывает как можно больше кэшированных в памяти записей в промежуточную таблицу транзакций (от самой старой до самой новой), затем обновляет таблицу **xdbcdc_state** и выполняет фиксацию всех изменений.  
  
-   **Обработка изменений конфигурации**: экземпляр Oracle CDC получает сообщение об изменениях конфигурации от службы CDC или через обнаружение новой версии в таблице **cdc.xdbcdc_config**. Большинство изменений (например, добавление или удаление экземпляров отслеживания) не требуют перезапуска экземпляра Oracle CDC. Однако при внесении некоторых изменений, например строки подключения Oracle или учетных данных доступа, экземпляр CDC необходимо перезапустить.  
  
-   **Обработка восстановления**: при запуске экземпляра Oracle CDC его внутреннее состояние восстанавливается из таблиц **xdbcdc_state** и **xdbcdc_staged_transactions**. После восстановления состояния экземпляр CDC продолжает работу как обычно.  
  
## <a name="see-also"></a>См. также:  
 [Обработка ошибок](../../integration-services/change-data-capture/error-handling.md)  
  
  
