---
title: Раздел данных | Документация Майкрософт
ms.prod: sql
ms.prod_service: connectivity
ms.technology: connectivity
ms.custom: ''
ms.date: 01/19/2017
ms.reviewer: ''
ms.topic: conceptual
helpviewer_keywords:
- data section [ADO]
ms.assetid: 43dc42a8-7057-48e6-93d6-880d5c5c51a4
author: MightyPen
ms.author: genemi
ms.openlocfilehash: 6aebf318652e604c5f5ad4c30ef389fdfd9e78c7
ms.sourcegitcommit: b2464064c0566590e486a3aafae6d67ce2645cef
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/15/2019
ms.locfileid: "67925644"
---
# <a name="data-section"></a>Раздел данных
Раздел данных определяет данные для набора строк вместе с любым требующимся обновления, вставки или удаления. Раздел данных может содержать ноль или более строк. Он может содержать только данные из одного набора строк, где строки определяется схемой. Кроме того как было отмечено ранее, можно опустить столбцы без данных. Если атрибут или дочерний элемент используется в секции данных, и эта конструкция не был определен в разделе схемы, он игнорируется без уведомления.  
  
## <a name="string"></a>String  
 Зарезервированные символы XML в текстовых данных необходимо заменить сущности знаков. Например в имени компании «Джо обзоров» одинарной кавычки должно заменяться сущности. Собственно строка будет выглядеть следующим образом:  
  
```  
<z:row CompanyName="Joe's Garage"/>  
```  
  
 Следующие символы зарезервированы в формате XML и должен быть заменен сущности символов: {",» &,\<, >}.  
  
## <a name="binary"></a>Бинарный  
 Двоичные данные — в кодировке bin.hex (то есть сопоставляется один байт с двух символов, один символ в каждом байта).  
  
## <a name="datetime"></a>DateTime  
 Variant VT_DATE-формат не поддерживается напрямую типы данных XML-данных. Правильный формат для дат с помощью компонента значение данных и времени: гггг-мм-ДДТЧЧ.  
  
 Дополнительные сведения о форматах даты, определяемое XML см. в разделе [спецификации W3C XML-данных](https://go.microsoft.com/fwlink/?LinkId=5692).  
  
 Когда спецификации XML-данных определяет два эквивалентные типы данных (например, i4 == int), ADO будет записи понятное имя, но чтения в обеих.  
  
## <a name="managing-pending-changes"></a>Управление ожидающими изменениями  
 Набор записей можно открывать в интерпретации или режим пакетного обновления. При открытии в пакетном режиме обновления с курсорами на стороне клиента, все изменения, внесенные в набор записей находятся в состоянии ожидания, пока не будет вызван метод UpdateBatch. Ожидающие изменения, также сохраняются при сохранении набора записей. В формате XML, они представлены с помощью элементы «обновить», определенные в urn: schemas-microsoft-com:rowset. Кроме того, если набор строк могут быть обновлены, обновляемое свойство должно быть присвоено значение true, если в определении строки. Например, для определения того, что в таблице «Поставщики» содержит ожидающие изменения, определение строки будет выглядеть внешний вид следующих.  
  
```  
<s:ElementType name="row" content="eltOnly" updatable="true">  
  <s:attribute type="ShipperID"/>  
  <s:attribute type="CompanyName"/>  
  <s:attribute type="Phone"/>  
  <s:extends type="rs:rowbase"/>  
</s:ElementType>  
```  
  
 Это сообщает поставщика сохраняемости, область данных, таким образом, чтобы ADO можно создать является обновляемым объектом набора записей.  
  
 Следующий образец данных вид операции вставки, изменения и удаления в сохраненный файл.  
  
```  
<rs:data>  
  <z:row ShipperID="2" CompanyName="United Package"   
    Phone="(503) 555-3199"/>  
<rs:update>  
  <rs:original>  
    <z:row ShipperID="3" CompanyName="Federal Shipping"   
      Phone="(503) 555-9931"/>  
  </rs:original>  
  <z:row Phone="(503) 552-7134"/>  
</rs:update>  
<rs:insert>  
  <z:row ShipperID="12" CompanyName="Lightning Shipping"   
    Phone="(505) 111-2222"/>  
  <z:row ShipperID="13" CompanyName="Thunder Overnight"   
    Phone="(505) 111-2222"/>  
  <z:row ShipperID="14" CompanyName="Blue Angel Air Delivery"   
    Phone="(505) 111-2222"/>  
</rs:insert>  
<rs:delete>  
  <z:row ShipperID="1" CompanyName="Speedy Express" Phone="(503) 555-9831"/>  
</rs:delete>  
</rs:data>  
```  
  
 Обновление всегда содержит все исходные данные строки следуют данные измененной строки. Измененная строка может содержать все столбцы или только те столбцы, которые действительно были изменены. В предыдущем примере строка 2 Shipper не изменена, и только в столбце Phone изменены значения для Shipper 3 и поэтому единственный столбец, включенный в измененной строки. Вставленные строки для поставщиков, 12, 13 и 14, пакетные вместе в одном rs: вставлять тег. Обратите внимание на то, что удаленные строки могут также быть объединены, несмотря на то, что это не показано в предыдущем примере.  
  
## <a name="see-also"></a>См. также  
 [Сохранение записей в формате XML](../../../ado/guide/data/persisting-records-in-xml-format.md)
