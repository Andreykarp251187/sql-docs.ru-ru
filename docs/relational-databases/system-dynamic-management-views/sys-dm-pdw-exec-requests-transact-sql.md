---
title: sys.dm_pdw_exec_requests (Трансакт-СЗЛ) Документы Майкрософт
ms.custom: ''
ms.date: 11/05/2019
ms.prod: sql
ms.technology: data-warehouse
ms.reviewer: ''
ms.topic: language-reference
dev_langs:
- TSQL
ms.assetid: 390225cc-23e8-4051-a5f6-221e33e4c0b4
author: XiaoyuMSFT
ms.author: xiaoyul
monikerRange: '>= aps-pdw-2016 || = azure-sqldw-latest || = sqlallproducts-allversions'
ms.openlocfilehash: 851c138e00300a303b1618041a16e2c38516968e
ms.sourcegitcommit: ce94c2ad7a50945481172782c270b5b0206e61de
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/14/2020
ms.locfileid: "81301274"
---
# <a name="sysdm_pdw_exec_requests-transact-sql"></a>sys.dm_pdw_exec_requests (Трансакт-СЗЛ)

[!INCLUDE[tsql-appliesto-xxxxxx-xxxx-asdw-pdw-md](../../includes/tsql-appliesto-xxxxxx-xxxx-asdw-pdw-md.md)]

  Сохраняет информацию обо всех запросах в настоящее время или недавно активных в [!INCLUDE[ssSDW](../../includes/sssdw-md.md)]. В нем перечислена одна строка на запрос/запрос.  
  
|Имя столбца|Тип данных|Описание|Диапазон|  
|-----------------|---------------|-----------------|-----------|  
|request_id|**nvarchar(32)**|Ключ к этому представлению. Уникальный числовый идентификатор, связанный с запросом.|Уникальный во всех запросах в системе.|  
|session_id|**nvarchar(32)**|Уникальный числовый идентификатор, связанный с сеансом, в котором был запущен этот запрос. Смотрите [sys.dm_pdw_exec_sessions &#40;&#41;Transact-S'L ](../../relational-databases/system-dynamic-management-views/sys-dm-pdw-exec-sessions-transact-sql.md).||  
|status|**nvarchar(32)**|Текущее состояние запроса.|"Бег", "Приостановлено", "Завершено", "Отменено", "Не удалось".|  
|submit_time|**datetime**|Время, в которое запрос был представлен для исполнения.|Действительное **время даты** меньше или равен текущему времени и start_time.|  
|start_time|**datetime**|Время начала выполнения запроса.|NULL для запросов в очереди; в противном случае, **действительное время даты** меньше или равно текущему времени.|  
|end_compile_time|**datetime**|Время, в которое двигатель завершил компиляцию запроса.|NULL для запросов, которые еще не были составлены; в противном случае действительное **время даты** меньше, чем start_time и меньше, чем или равна текущему времени.|
|end_time|**datetime**|Время завершения выполнения запроса, сбой или отмена.|Null для очередей или активных запросов; в противном случае, действительное **время даты** меньше или равно текущему времени.|  
|total_elapsed_time|**INT**|Время, прошедшее в исполнении с момента запуска запроса, в миллисекундах.|Между 0 и разница между start_time и end_time.</br></br> Если total_elapsed_time превысит максимальное значение для степла, total_elapsed_time будет оставаться максимальным значением. Это условие будет генерировать предупреждение "Максимальное значение было превышено".</br></br> Максимальное значение в миллисекундах равно 24,8 дня.|  
|label|**nvarchar(255)**|Дополнительная строка метки, связанная с некоторыми операторами запроса SELECT.|Любая строка, содержащая 'a-z','A-','0-9','.'.|  
|error_id|**nvarchar (36)**|Уникальный идентификатор ошибки, связанной с запросом, если такового.|Смотрите [sys.dm_pdw_errors &#40;&#41;Transact-S'L; ](../../relational-databases/system-dynamic-management-views/sys-dm-pdw-errors-transact-sql.md) установлен в NULL, если ошибки не произошло.|  
|database_id|**INT**|Идентификатор базы данных, используемый явным контекстом (например, USE DB_X).|Смотрите Идентификатор в [sys.databases &#40;&#41;Transact-S'L. ](../../relational-databases/system-catalog-views/sys-databases-transact-sql.md)|  
|command|**nvarchar(4000)**|Содержит полный текст запроса, представленный пользователем.|Любой действительный текст запроса или запроса. Запросы, которые длиннее 4000 байтов усечены.|  
|resource_class|**nvarchar (20)**|Рабочая группа нагрузки, используемая для этого запроса. |Статические классы ресурсов</br>staticrc10</br>staticrc20</br>staticrc30</br>staticrc40</br>staticrc50</br>staticrc60</br>staticrc70</br>staticrc80</br>            </br>Динамические классы ресурсов</br>МалыйRC</br>Средний RC</br>LargeRC</br>XLargeRC|
|importance|**NVARCHAR(128)**|Значение настройки запроса выполняется на.  Это относительная важность запроса в этой группе рабочей нагрузки и между группами рабочей нагрузки для общих ресурсов.  Значение, указанное в классификаторе, переопределяет настройки важности группы рабочей нагрузки.</br>Область применения этой статьи: Хранилище данных SQL Azure|NULL</br>low</br>below_normal</br>нормальный (по умолчанию)</br>above_normal</br>high|
|group_name|**sysname** |Для запросов, используя ресурсы, group_name — это название рабочей группы, под которую подышает запрос.  Если запрос не использует ресурсы, group_name является недействительным.</br>Область применения этой статьи: Хранилище данных SQL Azure|
|classifier_name|**sysname**|Для запросов, используя ресурсы, имя классификатора, используемого для присвоения ресурсов и важности.||
|resource_allocation_percentage|**десятичная (5,2)**|Процент ресурсов, выделяемых на запрос.</br>Область применения этой статьи: Хранилище данных SQL Azure|
|result_cache_hit|**Шестнадцатеричное**|Подробная информация о том, использовался ли завершенный кэш набора результатов.  </br>Область применения этой статьи: Хранилище данных SQL Azure| 1 - Кэш-кэш-набор результатов </br> 0 - Кэш-кэш-кэш-набор результатов </br> Отрицательные значения - причины, по которым кэширование набора результатов не использовалось.  Подробнее о разделе примечаний.|
||||
  
## <a name="remarks"></a>Remarks 
 Для получения информации о максимальных строках, сохраненных в [Capacity limits](/azure/sql-data-warehouse/sql-data-warehouse-service-capacity-limits#metadata) этом представлении, см.

 В result_cache_hit битмаска использования кэша набора результатов.  Эта колонка может быть [ (Bitwise OR)](../../t-sql/language-elements/bitwise-or-transact-sql.md) продукт одного или нескольких из этих значений:  
  
|Значение|Описание|  
|-----------|-----------------|  
|**1**|Кэш-кэш-набор результатов|  
|-**0x00**|Кэш-кэш-набор результатов|  
|-**0x01**|Кэширование набора результатов отключено в базе данных.|  
|-**0x02**|Кэширование набора результатов отключено на сеансе. | 
|-**0x04**|Кэширование набора результатов отключено из-за отсутствия источников данных для запроса.|  
|-**0x08**|Кэширование набора результатов отключено из-за предикатов безопасности уровня строки.|  
|-**0x10**|Кэширование набора результатов отключено из-за использования системной таблицы, временной таблицы или внешней таблицы в запросе.|  
|-**0x20**|Кэширование набора результатов отключено, поскольку запрос содержит константы времени выполнения, функции, определяемые пользователем, или недетерминированные функции.|  
|-**0x40**|Кэширование набора результатов отключено из-за слишком большого размера набора набора результатов (> 1 млн строк).|  
|-**0x80**|Кэширование набора результатов отключено, поскольку набор результатов содержит строки с большим размером (>64kb).|  
  
## <a name="permissions"></a>Разрешения

 Необходимо разрешение VIEW SERVER STATE.  
  
## <a name="security"></a>Безопасность

 sys.dm_pdw_exec_requests не фильтрует результаты запросов в соответствии с разрешениями, соследующими для баз данных. Логины с разрешением VIEW SERVER STATE могут получать результаты запросов результатов для всех баз данных  
  
>[!WARNING]  
>Злоумышленник может использовать sys.dm_pdw_exec_requests для получения информации о конкретных объектах базы данных, просто имея разрешение VIEW SERVER STATE и не имея разрешения на конкретную базу данных.  
  
## <a name="see-also"></a>См. также:

 [Хранилище данных и параллельные представления о динамическом управлении складами данных &#40;&#41;](../../relational-databases/system-dynamic-management-views/sql-and-parallel-data-warehouse-dynamic-management-views.md)
