---
title: SQL Server, объект транзакции | Документация Майкрософт
ms.custom: ''
ms.date: 03/14/2017
ms.prod: sql
ms.prod_service: database-engine
ms.reviewer: ''
ms.technology: performance
ms.topic: conceptual
helpviewer_keywords:
- SQLServer:Transactions
- Transactions object
ms.assetid: 85240267-78fd-476a-9ef6-010d6cf32dd8
author: julieMSFT
ms.author: jrasnick
ms.openlocfilehash: 635bb13a1d6e44f5fc8f694cb2618a19c08831f1
ms.sourcegitcommit: da88320c474c1c9124574f90d549c50ee3387b4c
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/01/2020
ms.locfileid: "85758951"
---
# <a name="sql-server-transactions-object"></a>SQL Server, объект Transactions
 [!INCLUDE [SQL Server](../../includes/applies-to-version/sqlserver.md)]
  Объект **Transactions** в Microsoft [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] предоставляет счетчики для мониторинга количества активных транзакций в экземпляре [!INCLUDE[ssDE](../../includes/ssde-md.md)]и влияния этих транзакций на ресурсы, такие как хранилище версий строк изоляции моментальных снимков **tempdb**. Транзакции представляют собой логические блоки проделанной работы — наборы операций, которые должны либо все завершиться успешно, либо быть стертыми из базы данных, чтобы соблюсти логическую целостность данных. Все изменения данных в базах данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] осуществляются в транзакциях.  
  
 Если база данных допускает уровень изоляции моментальных снимков, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] должен поддерживать записи об изменениях всех строк в базе данных. Каждый раз при изменении строки копия строки в состоянии, предшествующем изменению, записывается в хранилище версий строк в базе данных **tempdb**. Многие счетчики в объекте **Transaction** также можно применять для мониторинга размера и скорости роста хранилища версий строк в базе данных **tempdb**.  
  
 Счетчики объектов **Transactions** возвращают сведения обо всех транзакциях в одном экземпляре [!INCLUDE[ssDE](../../includes/ssde-md.md)].  
  
 В этой таблице перечислены счетчики **SQLServer:Transactions** .  
  
|Счетчики Transactions в SQL Server|Description|  
|--------------------------------------|-----------------|  
|**Свободное пространство в базе данных tempdb (КБ)**|Объем (в КБ) свободного пространства в базе данных **tempdb**. Должно быть достаточно свободного места для того, чтобы вместить и хранилище версий уровня изоляции моментальных снимков, и все новые временные объекты, создаваемые в данном экземпляре [!INCLUDE[ssDE](../../includes/ssde-md.md)].|  
|**Наиболее продолжительное время выполнения транзакции**|Время (в секундах) с момента запуска транзакции, которая оставалась активной дольше любой другой текущей транзакции. Этот счетчик показывает только действия, произошедшие при базе данных на уровне изоляции зафиксированной операции чтения с моментальным снимком. Он не регистрирует других действий, если база данных находится в другом уровне изоляции.|  
|**Транзакций версий без снимков**|Число активных в настоящий момент транзакций, не использующих уровень изоляции моментальных снимков, но производящих изменения данных, которые привели к формированию версий строк в хранилище версий **tempdb** .|  
|**Транзакции моментальных снимков**|Число активных в настоящий момент транзакций, которые используют уровень изоляции моментальных снимков.<br /><br /> Примечание. Счетчик объекта **Snapshot Transactions** возвращает данные о том, когда произошло первое обращение к данным, а не когда была выполнена инструкция `BEGIN TRANSACTION` .|  
|**Транзакции**|Число активных в настоящее время транзакций любого типа.|  
|**Коэффициент конфликтов обновления**|Процент транзакций, использующих уровень изоляции моментальных снимков, которые столкнулись с конфликтами обновления за последнюю секунду. Конфликт обновления возникает, когда транзакция уровня изоляции моментальных снимков пытается изменить строку, которая в последний раз была изменена другой транзакцией, незафиксированной на момент запуска транзакции уровня изоляции снимков.|  
|**База коэффициента обновления конфликтов**|Только для внутреннего использования.|
|**Транзакции обновления моментальных снимков**|Число активных в настоящий момент транзакций, которые используют уровень изоляции моментальных снимков и содержат измененные данные.|  
|**Скорость очистки версий (КБ/с)**|Скорость (в КБ/с) удаления версий строк из хранилища версий изоляции моментальных снимков в **tempdb**.|  
|**Скорость создания версий (КБ/с)**|Скорость (в КБ/с) добавления новых версий строк в хранилище версий изоляции моментальных снимков в **tempdb**.|  
|**Размер хранилища версий (KБ)**|Объем пространства (в КБ) в базе данных **tempdb** , используемого для хранения версий строк уровня изоляции моментальных снимков.|  
|**Счетчик блоков хранилища версий**|Число активных единиц распределения в хранилище версий изоляции моментальных снимков в **tempdb**.|  
|**Создано блоков хранилища версий**|Число единиц распределения, созданных в хранилище изоляции моментальных снимков с момента запуска экземпляра компонента [!INCLUDE[ssDE](../../includes/ssde-md.md)] .|  
|**Усечено блоков хранилища версий**|Число единиц распределения, удаленных из хранилища изоляции моментальных снимков с момента запуска экземпляра [!INCLUDE[ssDE](../../includes/ssde-md.md)] .|  
  
## <a name="see-also"></a>См. также:  
 [Наблюдение за использованием ресурсов (системный монитор)](../../relational-databases/performance-monitor/monitor-resource-usage-system-monitor.md)  
  
  
