---
title: Поддержка приложений уровня данных для объектов и версий SQL Server | Документация Майкрософт
ms.custom: ''
ms.date: 09/13/2018
ms.prod: sql
ms.reviewer: ''
ms.technology: ''
ms.topic: conceptual
helpviewer_keywords:
- data-tier application [SQL Server], supported objects
- objects [SQL Server], data-tier applications
ms.assetid: b1b78ded-16c0-4d69-8657-ec57925e68fd
author: stevestein
ms.author: sstein
ms.openlocfilehash: c0e0f85e21898ccf61d7c205305fc9179edc2af4
ms.sourcegitcommit: 495913aff230b504acd7477a1a07488338e779c6
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/06/2019
ms.locfileid: "68810588"
---
# <a name="dac-support-for-sql-server-objects-and-versions"></a>Поддержка приложений уровня данных для объектов и версий SQL Server
[!INCLUDE[appliesto-ss-asdb-xxxx-xxx-md](../../includes/appliesto-ss-asdb-xxxx-xxx-md.md)]
  Приложение уровня данных (DAC) поддерживает самые распространенные объекты компонента [!INCLUDE[ssDE](../../includes/ssde-md.md)] .  
  
 **В этом разделе**  


> [!IMPORTANT]
> Эта статья относится к SQL Server 2012, а не к SQL Server 2014 или более поздней версии.
> Статьи DAC о SQL 2012 или более ранних версий см. по следующим ссылкам:
> 
> - https://docs.microsoft.com/previous-versions/sql/sql-server-2008-r2/ee240739(v=sql.105)
> - https://docs.microsoft.com/previous-versions/sql/sql-server-2012/hh753459(v=sql.110)


-   [Поддерживаемые объекты SQL Server](#SupportedObjects)  
  
-   [Поддержка приложений уровня данных в различных версиях SQL Server](#SupportByVersion)  
  
-   [Ограничения развертывания данных](#DeploymentLimitations)  
  
-   [Дополнительные замечания по операциям развертывания](#Considerations)  
  
##  <a name="SupportedObjects"></a> Поддерживаемые объекты SQL Server  
 В приложении уровня данных как создаваемые или редактируемые могут быть указаны только поддерживаемые объекты. Невозможно извлечь, зарегистрировать или импортировать приложение уровня данных (DAC) из существующей базы данных, которая содержит объекты, не поддерживаемые в DAC. [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] поддерживает следующие объекты в приложении уровня данных.  
  
|||  
|-|-|  
|DATABASE ROLE|ФУНКЦИЯ: встроенная, возвращающая табличное значение|  
|ФУНКЦИЯ: многооператорная, возвращающая табличное значение|ФУНКЦИЯ: скалярная|  
|ИНДЕКС: Кластеризованный|ИНДЕКС: Некластеризованный|  
|ИНДЕКС: пространственный|ИНДЕКС: Уникальный|  
|Имя_для_входа|Разрешения|  
|Данные членства в роли|SCHEMA|  
|Статистика|ХРАНИМАЯ ПРОЦЕДУРА: Transact-SQL|  
|Синонимы|ТАБЛИЦА: Ограничение CHECK|  
|ТАБЛИЦА: Параметры сортировки|ТАБЛИЦА: столбец, включая вычисляемые столбцы|  
|ТАБЛИЦА: ограничение, значение по умолчанию|ТАБЛИЦА: ограничение, внешний ключ|  
|ТАБЛИЦА: ограничение, индекс|ТАБЛИЦА: ограничение, первичный ключ|  
|ТАБЛИЦА: ограничение, уникальное|ТРИГГЕР: DML|  
|ТИП: HIERARCHYID, GEOMETRY, GEOGRAPHY|ТИП: определяемый пользователем тип данных|  
|ТИП: определяемый пользователем табличный тип|Пользователь|  
|VIEW||  
  
##  <a name="SupportByVersion"></a> Поддержка приложений уровня данных в различных версиях SQL Server  
 В различных версиях [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] реализованы разные уровни поддержки операций приложений уровня данных. Все операции приложения уровня данных, поддерживаемые определенной версией [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , поддерживаются во всех выпусках данной версии.  
  
 Экземпляры компонента [!INCLUDE[ssDE](../../includes/ssde-md.md)] поддерживают следующие операции приложения уровня данных:  
  
-   Экспорт и извлечение поддерживаются во всех поддерживаемых версиях [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].  
  
-   Все операции поддерживаются в [!INCLUDE[ssSDSFull](../../includes/sssdsfull-md.md)] , а также во всех версиях [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)], [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)]и [!INCLUDE[ssKilimanjaro](../../includes/sskilimanjaro-md.md)].  
  
-   Все операции поддерживаются в [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] с пакетом обновления 2 (SP2) или более поздней версии и в [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] с пакетом обновления 4 (SP4) или более поздней версии.  
  
 Платформа DAC Framework включает клиентские средства для создания и обработки пакетов приложений уровня данных и файлов экспорта. Платформа DAC Framework включена в следующие продукты  
  
-   [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] и [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] включают платформу DAC Framework 3.0, которая поддерживает все операции приложения уровня данных.  
  
-   [!INCLUDE[ssKilimanjaro](../../includes/sskilimanjaro-md.md)] с пакетом обновления 1 (SP1) и Visual Studio 2010 с пакетом обновления 1 (SP1) включают платформу DAC Framework 1.1, которая поддерживает все операции приложения уровня данных, кроме экспорта и импорта.  
  
-   [!INCLUDE[ssKilimanjaro](../../includes/sskilimanjaro-md.md)] и Visual Studio 2010 включают платформу DAC Framework 1.0, которая поддерживает все операции приложения уровня данных, кроме экспорта, импорта и обновления на месте.  
  
-   Клиентские средства из более ранних версий SQL Server или Visual Studio не поддерживают операции приложения уровня данных.  
  
 Пакет приложения уровня данных или файл экспорта, созданный в одной версии DAC Framework, не может обрабатываться в более ранней версии DAC Framework. Например, пакет приложения уровня данных, извлеченный с помощью клиентских средств [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] , не может быть развернут клиентскими средствами [!INCLUDE[ssKilimanjaro](../../includes/sskilimanjaro-md.md)] .  
  
 Пакет приложения уровня данных или файл экспорта, созданный в какой-то версии DAC Framework, может обрабатываться в любой более поздней версии DAC Framework. Например, пакет приложения уровня данных, извлеченный с помощью клиентских средств [!INCLUDE[ssKilimanjaro](../../includes/sskilimanjaro-md.md)] , может быть развернут с помощью клиентских средств [!INCLUDE[ssKilimanjaro](../../includes/sskilimanjaro-md.md)] с пакетом обновления 1 (SP1) или более поздних версий.  
  
##  <a name="DeploymentLimitations"></a> Ограничения развертывания данных  
 Обратите внимание на следующие ограничения качества данных в подсистеме развертывания DAC Framework в SQL Server 2012 SP1. Эти ограничения применяются к следующим действиям DAC Framework: развертывание или публикация DACPAC-файла и импорт BACPAC-файла.  
  
1.  Потеря метаданных для определенных условий и базовых типов в столбцах sql_variant. В соответствующих случаях отображается предупреждение со следующим сообщением:  **некоторые свойства для определенных типов данных, используемых в столбце sql_variant, не сохраняются при развертывании с помощью платформы DAC Framework**.  
  
    -   Базовые типы MONEY, SMALLMONEY, NUMERIC, DECIMAL:  точность не сохраняется.  
  
        -   Базовые типы DECIMAL/NUMERIC с точностью 38: метаданные TotalBytes sql_variant всегда равны 21.  
  
    -   Все базовые текстовые типы:  параметры сортировки по умолчанию для базы данных применяются ко всему тексту.  
  
    -   Базовые типы BINARY:  свойство максимальной длины не сохраняется.  
  
    -   Базовые типы TIME и DATETIMEOFFSET:  точность всегда равна 7.  
  
2.  Потеря данных в столбцах sql_variant. В соответствующих случаях отображается предупреждение со следующим сообщением:  **Будут потеряны данные в случае развертывания значения в столбце sql_variant DATETIME2 с масштабом больше 3 в платформе DAC Framework. Значение DATETIME2 во время развертывания ограничено масштабом, равным 3**.  
  
    -   Базовый тип DATETIME2 с масштабом больше 3: масштаб равен 3.  
  
3.  Операция развертывания завершается ошибкой для следующих условий в столбцах sql_variant. В соответствующих случаях отображается диалоговое окно со следующим сообщением:  **операция завершилась с ошибкой из-за ограничений для данных платформы DAC Framework**.  
  
    -   Базовые типы DATETIME2, SMALLDATETIME и DATE:  если значение выходит за пределы диапазона DATETIME, например если год меньше 1753.  
  
    -   Базовый тип DECIMAL, NUMERIC: если точность значения больше 28.  
  
##  <a name="Considerations"></a> Дополнительные замечания по операциям развертывания  
 Обратите внимание на следующие рекомендации для действий по развертыванию данных с помощью платформы DAC Framework.  
  
-   **Извлечение и экспорт** — в операциях, использующих платформу DAC Framework для создания пакета из базы данных, например при извлечении DACPAC-файла или экспорте BACPAC-файла, эти ограничения не применяются. Данные в пакете — это полное представление данных в базе данных-источнике. Если любое из этих условий выполняется в пакете, журнал извлечения или экспорта будет содержать сводку проблем (сообщения, указанные выше). Они применяются, чтобы предупредить пользователя о потенциальных проблемах с развертыванием данных созданного пакета. Пользователь также увидит следующее общее сообщение в журнале:  **Эти ограничения не влияют на точность типов данных и значений, хранимых в пакете DAC, созданном платформой DAC Framework. Они относятся только к типам данных и значениям, получаемым при развертывании пакета DAC в базе данных. Дополнительные сведения о затронутых данных и о том, как обойти это ограничение, см. в**[этом разделе](https://go.microsoft.com/fwlink/?LinkId=267086).  
  
-   **Развернуть, опубликовать или импортировать** — в операциях, использующих платформу DAC Framework для развертывания пакетов в базе данных, например развертывании или публикации DACPAC-файла и импорте BACPAC-файла, применяются следующие ограничения. Данные, которые добавляются в целевую базу данных, не могут содержать полное представление данных в пакете. Журнал развертывания и импорта будет содержать сообщение, указанное выше, для каждого экземпляра, в котором была обнаружена проблема. Эта операция будет заблокирована из-за ошибок (см. категорию 3 выше), но будет продолжена с другими предупреждениями.  
  
     Дополнительные сведения о данных, затрагиваемых в этом сценарии, и о том, как обойти это ограничение для операций развертывания, публикации и импорта, см. в [этом разделе](https://go.microsoft.com/fwlink/?LinkId=267087).  
  
-   **Решения** — операции извлечения и экспорта записывают полные файлы данных BCP в DACPAC- или BACPAC-файлы. Чтобы избежать ограничений, используйте программу BCP.exe командной строки SQL Server для развертывания полных данных в целевой базе данных из пакета приложения уровня данных.  
  
## <a name="see-also"></a>См. также:  
 [Приложения уровня данных](../../relational-databases/data-tier-applications/data-tier-applications.md)  
  
  
