---
title: Управление сертификатами (диспетчер конфигурации SQL Server) | Документация Майкрософт
ms.custom: ''
ms.date: 01/16/2019
ms.prod: sql
ms.prod_service: high-availability
ms.reviewer: ''
ms.technology: configuration
ms.topic: conceptual
helpviewer_keywords:
- connections [SQL Server], encrypted
- SSL [SQL Server]
- Secure Sockets Layer (SSL)
- encryption [SQL Server], connections
- cryptography [SQL Server], connections
- certificates [SQL Server], installing
- requesting encrypted connections
- installing certificates
- security [SQL Server], encryption
ms.assetid: e1e55519-97ec-4404-81ef-881da3b42006
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: b98f52d7c8e23530c13da6ad44d90090998ac09e
ms.sourcegitcommit: 58158eda0aa0d7f87f9d958ae349a14c0ba8a209
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/30/2020
ms.locfileid: "68212748"
---
# <a name="certificate-management-sql-server-configuration-manager"></a>Управление сертификатами (диспетчер конфигурации SQL Server)

В этой статье описывается развертывание сертификатов и управление ими в отказоустойчивом кластере Always On или топологии групп доступности SQL Server.

Сертификаты SSL/TLS широко используются для обеспечения безопасного доступа к SQL Server. В более ранних версиях организациям с масштабными развертываниями SQL Server приходилось тратить значительные усилия на поддержание инфраструктуры сертификатов SQL Server. Для этого часто необходимо было разрабатывать скрипты и выполнять команды вручную. В SQL Server 2019 управление сертификатами интегрировано в диспетчер конфигурации SQL Server, что упрощает выполнение следующих распространенных задач: 

* просмотр и проверка сертификатов, установленных в экземпляре SQL Server; 
* определение сертификатов, срок действия которых может скоро истечь; 
* развертывание сертификатов на компьютерах групп доступности из узла, содержащего первичную реплику; 
* развертывание сертификатов на компьютерах, участвующих в экземпляре отказоустойчивого кластера из активного узла.

> [!NOTE]
> Функции управления сертификатами в диспетчере конфигурации SQL Server можно использовать с более ранними версиями SQL Server, начиная с SQL Server 2008.

##  <a name="to-install-a-certificate-for-a-single-sql-server-instance"></a><a name="provision-single-server-cert"></a> Установка сертификата для одного экземпляра SQL Server  
  
1. В диспетчере конфигурации SQL Server в области консоли разверните раздел **Сетевая конфигурация SQL Server**.  
  
2. Щелкните правой кнопкой мыши элемент **Протоколы для** *&lt;имя экземпляра&gt;* и выберите пункт **Свойства**.  
  
3. Перейдите на вкладку **Сертификат** и выберите команду **Импорт**.  
  
4. Нажмите кнопку **Обзор** и выберите файл сертификата.  
  
5. Нажмите кнопку **Далее**, чтобы проверить сертификат. Если ошибок нет, нажмите кнопку **Далее**, чтобы импортировать сертификат в локальный экземпляр.  
  
 
##  <a name="to-install-a-certificate-in-a-failover-cluster-configuration"></a><a name="provision-failover-cluster-cert"></a> Установка сертификата в конфигурации отказоустойчивого кластера  
  
1. В диспетчере конфигурации SQL Server в области консоли разверните раздел **Сетевая конфигурация SQL Server**.
  
2. Щелкните правой кнопкой мыши элемент **Протоколы для** *&lt;имя экземпляра&gt;* и выберите пункт **Свойства**. 

3. Перейдите на вкладку **Сертификат** и выберите команду **Импорт**.

4. Выберите тип сертификата и способ его импорта: только для текущего узла или для каждого узла в кластере.

5. Если сертификат устанавливается для одного узла, нажмите кнопку **Обзор** и выберите файл сертификата. Затем перейдите к шагу 8.

6. Если сертификат устанавливается для каждого узла, нажмите кнопку **Далее**, чтобы открыть список узлов возможных владельцев. Предварительно выбраны возможные владельцы для текущего экземпляра отказоустойчивого кластера SQL Server.

7. Нажмите кнопку **Далее**, чтобы выбрать импортируемый сертификат.

8. Введите пароль, когда появится запрос. После проверки обратите внимание на предупреждения и ошибки.

9. Нажмите кнопку **Далее**, чтобы импортировать выбранные сертификаты.

> [!NOTE]
> Выполните эти действия в активном узле экземпляра отказоустойчивого кластера SQL Server. Пользователю необходимо предоставить разрешения администратора на всех узлах кластера.

##  <a name="to-install-a-certificate-in-an-availability-group-configuration"></a><a name="provision-availability-group-cert"></a>Установка сертификата в конфигурации группы доступности  
  
1. В диспетчере конфигурации SQL Server в области консоли разверните раздел **Сетевая конфигурация SQL Server**.
  
2. Щелкните правой кнопкой мыши элемент **Протоколы для** *&lt;имя экземпляра&gt;* и выберите пункт **Свойства**.  
  
3. Перейдите на вкладку **Сертификат** и выберите команду **Импорт**.  
  
4. Выберите тип сертификата и нажмите кнопку **Далее**, чтобы выбрать группу доступности из списка известных.  

5. Нажмите кнопку **Далее**, чтобы выбрать сертификаты для каждого узла реплики. Имя файла сертификата должно совпадать с NetBIOS-именем узла.

6. Нажмите кнопку **Далее**, чтобы импортировать сертификат в каждом узле.


> [!NOTE]
> Выполните эти действия из узла, содержащего первичную реплику группы доступности. Пользователю необходимо предоставить разрешения администратора на всех узлах кластера.

