---
title: Получение & Настройка сервера загрузки
description: В этой статье описывается, как получить и настроить сервер загрузки в качестве системы Windows, не являющейся устройством управления, для отправки данных в Параллельное хранилище данных (PDW).
author: mzaman1
ms.prod: sql
ms.technology: data-warehouse
ms.topic: conceptual
ms.date: 04/17/2018
ms.author: murshedz
ms.reviewer: martinle
ms.custom: seo-dt-2019
ms.openlocfilehash: ef49bb86c8e16600f2ff1bf2d1c7a92ecc5af964
ms.sourcegitcommit: e042272a38fb646df05152c676e5cbeae3f9cd13
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/27/2020
ms.locfileid: "74401478"
---
# <a name="acquire-and-configure-a-loading-server-for-parallel-data-warehouse"></a>Получение и настройка сервера загрузки для параллельного хранилища данных
В этой статье описывается, как получить и настроить сервер загрузки в качестве системы Windows, не являющейся устройством управления, для отправки данных в Параллельное хранилище данных (PDW).  
  
## <a name="basics"></a><a name="Basics"></a>Основы  
Сервер загрузки:  
  
-   Не обязательно должен быть одиночным сервером. Можно загрузить параллельно с несколькими загружаемыми серверами.  
  
-   Предоставляется и управляется собственной ИТ-группой. Возможно, у вас уже есть сервер или серверы, которые можно использовать для загрузки данных в PDW.  
  
-   Находится в собственной стойке и не может быть помещена в устройство системы аналитики.  
  
-   Подключен к устройству через сеть устройства InfiniBand или через Ethernet. Для повышения производительности рекомендуется использовать InfiniBand.  
  
-   Находится в вашем домене клиента, а не в домене устройства. Нет отношения доверия между доменом клиента и доменом устройства.  
  
## <a name="step-1-determine-capacity-requirements"></a><a name="Step1"></a>Шаг 1. Определение требований к емкости  
Система загрузки может быть разработана как один или несколько загружаемых серверов, выполняющих параллельную загрузку. Каждый сервер загрузки не обязательно должен быть выделен только для загрузки, если он будет обрабатывать требования к производительности и хранению рабочей нагрузки.  
  
Требования к системе для загрузки сервера практически полностью зависят от вашей рабочей нагрузки. Чтобы определить требования к емкости, используйте [лист "Загрузка ресурсов" для планирования загрузки сервера](loading-server-capacity-planning-worksheet.md) .  
  
## <a name="step-2-acquire-the-sserver"></a><a name="Step2"></a>Шаг 2. получение Ссервер  
Теперь, когда вы лучше понимаете требования к емкости, вы можете спланировать серверы и сетевые компоненты, которые потребуется приобрести или подготавливать. Включите в план приобретения приведенный ниже список требований, а затем приобретите сервер или подставьте существующий сервер.  
  
### <a name="software-requirements"></a><a name="R"></a>Требования к программному обеспечению  
Поддерживаемые операционные системы  
  
-   Windows Server 2012 или Windows Server 2012 R2. Для этих операционных систем требуется сетевой адаптер FDR.  
  
-   Windows Server 2008 R2. Для этой операционной системы требуется сетевой адаптер DDR.  
  
Для использования средства загрузки из командной строки dwloader сервер должен использовать языковой стандарт EN-US. dwloader не поддерживает другие языковые стандарты.  
  
### <a name="networking-requirements-for-windows-server-2012-and-windows-server-2012-r2"></a>Требования к сети для Windows Server 2012 и Windows Server 2012 R2  
Хотя для загрузки серверов не требуется, InfiniBand является рекомендуемым типом соединения. Для достижения оптимальной производительности используйте Windows Server 2012 или Windows Server 2012 R2 и сетевой адаптер FDR InfiniBand для подключения сервера загрузки к сети устройства InfiniBand.  
  
Для подготовки к подключению к Windows Server 2012 или Windows Server 2012 R2 InfiniBand:  
  
1.  Запланируйте в стойку сервер, достаточный для устройства, чтобы его можно было подключить к коммутаторам InfiniBand устройства. Дополнительные сведения о технологиях Mellanox для InfiniBand см. в техническом документе [Введение в InfiniBand](https://www.mellanox.com/pdf/whitepapers/IB_Intro_WP_190.pdf).  
  
2.  Приобретите сетевой адаптер для одного или двух портов Mellanox ConnectX-3 FDR InfiniBand. Рекомендуется приобрести сетевой адаптер с двумя портами для отказоустойчивости при передаче данных. Для обеспечения высокой доступности требуется два порта сетевого адаптера.  
  
3.  Приобрести 2 FDR по кабелю InfiniBand для платы с двумя портами или 1 FDR InfiniBand для одной карты порта. Кабели FDR InfiniBand будут подключать сервер загрузки к сети устройства InfiniBand. Длина кабеля зависит от расстояния между сервером загрузки и коммутаторами устройства InfiniBand в соответствии с вашей средой.  
  
## <a name="step-3-connect-the-server-to-the-infiniband-networks"></a><a name="Step3"></a>Шаг 3. Подключение сервера к сетям InfiniBand  
Выполните следующие действия, чтобы подключить сервер загрузки к сети InfiniBand. Если сервер не использует сеть InfiniBand, пропустите этот шаг.  
  
1.  Стойка. сервер достаточно близок к устройству, чтобы вы могли подключить его к сети устройства InfiniBand.  
  
2.  Установите сетевой адаптер InfiniBand Mellanox ConnectX-3 FDR InfiniBand на сервер загрузки.  
  
3.  Используйте кабели FDR для подключения сетевого адаптера InfiniBand к одному из двух коммутаторов InfiniBand в первой стойке устройства.  
  
4.  Установите и настройте соответствующий драйвер Windows для сетевого адаптера InfiniBand.  
  
    -   Драйверы InfiniBand для Windows разрабатываются компанией Опенфабрикс Alliance, отраслевым консорциумом для поставщиков InfiniBand.  Возможно, правильный драйвер был распространен с помощью сетевого адаптера InfiniBand. В противном случае драйвер можно скачать из www.openfabrics.org.  
  
5.  Настройте параметры InfiniBand и DNS для сетевых адаптеров. Инструкции по настройке см. в статье [Настройка сетевых адаптеров Infiniband](configure-infiniband-network-adapters.md).  
  
## <a name="step-4-install-the-loading-tools"></a><a name="Step4"></a>Шаг 4. Установка средств загрузки  
Клиентские средства доступны для загрузки из центра загрузки Майкрософт. 

Чтобы установить dwloader, запустите установку dwloader из клиентских средств.
  
Если вы планируете использовать Integration Services для загрузки, необходимо установить Integration Services и конечные адаптеры Integration Services. Адаптеры доступны в клиентских средствах.

<!-- To install the des[Install Integration Services Destination Adapters](install-integration-services-destination-adapters.md). 
--> 
  
## <a name="step-5-start-loading"></a><a name="Step5"></a>Шаг 5. Запуск загрузки  
Теперь все готово для начала загрузки данных. Дополнительные сведения можно найти в разделе  
  
1.  [Средство загрузки из командной строки dwloader](dwloader.md)  
  
2.  [Общие сведения о загрузке](load-overview.md)  
  
## <a name="performance"></a>Производительность  
Для лучшей загрузки в Windows Server 2012 и более поздних версиях включите мгновенную инициализацию файлов, чтобы при перезаписи данных операционная система не перезаписала существующие данные нулями. Если это является угрозой безопасности, так как на дисках по-прежнему существуют предыдущие данные, не забудьте отключить мгновенную инициализацию файлов.  
  
## <a name="security-notices"></a><a name="Security"></a>Уведомления о безопасности  
Поскольку данные для загрузки не хранятся на устройстве, ИТ-группа несет ответственность за управление всеми аспектами безопасности для загрузки данных. Например, это включает в себя управление безопасностью данных для загрузки, безопасность сервера, используемого для хранения нагрузок, и безопасность сетевой инфраструктуры, которая подключает сервер загрузки к устройству SQL Server PDW.  
  
> [!IMPORTANT]  
> Особенно важно защитить каждый сервер загрузки, который будет использовать средство загрузки командной строки dwloader. Когда dwloader загружает данные, сначала выполняется проверка подлинности с помощью управляющего узла, а после успешной проверки подлинности перемещает данные с сервера загрузки непосредственно на ресурсы для вычислений по каналам данных. Проверка сертификата не происходит во время встряхнитеа между каждым сервером загрузки и каждым из этих узлов. При этом на каждом канале данных во время загрузки ресурсы для вычислений остаются доступными для потенциальных атак "злоумышленник в середине". Эти атаки могут привести к несанкционированным данным и (или) раскрытию информации.  
  
Чтобы снизить риски безопасности с помощью данных, мы рекомендуем следующее:  
  
-   Назначьте одну учетную запись Windows, которая используется исключительно для загрузки данных в PDW. Разрешить этой учетной записи иметь разрешения на доступ к расположению загрузки и совсем не другие.  
  
-   Назначьте одного пользователя PDW, обладающего разрешениями на загрузку данных. В зависимости от требований безопасности у вас может быть один конкретный пользователь для каждой базы данных.  
  
-   Операции на сервере загрузки могут принимать путь UNC, из которого извлекаются данные за пределами доверенной внутренней сети. А злоумышленник в сети или с возможностью влиять на разрешение имен может перехватывать или изменять данные, отправленные в SQL Server PDW. Это представляет риск несанкционированного доступа и раскрытия информации. Для устранения незаконного изменения необходимо выполнить вход с подключением. Чтобы уменьшить этот риск, установите следующий параметр групповой политики в области политики безопасности \ \ сервер \ **Параметры** \ на сервере загрузки: **Клиент сети Microsoft: Цифровая подпись (всегда): включено.**  
  
-   Отключите мгновенную инициализацию файлов в Windows Server 2012 и более поздних версиях. Это компромисс между производительностью и безопасностью, как указано в разделе "производительность". Необходимо решить, что лучше в соответствии с вашими требованиями к безопасности.  
  
## <a name="see-also"></a>См. также:  
[Обзор функций архивации и восстановления](backup-and-restore-overview.md)  
  
