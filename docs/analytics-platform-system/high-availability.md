---
title: Высокий уровень доступности
description: Узнайте, как архитектура системы аналитики (ТД) разработана для обеспечения высокого уровня доступности.
author: mzaman1
ms.prod: sql
ms.technology: data-warehouse
ms.topic: conceptual
ms.date: 04/17/2018
ms.author: murshedz
ms.reviewer: martinle
ms.custom: seo-dt-2019
ms.openlocfilehash: 6246ed25909a2e366d8bbafcd912a4fd923cc84a
ms.sourcegitcommit: d587a141351e59782c31229bccaa0bff2e869580
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/22/2019
ms.locfileid: "74401104"
---
# <a name="analytics-platform-system-high-availability"></a>Высокая доступность платформы аналитики
Узнайте, как архитектура системы аналитики (ТД) разработана для обеспечения высокого уровня доступности.  
  
## <a name="high-availability-architecture"></a>Архитектура высокого уровня доступности  
![Архитектура устройства](media/appliance-architecture.png "Архитектура устройства")  
  
## <a name="network"></a>Сеть  
Для доступности сети устройство AP имеет две сети InfiniBand. Если одна из сетей InfiniBand выходит из строя, то другая остается доступной. Кроме того, Active Directory содержит реплицированные контроллеры домена для разрешения входящих запросов к правильной сети InfiniBand.  
  
Дополнительные сведения см. в статье [Настройка сетевых адаптеров Infiniband](configure-infiniband-network-adapters.md).  
  
## <a name="storage"></a>Служба хранилища  
Чтобы обеспечить безопасность данных, ТД использует зеркальное отображение RAID 1 для обслуживания двух копий всех пользовательских данных. При сбое на диске аппаратная система перестраивает данные на запасной диск и устанавливает оповещение о сбое диска.  
  
Чтобы данные оставались доступными в сети, ТД использует дисковые пространства Windows и кластеризованные общие тома для управления дисковыми данными пользователей в непосредственно подключенном хранилище. Один пул носителей на единицу хранения данных организован в общие тома кластера, которые доступны для узлов вычислений в точках подключения.  
  
Чтобы гарантировать, что пул носителей остается в сети, на каждом узле в единице масштабирования данных будет виртуальная машина ISCSI, не отработка отказа. Эта архитектура важна, поскольку при сбое узла данные по-прежнему доступны через другие узлы в единице масштабирования данных.  
  
## <a name="hosts"></a>Узлы  
Для доступности узла все узлы настраиваются в отказоустойчивом кластере Windows. Каждая стойка имеет пассивный узел. При необходимости в первой стойке, которая управляет SQL Server параллельным хранилищем данных (PDW) и структурой устройств, может быть второй пассивный узел. В случае сбоя узла виртуальные машины, настроенные для отработки отказа, перейдут на доступный пассивный узел.  
  
## <a name="pdw-nodes-and-appliance-fabric"></a>Узлы PDW и структура устройств  
Для обеспечения высокой доступности узлов PDW и структуры устройств ТД использует виртуализацию. Каждый из компонентов PDW и фабрики устройств выполняется на виртуальной машине.  
  
Каждая виртуальная машина определяется как роль в отказоустойчивом кластере Windows. При сбое виртуальной машины кластер перезапускает его на доступном пассивном узле. Виртуальные машины развертываются с помощью System Center Virtual Machine Manager. Когда происходит отработка отказа, виртуальная машина, работающая на пассивном узле, по-прежнему может получить доступ к своим данным пользователей через сеть InfiniBand.  
  
Узлы управления и виртуальные машины с виртуальными узлами настроены как кластер с одним узлом. Кластер с одним узлом управляет сетями InfiniBand как ресурсом кластера, чтобы гарантировать, что кластер всегда использует активный IP-адрес InfiniBand. Кластер с одним узлом управляет процессами PDW, которые выполняются в виртуальной машине. Например, кластер с одним узлом содержит SQL Server и службу перемещения данных (DMS) в качестве ресурсов, чтобы их можно было запускать в правильном порядке. Виртуальная машина управляющего узла также управляет порядком запуска других виртуальных машин, работающих на узле оркестрации.  
  
