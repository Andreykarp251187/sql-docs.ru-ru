---
title: База данных tempdb
description: База данных tempdb в параллельном хранилище данных.
author: mzaman1
ms.prod: sql
ms.technology: data-warehouse
ms.topic: conceptual
ms.date: 04/17/2018
ms.author: murshedz
ms.reviewer: martinle
ms.custom: seo-dt-2019
ms.openlocfilehash: 3772e2b4cabac84c00854eba85f7a0c2a33d48bc
ms.sourcegitcommit: d587a141351e59782c31229bccaa0bff2e869580
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/22/2019
ms.locfileid: "74400141"
---
# <a name="tempdb-database-in-parallel-data-warehouse"></a>база данных tempdb в параллельном хранилище данных
база данных **tempdb** — это SQL Server PDW системная БД, в которой хранятся локальные временные таблицы для пользовательских баз данных. Временные таблицы часто используются для повышения производительности запросов. Например, можно использовать временную таблицу для разделения сценария и повторного использования вычисленных данных.  
  
Дополнительные сведения о системных базах данных см. в разделе [системные базы данных](system-databases.md).  
  
## <a name="Basics"></a>Ключевые термины и понятия  
*Локальная временная таблица*  
*Локальная временная таблица* использует префикс # перед именем таблицы и является временной таблицей, созданной локальным сеансом пользователя. Каждый сеанс может получить доступ только к данным в локальных временных таблицах для собственного сеанса.  
  
Каждый сеанс может просматривать метаданные локальных временных таблиц во всех сеансах. Например, все сеансы могут просматривать метаданные всех локальных временных таблиц с `SELECT * FROM tempdb.sys.tables` запросом.  
  
Глобальная временная таблица  
*Глобальные временные таблицы*, поддерживаемые в SQL Server с синтаксисом # #, не поддерживаются в этом выпуске SQL Server PDW.  
  
пдвтемпдб  
**пдвтемпдб** — это база данных, в которой хранятся локальные временные таблицы.  
  
PDW не реализует временные таблицы с помощью базы данных SQL Server**tempdb** . Вместо этого PDW сохраняет их в базе данных с именем пдвтемпдб. Эта база данных существует на каждом кластерном узле и является невидимой для пользователя через интерфейсы PDW. В консоли администрирования на странице хранилище эти учетные записи будут отображаться в системной базе данных PDW с именем **tempdb-SQL**.  
  
tempdb  
**tempdb** — база данных SQL Server tempdb. Он использует минимальное протоколирование. SQL Server использует базу данных tempdb на вычисленных узлах для хранения временных таблиц, которые необходимы в процессе выполнения SQL Serverных операций.  
  
SQL Server PDW удаляет таблицы из **базы данных tempdb** в следующих случаях:  
  
-   Выполняется инструкция DROP TABLE.  
  
-   Сеанс отключен. Удаляются только временные таблицы для сеанса.  
  
-   Устройство завершает работу.  
  
-   Узел элемента управления имеет отработку отказа кластера.  
  
## <a name="general-remarks"></a>Общие замечания  
SQL Server PDW выполняет те же операции с временными таблицами и с постоянными таблицами, если явно не указано иное. Например, данные в локальных временных таблицах, как и постоянные таблицы, либо распределяются, либо реплицируются между разными узлами вычислений.  
  
## <a name="LimitationsRestrictions"></a>Ограничения  
Ограничения для базы данных SQL Server PDW**tempdb** . Вы *не можете:*  
  
-   Создайте глобальную временную таблицу, которая начинается с # #.  
  
-   Выполните резервное копирование или восстановление **базы данных tempdb**.  
  
-   Измените разрешения на **базу данных tempdb** с помощью инструкций **Grant**, **Deny**или **REVOKE** .  
  
-   Выполните **инструкцию DBCC SHRINKLOG** **для tempdb tempdb.**  
  
-   Выполнение DDL операций в **базе данных tempdb**. Существует несколько исключений. Дополнительные сведения см. в следующем списке ограничений и ограничений для локальных временных таблиц.  
  
Ограничения для локальных временных таблиц. Вы *не можете:*  
  
-   Переименование временной таблицы  
  
-   Создание секций, представлений или некластеризованных индексов во временной таблице. **Инструкцию ALTER INDEX** можно использовать для перестроения кластеризованного индекса для таблицы, созданной с помощью.  
  
-   Измените разрешения для временных таблиц с помощью инструкций GRANT, DENY или REVOKE.  
  
-   Выполнение команд консоли базы данных во временных таблицах.  
  
-   Используйте одно и то же имя для двух или более временных таблиц в одном пакете. Если в пакете используется несколько локальных временных таблиц, они должны иметь уникальные имена. Если несколько сеансов используют один пакет и создает одну и ту же локальную временную таблицу, SQL Server PDW внутренне добавляет числовой суффикс к имени локальной временной таблицы, чтобы сохранить уникальное имя для каждой локальной временной таблицы.  
  
> [!NOTE]  
> Вы *можете* создавать и обновлять статистику во временной таблице. **Инструкцию ALTER INDEX** можно использовать для перестроения кластеризованного индекса.  
  
## <a name="permissions"></a>Разрешения  
Любой пользователь может создавать временные объекты в базе данных tempdb. Если не предоставлены какие-либо дополнительные разрешения, то пользователи могут производить доступ только к тем объектам, которыми они владеют. Существует возможность отменить разрешение на соединение с базой данных tempdb, чтобы пользователь не мог ей пользоваться, но этого делать не рекомендуется, так как база данных tempdb необходима для работы некоторым подпрограммам.  
  
## <a name="RelatedTasks"></a>Связанные задачи  
  
|Задачи|Описание|  
|---------|---------------|  
|Создайте таблицу в **базе данных tempdb**.|Можно создать временную таблицу пользователя с помощью CREATE TABLE и CREATE TABLE в качестве инструкций SELECT. Дополнительные сведения см. в разделе [CREATE TABLE](../t-sql/statements/create-table-azure-sql-data-warehouse.md) и [CREATE TABLE в качестве SELECT](../t-sql/statements/create-table-as-select-azure-sql-data-warehouse.md).|  
|Просмотр списка существующих таблиц в **базе данных tempdb**.|`SELECT * FROM tempdb.sys.tables;`|  
|Просмотр списка существующих столбцов в **базе данных tempdb**.|`SELECT * FROM tempdb.sys.columns;`|  
|Просмотр списка существующих объектов в **базе данных tempdb**.|`SELECT * FROM tempdb.sys.objects;`|  
  
<!-- MISSING LINKS 
## See Also  
[Common Metadata Query Examples &#40;SQL Server PDW&#41;](../sqlpdw/common-metadata-query-examples-sql-server-pdw.md)  
-->
  
