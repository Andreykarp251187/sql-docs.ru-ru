---
title: Инструкция CREATE MEMBER (многомерные Выражения) | Документация Майкрософт
ms.date: 06/04/2018
ms.prod: sql
ms.technology: analysis-services
ms.custom: mdx
ms.topic: reference
ms.author: owend
ms.reviewer: owend
author: minewiskan
manager: kfile
ms.openlocfilehash: 432438fe9a6e1b39c849188050b67f816d895187
ms.sourcegitcommit: f7fced330b64d6616aeb8766747295807c92dd41
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "63250207"
---
# <a name="mdx-data-definition---create-member"></a>Определение данных многомерных выражений — CREATE MEMBER


  Создает вычисляемый элемент.  
  
## <a name="syntax"></a>Синтаксис  
  
```  
  
CREATE [ SESSION ] [HIDDDEN] [ CALCULATED ] MEMBER CURRENTCUBE | Cube_Name.Member_Name   
   AS MDX_Expression  
      [,Property_Name = Property_Value, ...n]  
......[,SCOPE_ISOLATION = CUBE]  
```  
  
## <a name="arguments"></a>Аргументы  
 *Cube_Name*  
 Допустимое строковое выражение, содержащее имя куба, в котором будет создан элемент.  
  
 *Member_Name*  
 Допустимое строковое выражение, возвращающее имя элемента. Укажите полное имя, чтобы создать элемент в измерении, отличном от измерения мер. Если этого не сделать, элемент будет создан в измерении мер.  
  
 *MDX_Expression*  
 Допустимое многомерное выражение.  
  
 *Property_name*  
 Допустимое строковое выражение, представляющее имя свойства вычисляемого элемента.  
  
 *Property_Value*  
 Допустимое скалярное выражение, представляющее значение свойства вычисляемого элемента.  
  
## <a name="remarks"></a>Примечания  
 Инструкция CREATE MEMBER определяет вычисляемые элементы, которые доступны для всего сеанса и могут использоваться в нескольких запросах в данном сеансе. Дополнительные сведения см. в разделе [Создание вычисляемые элементы &#40;многомерных Выражений&#41;](../analysis-services/multidimensional-models/mdx/mdx-calculated-members-session-scoped-calculated-members.md).  
  
 Можно также определить вычисляемый элемент для использования только в одном запросе. Для определения вычисляемого элемента, ограниченного рамками одного запроса, используется предложение WITH в инструкции SELECT. Дополнительные сведения см. в разделе [областью действия запроса вычисляемые элементы &#40;многомерных Выражений&#41;](../analysis-services/multidimensional-models/mdx/mdx-calculated-members-query-scoped-calculated-members.md).  
  
 *Property_name* могут ссылаться на свойства либо стандартным или дополнительным вычисляемого элемента. Стандартные свойства элементов перечислены далее в этом разделе. Вычисляемые элементы, созданные инструкцией CREATE MEMBER без **СЕАНСА** значение имеют область сеанса. Кроме того, строки в определениях вычисляемых элементов разделяются двойными кавычками. В OLE DB определен другой метод, указывающий, что строки должны разделяться одиночными кавычками.  
  
 При указании куба, отличного от текущего подключенного куба, возникает ошибка. Поэтому для обращения к текущему кубу вместо указания имени куба рекомендуется использовать переменную CURRENTCUBE.  
  
 Дополнительные сведения о свойствах элементов, определенных в OLE DB, см. в документации OLE DB.  
  
## <a name="scope"></a>Область действия  
 Вычисляемый элемент может встречаться в одной из областей действия, перечисленных ниже.  
  
 Область запроса  
 Видимость и время жизни этого вычисляемого элемента ограничиваются данным запросом. Вычисляемый элемент определен в одном запросе. Область запроса имеет приоритет по сравнению с областью сеанса. Дополнительные сведения см. в разделе [областью действия запроса вычисляемые элементы &#40;многомерных Выражений&#41;](../analysis-services/multidimensional-models/mdx/mdx-calculated-members-query-scoped-calculated-members.md).  
  
 Область сеанса  
 Видимость и время жизни этого вычисляемого элемента ограничиваются сеансом, в котором создан элемент. (Время существования меньше длительности сеанса, если инструкция DROP MEMBER выдается на вычисляемом элементе.) Инструкция CREATE MEMBER создает вычисляемый элемент с областью сеанса.  
  
### <a name="scope-isolation"></a>Изоляция на уровне области  
 Если скрипт многомерных выражений куба содержит вычисляемые элементы, то по умолчанию они вычисляются до выполнения любых вычислений области сеанса и вычислений, определенных в запросе.  
  
> [!NOTE]  
>  В некоторых сценариях [Aggregate (MDX)](../mdx/aggregate-mdx.md) функции и [VisualTotals (многомерные Выражения)](../mdx/visualtotals-mdx.md) такое поведение не работают.  
  
 Эта особенность позволяет обычным клиентским приложениям работать с кубами, которые содержат сложные вычисления, не вдаваясь в конкретную реализацию вычислений. Однако в некоторых сценариях может потребоваться выполнения сеанса или вычисляемых элементов с областью действия запроса перед определенные вычисления в кубе, а не **агрегатные** функция ни **VisualTotals** функция применимы. Чтобы сделать это, воспользуйтесь свойством вычисления SCOPE_ISOLATION.  
  
#### <a name="example"></a>Пример  
 Ниже приведен пример скрипта, в котором для получения правильного результата используется свойство вычисления SCOPE_ISOLATION.  
  
 **Сценарии многомерных Выражений куба:**  
  
```  
CREATE MEMBER CURRENTCUBE.Measures.ProfitRatio AS 'Measures.[Store Sales]/Measures.[Store Cost]', SOLVE_ORDER = 10  
```  
  
 **Запрос многомерных Выражений:**  
  
```  
WITH MEMBER [Customer].[Customers].[USA]. USAWithoutWA AS  
[Customer].[Customers].[Country].&[USA] - [Customer].[Customers].[State Province.&[WA], SOLVE_ORDER=5  
SELECT {USAWithoutWA} ON 0 FROM SALES  
WHERE ProfitRatio  
```  
  
 В результате предыдущего запроса требовалось определить долю продаж в США, без штата Вашингтон (чтобы сохранить стоимость для США без штата Вашингтон). Предыдущий запрос не вернул ожидаемого результата. Возвращенным результатом была доля США за вычетом доли штата Вашингтон, что лишено смысла. Для достижения желаемого результата можно воспользоваться свойством вычисления SCOPE_ISOLATION.  
  
 **Запрос многомерных Выражений, с помощью вычисления SCOPE_ISOLATION:**  
  
```  
WITH MEMBER [Customer].[Customers].[USA]. USAWithoutWA AS  
[Customer].[Customers].[Country].&[USA] - [Customer].[Customers].[State Province.&[WA], SOLVE_ORDER=5  
,SCOPE_ISOLATION=CUBE  
SELECT {USAWithoutWA} ON 0 FROM SALES  
WHERE ProfitRatio  
```  
  
## <a name="standard-properties"></a>Стандартные свойства  
 У каждого вычисляемого элемента есть набор стандартных свойств. При подключении клиентского приложения к [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)], по умолчанию используются свойства либо поддерживаются, либо доступны для поддержки, по выбору администратора.  
  
 Дополнительные свойства могут быть доступны в зависимости от определения куба. Следующие свойства отражают сведения, относящиеся к уровню измерения в данном кубе.  
  
|Идентификатор свойства|Значение|  
|-------------------------|-------------|  
|SOLVE_ORDER|Порядок, в котором этот вычисляемый элемент будет вычисляться в случаях, когда один вычисляемый элемент ссылается на другой (то есть когда вычисляемые элементы пересекаются друг с другом).|  
|FORMAT_STRING|Строка формата стиль Office, клиентское приложение может использовать для отображения значений ячеек.|  
|VISIBLE|Значение, определяющее видимость вычисляемого элемента в наборе строк схемы. Видимые вычисляемые элементы могут добавляться к набору с [AddCalculatedMembers](../mdx/addcalculatedmembers-mdx.md) функции. Ненулевое значение указывает, что данный вычисляемый элемент видим. Значение по умолчанию для этого свойства — *Visible*.<br /><br /> Невидимые вычисляемые элементы (для которых значение свойства равно нулю) обычно используются как промежуточные этапы при вычислении более сложных элементов. К таким вычисляемым элементам могут также обращаться другие типы элементов, например меры.|  
|NON_EMPTY_BEHAVIOR|Мера или набор, используемые для определения поведения вычисляемых элементов при разрешении пустых ячеек.<br /><br /> **\*\* Предупреждение \* \***  это свойство является устаревшим. Не задавайте его. Дополнительные сведения см. в разделе [Нерекомендуемые функции служб Analysis Services в SQL Server 2016](../analysis-services/deprecated-analysis-services-features-in-sql-server-2016.md) .|  
|CAPTION|Строка, используемая клиентским приложением в качестве заголовка элемента.|  
|DISPLAY_FOLDER|Строка, определяющая путь к папке отображения, которую клиентское приложение использует для демонстрации элемента. Разделитель уровней вложенности папок определяется клиентским приложением. Для средств и клиентов, входящих [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)], обратная косая черта (\\) — это разделитель уровней вложенности. Чтобы указать для определенного элемента несколько папок отображения, используйте точку с запятой (;) для разделения папок.|  
|ASSOCIATED_MEASURE_GROUP|Имя группы мер, с которой связан элемент.|  
  
## <a name="see-also"></a>См. также  
 [Инструкция DROP MEMBER &#40;многомерных Выражений&#41;](../mdx/mdx-data-definition-drop-member.md)   
 [Инструкция UPDATE MEMBER &#40;многомерных Выражений&#41;](../mdx/mdx-data-definition-update-member.md)   
 [Инструкции определения данных многомерных Выражений &#40;многомерных Выражений&#41;](../mdx/mdx-data-definition-statements-mdx.md)  
  
  
