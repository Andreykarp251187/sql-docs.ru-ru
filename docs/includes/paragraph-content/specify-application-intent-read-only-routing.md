---
title: включить файл
description: включить файл
services: sql-database
author: MightyPen
ms.service: sql-database
ms.topic: include
ms.date: 04/05/2018
ms.author: genemi
ms.custom: include file
ms.openlocfilehash: 0e7d549c2f3b02349007815019cc47647f172f73
ms.sourcegitcommit: b2464064c0566590e486a3aafae6d67ce2645cef
ms.translationtype: MTE75
ms.contentlocale: ru-RU
ms.lasthandoff: 07/15/2019
ms.locfileid: "68213536"
---
## <a name="specifying-application-intent"></a>Задание намерения приложения

Ключевое слово **ApplicationIntent** можно указать в строке подключения. Являются присваиваемыми значениями **ReadWrite** или **ReadOnly**. По умолчанию используется **ReadWrite**.

Когда **ApplicationIntent = ReadOnly**, клиент запрашивает рабочую нагрузку чтения при подключении. Сервер принудительно реализует намерение в момент соединения и во время **используйте** базы данных инструкции.

Ключевое слово **ApplicationIntent** не работает с базами данных прежних версий, доступными только для чтения.  


#### <a name="targets-of-readonly"></a>Целевые объекты только для чтения

Когда подключение выбирает **ReadOnly**, подключение является назначенных какой-либо из следующих специальных конфигураций, которые могут существовать для базы данных:

- [AlwaysOn](~/database-engine/availability-groups/windows/overview-of-always-on-availability-groups-sql-server.md)
    - База данных может допускать или не допускать рабочую нагрузку чтения для целевой базы данных AlwaysOn. Этот выбор осуществляется с помощью **ALLOW_CONNECTIONS** предложении **PRIMARY_ROLE** и **SECONDARY_ROLE** инструкций Transact-SQL.

- [Георепликация](https://docs.microsoft.com/azure/sql-database/sql-database-geo-replication-overview)

- [Горизонтальное масштабирование для чтения](https://docs.microsoft.com/azure/sql-database/sql-database-read-scale-out)

Если ни один из этих специальных целевых объектов, обычной базой данных считывается из.

&nbsp;

**ApplicationIntent** включает ключевое слово *маршрутизации только для чтения*.


## <a name="read-only-routing"></a>Маршрутизация только для чтения

Маршрутизация только для чтения — это функция, которая способна обеспечить доступность реплики базы данных только для чтения. Чтобы включить маршрутизацию только для чтения, применяются все из следующих:

- Необходимо установить соединение с прослушивателем группы доступности Always On.

- Ключевое слово строки подключения **ApplicationIntent** должно быть установлено в значение **ReadOnly**.

- Группа доступности должна быть настроена администратором базы данных на поддержку маршрутизации только для чтения.

Несколько подключений с использованием маршрутизации только для чтения может не подключены к той же репликой только для чтения. Изменения в синхронизации баз данных или в конфигурации маршрутизации сервера могут привести к тому, что клиент будет подключаться к различным репликам только для чтения. Можно убедиться, что все запросы только для чтения соединиться с той же репликой только для чтения. Убедитесь, это тождественности, *не* передачи прослушиватель группы доступности в **Server** ключевое слово строки подключения. Вместо этого укажите имя экземпляра, доступного только для чтения.

Маршрутизация только для чтения может занять больше времени, чем подключение к первичной реплике. Это происходит потому, что при маршрутизации с правом доступа только для чтения выполняется подключение к первичной реплике, а затем выполняется поиск наиболее подходящей вторичной реплики, доступной для чтения. Из-за этих нескольких staps следует увеличить время ожидания входа для по крайней мере 30 секунд.

