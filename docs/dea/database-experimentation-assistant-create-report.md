---
title: Создание аналитических отчетов
description: Создание аналитических отчетов в Database Experimentation Assistant
ms.date: 10/22/2018
ms.prod: sql
ms.prod_service: dea
ms.suite: sql
ms.technology: dea
ms.tgt_pltfrm: ''
ms.topic: conceptual
author: HJToland3
ms.author: ajaykar
ms.reviewer: mathoma
ms.custom: seo-lt-2019
ms.openlocfilehash: 39c82d145a27a46ccc59ec4805e27ffd299f0d96
ms.sourcegitcommit: d00ba0b4696ef7dee31cd0b293a3f54a1beaf458
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/13/2019
ms.locfileid: "74056593"
---
# <a name="create-analysis-reports-in-database-experimentation-assistant-sql-server"></a>Создание аналитических отчетов в Database Experimentation Assistant (SQL Server)

После воспроизведения исходной трассировки на обоих целевых серверах можно создать аналитический отчет в Database Experimentation Assistant (ДЕА). Аналитические отчеты помогают получить представление о влиянии предлагаемых изменений на производительность.

## <a name="create-an-analysis-report"></a>Создание аналитического отчета

В ДЕА выберите значок меню. В развернутом меню выберите **отчеты об анализе** рядом со значком контрольного списка.

![Меню "анализ"](./media/database-experimentation-assistant-create-report/dea-create-reports-menu.png)

В разделе **аналитические отчеты**выберите **новый аналитический отчет**.

![Меню создания аналитического отчета](./media/database-experimentation-assistant-create-report/dea-create-reports-new-report.png)

Введите или выберите следующие сведения:

- **Имя отчета**: введите имя отчета. Имя отчета используется для баз данных A и B. Пример: *A (или B)*  + *имя отчета* + *уникальном идентификаторе*. 
- **Имя сервера**: введите имя серверного компьютера, который необходимо включить в базы данных, B и Analysis.
- **SQL Server имя экземпляра**: введите имя экземпляра SQL Server, который будет использоваться для отчета.
- **Трассировка для исходного сервера**: введите первый (TRC) файл трассировки SQL Server (2008 R2).
- **Трассировка для целевого сервера**: введите целевой SQL Server (2014) First. trc-файл.

![Страница «Создание отчета об анализе»](./media/database-experimentation-assistant-create-report/dea-create-reports-inputs.png)

## <a name="generate-a-report"></a>Создание отчета

После ввода или выбора требуемой информации на странице **Создание отчета об анализе** нажмите кнопку **начать** , чтобы начать создание отчета. Если введенная информация действительна, то создается отчет об анализе. В противном случае текстовые поля с недопустимыми сведениями выделяются красным цветом. Убедитесь, что введены правильные значения, а затем нажмите кнопку **запустить**. 

Будет создан новый отчет об анализе. База данных анализа соответствует анализу схемы именования + *указанное пользователем имя отчета* + *уникальном идентификаторе*.

## <a name="frequently-asked-questions-about-analysis-reports"></a>Часто задаваемые вопросы об аналитических отчетах

### <a name="what-does-my-analysis-report-tell-me"></a>Что мой отчет об анализе сообщает мне?
    
ДЕА использует статистические тесты для анализа рабочей нагрузки и определения того, как каждый запрос выполнялся с целевого 1 до целевого. 2. Он предоставляет подробные сведения о производительности для каждого запроса. Дополнительные сведения о ДЕА см. в статье [Приступая к работе](database-experimentation-assistant-get-started.md).
    
### <a name="can-i-create-a-new-analysis-report-while-another-report-is-being-generated"></a>Можно ли создать новый отчет об анализе во время создания другого отчета?
    
Нет.  В настоящее время для предотвращения конфликтов можно создать только один отчет за раз. Однако можно одновременно запустить несколько записей и воспроизвести их.

### <a name="i-upgraded-dea-to-version-20-can-i-still-view-and-use-my-old-reports"></a>Я обновил ДЕА до версии 2,0. Можно ли по-прежнему просматривать и использовать мои старые отчеты?
    
Да. Чтобы просмотреть ранее созданные отчеты, необходимо обновить схему отчета. Дополнительные сведения см. [в статье деа 2,0: обновление схемы базы данных для аналитического отчета в ДЕА](https://blogs.msdn.microsoft.com/datamigration/2017/03/24/dea-2-0-updating-db-schema-for-analysis-report-in-the-database-experimentation-assistant/).
    
### <a name="can-i-generate-an-analysis-report-by-using-the-command-prompt"></a>Можно ли создать аналитический отчет с помощью командной строки?
    
Да. Отчет анализа можно создать в командной строке. Затем можно просмотреть отчет в пользовательском интерфейсе. Дополнительные сведения см. [в разделе Запуск в командной строке](database-experimentation-assistant-run-command-prompt.md).
    
## <a name="troubleshoot-analysis-reports"></a>Устранение неполадок аналитических отчетов

###  <a name="what-security-permissions-do-i-need-to-generate-and-view-an-analysis-report-on-my-server"></a>Какие разрешения безопасности требуются для создания и просмотра отчета об анализе на моем сервере?
    
Пользователь, вошедший в Деа, должен иметь права системного администратора на сервере анализа данных. Если пользователь входит в группу, убедитесь, что у группы есть права системного администратора.

|Возможные ошибки|Решение|  
|---|---|  
|Не удалось подключиться к базе данных. Убедитесь, что у вас есть права sysadmin для анализа и просмотра отчетов.|Возможно, у вас нет прав доступа или роли sysadmin для сервера или базы данных. Подтвердите права входа и повторите попытку.|  
|Не удалось создать **имя отчета** для **имени сервера**сервера. Дополнительные сведения см. в отчете **имя отчета** .|Возможно, у вас нет прав sysadmin, необходимых для создания нового отчета. Чтобы просмотреть подробные ошибки, выберите отчет с ошибками и проверьте журналы в каталоге% Temp%\\ДЕА.|  
|У текущего пользователя нет необходимых разрешений для выполнения операции. Убедитесь, что у вас есть права sysadmin для выполнения трассировки и анализа отчетов.|У вас нет прав sysadmin, необходимых для создания нового отчета.|  

### <a name="i-cant-connect-to-the-computer-running-sql-server"></a>Не удается подключиться к компьютеру, на котором работает SQL Server
    
- Убедитесь, что имя компьютера, на котором работает SQL Server, является допустимым. Для подтверждения попробуйте подключиться к серверу с помощью SQL Server Management Studio (SSMS).
- Убедитесь, что конфигурация брандмауэра не блокирует подключения к компьютеру, на котором работает SQL Server.
- Убедитесь, что у пользователя есть необходимые права пользователя. 

Дополнительные сведения можно просмотреть в журналах в каталоге% Temp%\\ДЕА. Если проблема не исчезнет, обратитесь к группе разработчиков продукта.

### <a name="i-see-an-error-when-i-generate-an-analysis-report"></a>При создании отчета по анализу отображается сообщение об ошибке
    
Доступ к Интернету необходим при первом создании отчета об анализе после установки ДЕА. Для загрузки пакетов, необходимых для статистического анализа, необходим доступ к Интернету.

При возникновении ошибки во время создания отчета на странице Выполнение отображается конкретный шаг, на котором произошел сбой при создании анализа. Дополнительные сведения можно просмотреть в журналах в каталоге% Temp%\\ДЕА. Убедитесь в наличии допустимого соединения с сервером с необходимыми правами пользователя и повторите попытку. Если проблема не исчезнет, обратитесь к группе разработчиков продукта.

|Возможные ошибки|Решение|  
|---|---|  
|Ринтероп ошибка при запуске. Проверьте журналы Ринтероп и повторите попытку.|ДЕА требуется доступ к Интернету для загрузки зависимых пакетов R. Проверьте журналы Ринтероп в каталоге% Temp%\\Ринтероп и ДЕА в папке% Temp%\\ДЕА. Если Ринтероп был инициализирован неправильно или если он был инициализирован без правильных пакетов R, то после шага Инитиализеринтероп в журналах ДЕА может отобразиться исключение «не удалось создать отчет об анализе».<br><br>Кроме того, в журналах Ринтероп может отображаться сообщение об ошибке "пакет жсонлите недоступен". Если у компьютера нет доступа к Интернету, необходимо вручную скачать необходимый пакет жсонлите R:<br><br><li>Перейдите в папку% UserProfile%\\Деарпаккажес в файловой системе компьютера. Эта папка состоит из пакетов, используемых R для ДЕА.</li><br><li>Если в списке установленных пакетов отсутствует папка жсонлите, требуется компьютер с доступом к Интернету для загрузки окончательной версии жсонлите\_1.4. zip из [https://cran.r-project.org/web/packages/jsonlite/index.html](https://cran.r-project.org/web/packages/jsonlite/index.html).</li><br><li>Скопируйте ZIP-файл на компьютер, на котором вы используете ДЕА.  Извлеките папку жсонлите и скопируйте ее в% UserProfile%\\Деарпаккажес. Этот шаг автоматически устанавливает пакет жсонлите в R. Папка должна называться **жсонлите** , а содержимое — непосредственно внутри папки, а не на одном уровне ниже.</li><br><li>Закройте Деа, снова откройте и повторите анализ.</li><br>Можно также использовать RGUI. Перейдите в раздел **пакеты** > **установку из ZIP**-файла. Перейдите к загруженному ранее пакету и установите.<br><br>Если Ринтероп был инициализирован и настроен правильно, вы увидите раздел "Установка зависимого пакета R жсонлите" в журналах Ринтероп.|  
|Не удалось подключиться к экземпляру SQL Server. Убедитесь, что имя сервера указано правильно, и проверьте наличие необходимого доступа для пользователя, выполнившего вход.|Возможно, у вас нет доступа или прав пользователя на сервер, либо имя сервера может быть неправильным.| 
|Истекло время ожидания процесса Ринтероп. Проверьте журналы ДЕА и Ринтероп, закройте процесс Ринтероп в диспетчере задач и повторите попытку.<br><br>или<br><br>Ринтероп находится в состоянии сбоя. В диспетчере задач закройте процесс Ринтероп и повторите попытку.|Проверьте журналы в% Temp%\\Ринтероп, чтобы подтвердить ошибку. Прежде чем повторить попытку, удалите процесс Ринтероп из диспетчера задач. Если проблема не исчезнет, обратитесь к группе разработчиков продукта.| 

### <a name="the-report-is-generated-but-data-appears-to-be-missing"></a>Отчет будет создан, но данные, по-видимому, отсутствуют
    
Проверьте базу данных на компьютере анализа, на котором работает SQL Server, чтобы убедиться, что данные существуют. Убедитесь, что база данных анализа существует и проверьте ее таблицы. Например, проверьте следующие таблицы: Тблбатчеса, Тблбатчесб и Тблсуммаристатс.

Если данные не существуют, возможно, данные скопированы неправильно или база данных повреждена. Если отсутствуют только некоторые данные, файлы трассировки, созданные в записи или воспроизведении, могут не захватывать рабочую нагрузку точно. Если данные существуют, проверьте файлы журнала в каталоге% Temp%\\Деа, чтобы узнать, были ли зарегистрированы ошибки. Затем повторите попытку, чтобы создать аналитический отчет.

Больше вопросов или отзывов? Отправьте отзыв с помощью инструмента Деа, щелкнув значок смайлика в левом нижнем углу.  

## <a name="next-steps"></a>Следующие шаги

- Сведения о просмотре отчета об анализе см. в разделе [Просмотр отчетов](database-experimentation-assistant-view-report.md).

- Чтобы получить 19-минутное введение в ДЕА и демонстрацию, просмотрите следующее видео:

  > [!VIDEO https://channel9.msdn.com/Shows/Data-Exposed/Introducing-the-Database-Experimentation-Assistant/player]
