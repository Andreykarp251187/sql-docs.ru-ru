---
title: Обзор процесса сравнения рабочих нагрузок
description: Database Experimentation Assistant (ДЕА) — это решение для тестирования A/B для изменений в средах SQL Server, таких как обновления или новые индексы.
ms.date: 11/16/2019
ms.prod: sql
ms.prod_service: dea
ms.suite: sql
ms.technology: dea
ms.tgt_pltfrm: ''
ms.topic: conceptual
author: HJToland3
ms.author: jtoland
ms.reviewer: mathoma
ms.custom: seo-lt-2019
ms.openlocfilehash: 18cba7abf0d73197c248a62283d52126873169a3
ms.sourcegitcommit: f018eb3caedabfcde553f9a5fc9c3e381c563f1a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/18/2019
ms.locfileid: "74165752"
---
# <a name="overview-of-the-workload-comparison-process"></a>Обзор процесса сравнения рабочих нагрузок

Database Experimentation Assistant (ДЕА) помогает оценить, как Рабочая нагрузка на исходном сервере (в текущей среде) будет выполняться в новой среде. ДЕА поможет выполнить тестирование A/B, выполнив три этапа:

- Запись трассировки рабочей нагрузки на исходном сервере.
- Воспроизведение захваченной трассировки рабочей нагрузки на целевом компьютере 1 и целевом компьютере 2.
- Анализ воспроизводимых трассировок рабочей нагрузки, собранных с целевого объекта 1 и целевого объекта 2.

Эта статья содержит общие сведения об этом процессе.

## <a name="capturing-a-workload-trace"></a>Запись трассировки рабочей нагрузки

Первый этап SQL Server A/B-тестирования — запись трассировки на исходном сервере. Исходным сервером обычно является рабочий сервер. Файлы трассировки записывают всю рабочую нагрузку запроса на этом сервере, включая метки времени.

Рекомендации

- Прежде чем начать запись трассировки рабочей нагрузки, обязательно создайте резервные копии баз данных, из которых выполняется захват трассировки.
- Пользователь ДЕА должен быть настроен для подключения к базе данных с использованием проверки подлинности Windows.
- Учетной записи службы SQL Server требуется доступ к исходному пути файла трассировки.
- Чтобы ДЕА определить, улучшился ли производительность запроса, этот запрос должен выполняться не менее 15 раз в течение периода записи.

## <a name="replaying-a-workload-trace"></a>Воспроизведение трассировки рабочей нагрузки

Вторым этапом SQL Server A/B является воспроизведение файла трассировки, сохраненного на двух целевых серверах:

Целевой объект 1, имитирующий целевой сервер исходного кода 2, который имитирует предполагаемую целевую среду.

Конфигурации оборудования целевого объекта 1 и целевого сервера должны быть настолько же, чтобы SQL Server можно было точно проанализировать воздействие предложенных изменений на производительность.

Рекомендации

- Чтобы воспроизвести трассировку рабочей нагрузки, компьютеры должны быть настроены для запуска трассировок распределенное воспроизведение (DReplay).
- Не забудьте восстановить базы данных на целевых серверах с помощью резервной копии с исходного сервера.
- Рекомендуется перезапустить службу SQL Server (MSSQLSERVER) в приложении "службы", чтобы повысить согласованность результатов оценки. Кэширование запросов в SQL Server может повлиять на результаты оценки.

## <a name="analyzing-the-replayed-workload-traces"></a>Анализ воспроизводимых трассировок рабочей нагрузки

Завершающим этапом процесса является создание аналитического отчета с помощью трассировок воспроизведения. После этого аналитический отчет можно просматривать, чтобы получить представление о потенциальных последствиях предполагаемого изменения производительности.

Рекомендации

- Если один или несколько компонентов отсутствуют, при попытке создать отчет об анализе (требуется подключение к Интернету) отображается страница предварительные требования со ссылками для загрузки.
- Для просмотра отчета, созданного в более ранней версии средства, необходимо сначала обновить схему.

## <a name="see-also"></a>См. также:

- Сведения о создании файла трассировки с журналом событий, происходящих на сервере, см. в разделе [захват трассировки](database-experimentation-assistant-capture-trace.md).
