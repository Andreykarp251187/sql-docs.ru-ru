---
title: Обзор процесса сравнения рабочих нагрузок
description: Database Experimentation Assistant (ДЕА) — это решение для тестирования A/B для изменений в средах SQL Server, таких как обновления или новые индексы.
ms.date: 12/12/2019
ms.prod: sql
ms.prod_service: dea
ms.suite: sql
ms.technology: dea
ms.tgt_pltfrm: ''
ms.topic: conceptual
author: pochiraju
ms.author: rajpo
ms.reviewer: mathoma
ms.custom: seo-lt-2019
ms.openlocfilehash: a5a508a31d510d4004ece8d82c01615352739dce
ms.sourcegitcommit: e8f6c51d4702c0046aec1394109bc0503ca182f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/07/2020
ms.locfileid: "87951219"
---
# <a name="overview-of-the-workload-comparison-process"></a>Обзор процесса сравнения рабочих нагрузок

Database Experimentation Assistant (ДЕА) помогает оценить, как Рабочая нагрузка на исходном сервере (в текущей среде) будет выполняться в новой среде. ДЕА поможет выполнить тестирование A/B, выполнив три этапа:

- Запись трассировки рабочей нагрузки на исходном сервере.
- Воспроизведение захваченной трассировки рабочей нагрузки на целевом компьютере 1 и целевом компьютере 2.
- Анализ воспроизводимых трассировок рабочей нагрузки, собранных с целевого объекта 1 и целевого объекта 2.

Эта статья содержит общие сведения об этом процессе.

## <a name="capturing-a-workload-trace"></a>Запись трассировки рабочей нагрузки

Первый этап SQL Server A/B-тестирования — запись трассировки на исходном сервере. Исходным сервером обычно является рабочий сервер. Файлы трассировки записывают всю рабочую нагрузку запроса на этом сервере, включая метки времени.

Рекомендации:

- Прежде чем начать, обязательно создайте резервные копии баз данных, из которых вы будете собирать трассировку.
- Пользователь ДЕА должен иметь возможность подключиться к базе данных с помощью проверки подлинности Windows.
- Учетная запись службы SQL Server должна иметь доступ к исходному пути к файлу трассировки.
- Чтобы ДЕА определить, улучшился ли производительность запроса, этот запрос должен выполняться не менее 15 раз в течение периода записи.

## <a name="replaying-a-workload-trace"></a>Воспроизведение трассировки рабочей нагрузки

Вторым этапом SQL Server A/B является воспроизведение файла трассировки, сохраненного на двух целевых серверах:

Целевой объект 1, имитирующий целевой сервер исходного кода 2, который имитирует предполагаемую целевую среду.

Конфигурации оборудования целевого объекта 1 и целевого сервера должны быть как можно более похожими, чтобы SQL Server можно было точно проанализировать воздействие предложенных изменений на производительность.

Рекомендации:

- Чтобы воспроизвести трассировку рабочей нагрузки, компьютеры должны быть настроены для запуска трассировок распределенное воспроизведение (DReplay).
- Не забудьте восстановить базы данных на целевых серверах с помощью резервной копии с исходного сервера.
- Рекомендуется перезапустить службу SQL Server (MSSQLSERVER) в приложении "службы", чтобы повысить согласованность результатов оценки. Кэширование запросов в SQL Server может повлиять на результаты оценки.

## <a name="analyzing-the-replayed-workload-traces"></a>Анализ воспроизводимых трассировок рабочей нагрузки

Завершающим этапом процесса является создание аналитического отчета с помощью трассировок воспроизведения и анализ отчета для получения ценных сведений о потенциальных влиянии предлагаемого изменения на производительность.

Рекомендации:

- Если один или несколько компонентов отсутствуют, при попытке создать отчет об анализе (требуется подключение к Интернету) отображается страница предварительные требования со ссылками для загрузки.
- Для просмотра отчета, созданного в более ранней версии средства, необходимо сначала обновить схему.

## <a name="see-also"></a>См. также статью

- Сведения о создании файла трассировки с журналом событий, происходящих на сервере, см. в статье [запись трассировки в Database experimentation Assistant](database-experimentation-assistant-capture-trace.md).