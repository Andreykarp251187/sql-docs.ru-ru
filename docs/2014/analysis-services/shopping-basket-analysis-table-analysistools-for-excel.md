---
title: Анализ покупательского поведения (средства анализа таблиц для Excel) | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- shopping basket analysis
- mining model, association
- Table Analysis tools
- association [data mining]
- market basket analysis
ms.assetid: ba40cf43-f286-49ad-8316-70f5b11f1dae
author: minewiskan
ms.author: owend
manager: craigg
ms.openlocfilehash: 3dadc054a3f9927c09e9e236044dd5ddee7f3a9a
ms.sourcegitcommit: 3026c22b7fba19059a769ea5f367c4f51efaf286
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/15/2019
ms.locfileid: "66068677"
---
# <a name="shopping-basket-analysis-table-analysistools-for-excel"></a>Анализ покупательского поведения (средства анализа таблиц для Excel)
  ![Список покупок](media/tat-shopbskt.gif "список покупок")  
  
 **Анализа покупательского поведения** средство помогает найти `associations` в данных. Взаимосвязь может показать, какие элементы чаще всего приобретаются вместе. В интеллектуальном анализе данных, этот способ является хорошо известный метод, известный как *анализа потребительской корзины*, которое используется для анализа поведения клиентов в очень больших наборов данных. Продавцы могут использовать эти сведения, чтобы рекомендовать связанные продукты клиентам и продвигать связанные продукты, располагая их рядом на веб-страницах, в каталогах или на полках.  
  
 Для использования анализа покупательского поведения анализируемые элементы должны быть связаны по идентификатору транзакции. Например, если анализируются все заказы, полученные через веб-узел, у каждого заказа будет существовать идентификатор заказа или идентификатор транзакции, связанный с одним или несколькими приобретенными элементами.  
  
 Когда мастер закончит анализ данных, он создает два новых листа: **группы элементов списка покупок** и **правила списка покупок**.  
  
 **Группы элементов списка покупок** лист содержит список элементов, которые часто встречаются вместе в транзакциях. Эти часто встречающиеся группирования называются *наборов элементов*. Лист также содержит статистические данные, такие как *поддерживает* и *точности прогнозов*, помогающие понять важность набора элементов. Если доступны сведения о ценах, на листе также создается сумма значений всех связанных элементов, чтобы показать суммарное значение транзакций.  
  
 Столбцы в отчете можно сортировать и фильтровать. Например, может потребоваться просмотреть только те наборы, 2 или более продуктов, или отсортировать наборы элементов, **Средняя стоимость корзины**.  
  
 **Правила списка покупок** лист использует статистические данные, полученные от анализа для создания правил связи элементов. Например правило может быть, что если клиент приобретает продукт А, они очень вероятно, купит продукт б. Правила можно использовать для создания рекомендаций. Каждое правило поддерживается статистическими данными, помогающими оценить потенциальную силу правила, чтобы можно было давать рекомендации только в том случае, если правило превышает определенный порог вероятности.  
  
## <a name="using-the-shopping-basket-analysis-tool"></a>Использование средства анализа покупательского поведения  
  
1.  Откройте таблицу Excel, содержащую соответствующие данные. Щелкните лист «Взаимосвзяи» в образце книги.  
  
2.  Нажмите кнопку **анализ покупательского поведения**.  
  
3.  В **анализа покупательского поведения** диалоговом окне выберите столбец, который содержит идентификатор транзакции, а затем выберите столбец, содержащий элементы или продукты, которые необходимо проанализировать.  
  
4.  Дополнительно можно добавить столбец, содержащий цену продуктов.  
  
5.  Нажмите кнопку**Дополнительно**открыть **дополнительная настройка параметров** диалоговое окно. Увеличьте значение **Минимальное несущее** для уменьшения количества продуктов, сгруппированных как наборы элементов. Увеличить **Минимальная вероятность правила** для фильтрации очень часто встречающихся наборов элементов.  
  
### <a name="requirements"></a>Требования  
 Чтобы использовать **анализа покупательского поведения** инструмент, данные должны храниться в таблице Excel и должен содержать следующие столбцы:  
  
-   Столбец, содержащий уникальный идентификатор, представляющий транзакцию. Идентификатор может быть числовым или текстовым. Самое важное, чтобы значение в каждой строке было уникально.  
  
-   Столбец, содержащий анализируемый продукт или элемент.  
  
-   Дополнительный числовой столбец, представляющий цену или значение каждого элемента. Данный столбец используется для статистической обработки значений наборов элементов, в которых был найден каждый из продуктов, и помогает понять суммарное значение определенных транзакций.  
  
## <a name="how-items-are-associated"></a>Как устанавливается взаимосвязь элементов  
 Отдельные анализируемые элементы должны быть сгруппированы по определенному идентификатору, представляющему вариант, транзакцию или возможность. Таким образом следует выбрать этот столбец Идентификатором транзакции как идентификатор и Идентификационный номер клиента или код продукта.  
  
 Когда средство изучает продукты в каждой транзакции, оно создает набор элементов для каждого найденного сочетания элементов. Например, если клиент купил трех элементов за одно посещение, есть 7 возможных наборов элементов: каждый продукт считается само по себе, каждый продукт, сгруппированных с одним другим продуктом и сочетание всех трех продуктов.  
  
> [!NOTE]  
>  Наборы элементов, содержащие одиночные продукты, можно отфильтровать, однако средству необходимо произвести их анализ для формирования значимой статистики для набора данных.  
  
 Несущее множество для каждого набора элементов — это число клиентов, купивших данный набор элементов. В приведенном выше примере, если существует только один клиент, купивший 3 элемента из 7 возможных наборов элементов, значение несущего множества каждого из семи наборов элементов равно 1. При росте числа клиентов и увеличении числа возможных сочетаний время обработки отчета может значительно увеличиться. Однако у некоторых наборов элементов несущее множество может быть крайне мало. В связи с этим можно ограничить количество элементов в каждом наборе элементов тремя или менее; это позволит сократить время, необходимое для формирования отчета. Обычно большие наборы элементов имеют гораздо меньшее несущее множество, поэтому такой компромисс приемлем.  
  
## <a name="specifying-minimum-support-and-rule-probability"></a>Указание минимального несущего множества и вероятности правил  
 При увеличении размера набора данных число возможных группирований элементов и правил может стать огромным. Однако можно управлять количеством результатов, выводимых средством, чтобы сконцентрировать внимание только на самых важных наборах элементов и правилах. Эти параметры задаются в **покупок Корзина Advanced диалоговое окно параметров**.  
  
### <a name="minimum-support"></a>Минимальное несущее множество  
 *Минимальное несущее множество* означает количество транзакций, которые должны содержать определенный набор элементов для набора элементов, чтобы он считался значимым. Например, набор элементов может быть интересен только в том случае, если он был приобретен как минимум в 10 разных транзакциях. Существует два способа управления порогом значимости набора элементов, и они оба используют **Минимальное несущее** параметра.  
  
 **Как абсолютное значение:** Введите число, представляющее количество транзакций, содержащих целевые элементы. Например, если ввести число 10, в результат будут включены любые наборы элементов, встречающиеся как минимум в 10 списках покупок.  
  
 **В виде процента.** Введите число, представляющее процент от всей коллекции наборов элементов. Например, если указать значение 10, будет произведен пересчет всех наборов элементов и целевой набор элементов должен присутствовать по крайней мере в 10 процентах от общего числа наборов элементов. При наличии очень большого набора данных использование процентов, а не абсолютного значения поможет сконцентрировать внимание на наиболее важных группированиях элементов.  
  
> [!NOTE]  
>  Следует помнить, что число наборов элементов отличается от числа транзакций в данных. Каждая транзакция может содержать несколько наборов элементов; однако большинство наборов элементов встречается в наборе данных несколько раз.  
  
### <a name="rule-probability-and-rule-importance"></a>Вероятность и важность правил  
 Вероятность правила описывает вероятность результата применения правила. Вероятность правил вычисляется с помощью частоты наборов элементов, поддерживающих правило. Если набор элементов встречается очень редко, у него будет низкая вероятность.  
  
 Однако правила, имеющие высокую вероятность, не всегда могут быть полезными. Они могут показывать наборы элементов, приобретаемые очень часто и, следовательно, не нуждающиеся в дополнительном продвижении. Важность предназначена для измерения степени полезности правила. Иногда правило может иметь очень высокую вероятность, но низкую важность, поскольку прогноз не выдает никакой новой информации. Например, если каждый набор элементов содержит особое состояние атрибута, правило, прогнозирующее состояние, является несущественным, хотя вероятность его очень высокая.  
  
 С этими настройками следует поэкспериментировать, чтобы увидеть различные результаты и определить, какие из настроек приводят к обнаружению наиболее интересных правил.  
  
## <a name="understanding-the-reports"></a>Основные сведения об отчетах  
 **Анализа покупательского поведения** средство создает два взаимодополняющих отчета. Первый отчет, под названием **существенные группы элементов, выявленные во время анализа**, содержит список всех наборов элементов, которые были найдены. Чтобы сортировать, фильтровать и просматривать данные, можно использовать новые средства для работы с таблицами, предоставленные в Microsoft Excel.  
  
 Во втором отчете, под названием **правила списка покупок**, рассказывается о том, какого рода вывод можно сделать на основе наборов элементов, перечисленных в первом отчете. Список наборов элементов будет более полезен для просмотра и понимания данных, тогда как список правил будет более полезен для создания прогнозов или рекомендаций.  
  
### <a name="shopping-basket-item-groups-report"></a>Отчет «Группы элементов списка покупок»  
 В этом отчете содержится список всех возможных сочетаний элементов, найденных в наборе данных. Например, если данные транзакций содержат заказы, для каждого заказа **анализа покупательского поведения** планировщик вычисляет, сколько раз был заказан отдельный элемент и затем вычисляет все сочетания этого элемента с другими элементами.  
  
 Найденные наборы элементов перечисляются в отчете в порядке их точности прогноза. Точность прогноза — это оценка, показывающая важность набора элементов.  
  
|Столбец отчета|Содержание|  
|----------------------|-----------------------|  
|Группа элементов|Перечисляются наборы элементов или сочетания элементов.|  
|Размер группы|Количество элементов в наборе элементов. К данному полю можно применить фильтр, чтобы отображались только пары элементов, одиночные элементы и т. д.|  
|Поддержка|Количество вариантов, в которых появилось данное сочетание. По данному столбцу можно выполнить сортировку, чтобы определить наиболее часто встречающиеся наборы элементов.|  
|Среднее значение|Сумма значений всех элементов в данном наборе элементов, деленная на значение несущего множества. По данному столбцу можно выполнить сортировку, также можно применять фильтры, чтобы назначить в качестве цели продукты в разных ценовых диапазонах.|  
|Средняя стоимость корзины|Сумма значений всех элементов в заказах, содержащих данный набор элементов, деленная на значение несущего множества. Эти статистические данные представляют интерес при совместном использовании со средним значением набора элементов.|  
|Точность прогноза|Оценка, представляющая значимость данного элемента во всем наборе элементов. Точность прогноза вычисляется путем деления вероятности совместного появления двух элементов на вероятность их появления независимо друг от друга. Вследствие этого, если между элементами присутствует сильная взаимосвязь, оценка точности прогноза будет выше.|  
  
### <a name="shopping-basket-rules-report"></a>Отчет «Правила списка покупок»  
 В данном отчете содержится набор правил, которые были построены при анализе найденных наборов элементов. Например, если данные транзакций показали, что продукты А и Б часто приобретаются вместе, средство анализа покупательского поведения создаст правило, прогнозирующее продукт А при данном присутствии продукта Б или продукт Б при данном присутствии продукта А.  
  
 Каждое правило связывается с вероятностью, полученной из данных несущего множества. Эти вероятности полезны при создании рекомендаций. Например, основываясь на существующих данных, пользователю могут понадобиться только те правила, которые имеют как минимум 50-процентную вероятность точности.  
  
 Найденные наборы элементов перечисляются в отчете в порядке их точности прогноза. Точность прогноза — это оценка, показывающая важность набора элементов.  
  
|Столбец отчета|Содержание|  
|----------------------|-----------------------|  
|Существующие элементы|Перечисляются элементы, необходимые для создания рекомендации.<br /><br /> В интеллектуальном анализе данных, эти элементы называются на *левая сторона* правила взаимосвязи.|  
|Спрогнозированный элемент|Перечисляет элемент, который следует рекомендовать.<br /><br /> В интеллектуальном анализе данных, эти элементы называются на *справа от оператора* правила взаимосвязи.|  
|Вероятность|Отображает вероятность правильности данного правила.|  
|Поддержка|Указывает количество вариантов в существующих данных, предоставляющих доказательства верности данного правила.|  
|Значение правила|Если для элементов в списке покупок были предоставлены значения, данный столбец вычисляет стоимость прогноза, исходя из стоимости элементов.|  
|Точность прогноза|Показывает интенсивность корреляции между элементами в первом столбце и элементами во втором столбце. Также называется *важности*.<br /><br /> Значение точности прогноза 0 означает, что корреляции не существует. Положительное значение свидетельствует о том, что элементы в первом столбце прогнозируют элемент во втором. Чем больше число, тем сильнее корреляция.|  
  
## <a name="related-tools"></a>Дополнительные средства  
 Клиент интеллектуального анализа данных для Excel, который является отдельной надстройкой, обеспечивающей расширенную функциональность интеллектуального анализа данных, также содержит мастер, выполняющий анализ взаимосвязей. Дополнительные сведения см. в разделе [Мастер взаимосвязей &#40;клиент интеллектуального анализа данных для Excel&#41;](associate-wizard-data-mining-client-for-excel.md).  
  
 Дополнительные сведения об алгоритме, используемом для проведения анализа, см. в разделе «Алгоритм взаимосвязей (Майкрософт)» электронной документации по SQL Server.  
  
## <a name="see-also"></a>См. также  
 [Средства анализа таблиц для Excel](table-analysis-tools-for-excel.md)  
  
  
