---
title: Секции и режим DirectQuery (табличные службы SSAS) | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: 5f179ba9-6efb-46ae-90e5-945bbfddb719
author: minewiskan
ms.author: owend
manager: craigg
ms.openlocfilehash: 1fe22de3cc0718647de84345260017a4dd4e477e
ms.sourcegitcommit: 3026c22b7fba19059a769ea5f367c4f51efaf286
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/15/2019
ms.locfileid: "66067311"
---
# <a name="partitions-and-directquery-mode-ssas-tabular"></a>Секции и режим DirectQuery (табличные службы SSAS)
  В этом разделе объясняется использование секций в моделях DirectQuery. Дополнительные общие сведения о секциях в табличных моделях см. в разделе [Секции (табличные службы SSAS)](partitions-ssas-tabular.md).  
  
 Инструкции о том, как изменить секцию, которая используется, или Просмотр сведений о разделе, см. в разделе [изменение секции DirectQuery &#40;табличные службы SSAS&#41;](../change-the-directquery-partition-ssas-tabular.md).  
  
## <a name="using-partitions-in-directquery-mode"></a>Использование секций в режиме Direct Query  
 Для каждой таблицы следует указать одну секцию, которая будет использоваться в качестве источника данных DirectQuery.  Если есть несколько секций, при переводе модели в режим DirectQuery по умолчанию первая секция, которая была создана в таблице, будет отмечена как секция DirectQuery. Ее можно будет изменить позже с помощью диспетчера секций в среде [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].  
  
 Почему в режиме DirectQuery разрешена только одна секция?  
  
 В табличных моделях, таких как OLAP-модели, секции таблицы определяются с помощью SQL-запросов. Разработчик, создающий определение секции, должен следить за тем, чтобы секции не пересекались. Службы Analysis Services не проверяют принадлежность записей к одной или нескольким секциям.  
  
 Секции в кэшированной табличной модели ведут себя одинаково. При использовании модели, находящейся в памяти во время доступа к кэшу, DAX-формулы вычисляются для каждой секции, а результаты объединяются. Тем не менее, когда табличная модель работает в режиме DirectQuery, невозможно выполнить вычисление для нескольких секций, объединить результаты и преобразовать их в одну инструкцию SQL для отправки в реляционное хранилище данных. Это может привести к неприемлемой потере производительности, а также к потенциально неточным результатам после их объединения.  
  
 Поэтому для запросов, ответ на которые создается в режиме DirectQuery, сервер использует одну секцию, которая была помечена как первичная секция для доступа DirectQuery. Она называется *секцией DirectQuery*.  SQL-запрос, указанный в определении этой секции, определяет полный набор данных, которые могут использоваться для ответов на запросы в режиме DirectQuery.  
  
 Если явно определенных секций нет, ядро просто создает SQL-запрос для всего реляционного источника данных, выполняет операции на основе наборов, определяемые DAX-формулой, и возвращает результаты запроса.  
  
 Если в таблице имеется несколько секций и одна из их выбрана в качестве секции DirectQuery, все остальные секции автоматически отмечаются для использования только в памяти.  
  
## <a name="partitions-in-cached-models-and-in-directquery-models"></a>Секции в кэшированных моделях и в моделях DirectQuery  
 Во время настройки секции DirectQuery следует указать параметры обработки для секции.  
  
 Для секции DirectQuery есть два параметра обработки. Чтобы задать это свойство, воспользуйтесь **Диспетчером секций** в [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)]или [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]и выберите свойство **Параметр обработки** . В следующей таблице перечислены значения этого свойства и описан результат применения каждого значения при объединении со свойством DirectQueryUsage в строке подключения.  
  
|**DirectQueryUsage** свойство|Свойство**Параметр обработки**|Примечания|  
|-----------------------------------|------------------------------------|-----------|  
|DirectQuery|Никогда не обрабатывать эту секцию|Когда модель использует только DirectQuery, обработка не требуется.<br /><br /> В гибридных моделях можно настроить секцию DirectQuery так, чтобы она никогда не обрабатывалась. Например, если выполняется работа с большим набором данных, при этом нет необходимости добавлять все результаты в кэш, можно указать, чтобы секция DirectQuery включала объединение результатов для всех других секций в таблице и не обрабатывала объединение. Это не касается запросов к реляционному источнику, а запросы к кэшированным данным будут содержать объединенные данные из других секций.|  
|InMemory с DirectQuery|Разрешить обработку секции|Если модель использует гибридный режим, то для запросов в памяти и запросов к источнику данных DirectQuery следует использовать одну и ту же секцию.|  
  
## <a name="see-also"></a>См. также  
 [Секции (табличные службы SSAS)](partitions-ssas-tabular.md)  
  
  
