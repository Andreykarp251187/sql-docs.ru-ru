---
title: Шаг 2. Добавление и настройка ведения журнала | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
ms.assetid: 56105f3f-e500-4669-8c8e-acf434527727
author: janinezhang
ms.author: janinez
manager: craigg
ms.openlocfilehash: ef4f5d42ae3451d4199e84480a5672e437d7ca5f
ms.sourcegitcommit: 3026c22b7fba19059a769ea5f367c4f51efaf286
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/15/2019
ms.locfileid: "62892440"
---
# <a name="step-2-adding-and-configuring-logging"></a>Шаг 2. Добавление и настройка журнала
  В этой задаче будет включена запись в журнал потоков данных для пакета «Урок 3.dtsx». Затем предстоит настроить регистратор для текстовых файлов, чтобы записать в журнал события PipelineExecutionPlan и PipelineExecuteTrees. Регистратор текстовых файлов создает журналы, которые легко просматривать и пересылать. Простота этих файлов журнала делает их особенно полезными во время базового тестирования пакета. Для просмотра журнала приложений можно использовать окно «Регистрация событий» конструктора служб [!INCLUDE[ssIS](../includes/ssis-md.md)] .  
  
### <a name="to-add-logging-to-the-package"></a>Добавление ведения журнала в пакет  
  
1.  В меню **Службы SSIS** нажмите **Ведение журнала**.  
  
2.  В диалоговом окне **Настройка журналов служб SSIS** на панели **Контейнеры** убедитесь, что выбран самый верхний объект, представляющий пакет занятия 3.  
  
3.  На вкладке **Поставщики и журналы** в окне **Типы поставщика** выберите **Регистратор служб SSIS для текстовых файлов**и нажмите кнопку **Добавить**.  
  
     Службы Integration Services добавят в пакет новый регистратор текстовых файлов с именем по умолчанию **Регистратор служб SSIS для текстовых файлов**. Теперь можно настроить новый регистратор.  
  
4.  В **имя** столбец, тип `Lesson 3 Log File`.  
  
5.  При желании измените столбец **Описание**.  
  
6.  В **конфигурации** столбец, нажмите кнопку  **\<новое подключение >** для указания назначения, в которую будут записываться сведения журнала.  
  
     В диалоговом окне **Редактор диспетчера подключения файлов** в поле **Тип применения**выберите **Создать файл**, после чего нажмите кнопку **Просмотр**. По умолчанию в диалоговом окне **Выбрать файл** откроется папка проекта, но можно сохранить сведения журнала в любом расположении.  
  
7.  В **выбрать файл** отображаемое в диалоговом окне **имя файла** поле типа `TutorialLog.log`и нажмите кнопку **откройте**.  
  
8.  Нажмите кнопку **ОК** , чтобы закрыть диалоговое окно **Редактор диспетчера подключения файлов** .  
  
9. На панели **Контейнеры** раскройте все узлы иерархии контейнера пакета и снимите все флажки, включая **Извлечь данные валют образца** . Теперь установите флажок **Извлечь данные валют образца** , чтобы получить события только для данного узла.  
  
    > [!IMPORTANT]  
    >  Если флажок **Извлечь данные валют образца** не установлен и недоступен для выбора, то задача использует установки журнала родительского контейнера, и невозможно включить события журнала, которые являются специфичными для данной задачи.  
  
10. На вкладке **Подробности** в столбце **События** выберите события **PipelineExecutionPlan** и **PipelineExecutionTrees** .  
  
11. Нажмите кнопку **Дополнительно** , чтобы просмотреть подробности, которые регистратор запишет в журнал для каждого события. По умолчанию для выбранных событий автоматически выбираются все категории сведений.  
  
12. Нажмите **Основной** , чтобы скрыть категории сведений.  
  
13. На **поставщики и журналы** на вкладке **имя** столбец, выберите `Lesson 3 Log File`. Как только будет создан регистратор для пакета, при желании можно отменить его выбор, чтобы временно прекратить регистрацию. При этом регистратор не надо удалять и создавать заново.  
  
14. Нажмите кнопку **ОК**.  
  
## <a name="next-steps"></a>Следующие шаги  
 [Шаг 3. Проверка учебного пакета занятия 3](../integration-services/lesson-3-3-testing-the-lesson-3-tutorial-package.md)  
  
  
