---
title: Монитор зеркального отображения баз данных (страница "Предупреждения") | Документы Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
f1_keywords:
- sql12.swb.dbmmonitor.warningsandalerts.f1
ms.assetid: 01936122-961d-436b-ba3c-5f79fefe5469
author: MikeRayMSFT
ms.author: mikeray
manager: craigg
ms.openlocfilehash: 014c0891fa3a887e781def415e68c38549bafe08
ms.sourcegitcommit: b87d36c46b39af8b929ad94ec707dee8800950f5
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2020
ms.locfileid: "62755044"
---
# <a name="database-mirroring-monitor-warnings-page"></a>Монитор зеркального отображения баз данных (страница «Предупреждения»)
  Отображает доступный только для чтения список предупреждений в связи с событиями, происходящими при зеркальном отображении баз данных, и пороговые значения, при которых выдаются предупреждения (если они были заданы).  
  
 **Использование SQL Server Management Studio для мониторинга зеркального отображения базы данных**  
  
-   [Запуск монитора зеркального отображения баз данных &#40;SQL Server Management Studio&#41;](../database-mirroring/start-database-mirroring-monitor-sql-server-management-studio.md)  
  
## <a name="columns"></a>Столбцы  
 **Предупреждение**  
 Можно задать пороговые значения для следующих предупреждений.  
  
|Предупреждение|Threshold (Пороговое значение)|  
|-------------|---------------|  
|**Предупреждать, если размер неотправленного журнала превышает пороговое значение**|Указывает размер неотправленного журнала в килобайтах (КБ), при котором экземпляр основного сервера выдаст предупреждение. Это предупреждение помогает определить объем возможных потерь данных в КБ, что особенно важно для режима высокой производительности. Однако это предупреждение также уместно в режиме высокой безопасности, когда зеркальное отображение приостановлено или прекращено, потому что участники были разъединены.|  
|**Предупреждать, если Невосстановленный журнал превышает пороговое значение**|Указывает размер невосстановленного журнала в килобайтах (КБ), при котором экземпляр зеркального сервера выдаст предупреждение. Это предупреждение удобно для оценки времени отработки отказа по количеству килобайтов. *Время отработки отказа* состоит в основном из того времени, в течение которого бывший зеркальный сервер требует наката всех журналов, остающихся в его очереди повтора, а также короткое дополнительное время.<br /><br /> Примечание. Время, которое потребуется системе, чтобы заметить ошибку, не зависит от времени отработки отказа, если он выполняется автоматически.<br /><br /> Дополнительные сведения см. в разделе [Оценка прерывания обслуживания во время переключения ролей (зеркальное отображение базы данных)](estimate-the-interruption-of-service-during-role-switching-database-mirroring.md).|  
|**Предупреждать, если возраст самой старой неотправленной транзакции превышает пороговое значение**|Указывает количество транзакций за минуту, которые могут накопиться в очереди передачи перед тем, как будет сформировано предупреждение в экземпляре основного сервера. Это предупреждение помогает определить возможные потери данных по времени, что особенно важно для режима высокой производительности. Однако это предупреждение также уместно в режиме высокой безопасности, когда зеркальное отображение приостановлено или прекращено, потому что участники были разъединены.|  
|**Предупреждать, если нагрузка на зеркальную фиксацию превышает пороговое значение**|Указывает среднее допустимое время задержки на транзакцию в миллисекундах, при превышении которого основной сервер посылает предупреждение. Задержка — это объем дополнительной нагрузки во время ожидания экземпляром основного сервера экземпляра зеркального сервера для добавления записи журнала транзакции в очередь повтора. Это значение уместно только в режиме высокой безопасности.|  
  
 **Пороговое значение в "** _<server_instance>_ **"**  
 Для каждого предупреждения отображает текущий порог, заданный пользователем для одного из экземпляров сервера (если порог задан). Полное имя экземпляра сервера отображается в соответствующем заголовке столбца.  
  
 Дополнительные сведения см. в подразделе «Примечания» далее в этом разделе.  
  
 **Установка пороговых значений**  
 Нажмите эту кнопку, чтобы задать порог для одного предупреждения на каждом из партнеров по обеспечению отработки отказа.  
  
 Дополнительные сведения см. в подразделе «Примечания» далее в этом разделе.  
  
## <a name="remarks"></a>Remarks  
 Если сведения по экземпляру сервера в данный момент недоступны, ячейки соответствующего столбца **Пороговое значение на** показывают серый фон и текст в виде водяных знаков. Если монитор не подключен к экземпляру сервера, в каждой ячейке сетки отображается либо **не подключено к** _<SYSTEM_NAME>_ либо **не подключен к** _<SYSTEM_NAME_ **\\** _><instance_name>, в _зависимости от того, является ли экземпляр экземпляром по умолчанию или именованным экземпляром. Если монитор ожидает результатов запроса, сетка отображает **Ожидание данных…** в каждой ячейке.  
  
 Если сведения доступны, в ячейке по каждому предупреждению отображается либо указанное пороговое значение (и единица измерения), либо **Не включено**.  
  
 Если порог превышен в момент обновления таблицы состояния, это событие регистрируется в журнале событий Windows при записи строки состояния. Если монитор не работает, то по умолчанию строка состояния записывается каждую минуту. Для каждого типа регистрируемого события можно задать предупреждение с помощью агента SQL Server или другой программы, например Microsoft Management Operations Manager (MOM).  
  
 События, регистрируемые для конкретного участника, зависят от его текущей роли: основной сервер или зеркало. Однако порог предупреждения для конкретного события рекомендуется задавать для обоих участников, чтобы предупреждения не терялись при переходе базы данных на другой ресурс. Соответствующий порог для каждого участника зависит от возможностей производительности системы участника.  
  
> [!NOTE]  
>  Настроить пороги равнозначных событий (неотправленный журнал, невосстановленный журнал, самая старая неотправленная транзакция и затраты на фиксацию транзакции на зеркальном сервере) можно также с помощью системной хранимой процедуры **sp_dbmmonitorchangealert**. Дополнительные сведения см. в статье [sp_dbmmonitorchangealert (Transact-SQL)](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorchangealert-transact-sql).  
  
 В следующей таблице указаны идентификаторы событий, связанные с каждым предупреждением.  
  
|Предупреждение монитора зеркального отображения баз данных|Имя события|Идентификатор события|  
|----------------------------------------|----------------|--------------|  
|**Предупреждать, если размер неотправленного журнала превышает пороговое значение**|Неотправленный журнал|32042|  
|**Предупреждать, если Невосстановленный журнал превышает пороговое значение**|Невосстановленный журнал|32043|  
|**Предупреждать, если возраст самой старой неотправленной транзакции превышает пороговое значение**|Самая старая неотправленная транзакция|32044|  
|**Предупреждать, если нагрузка на зеркальную фиксацию превышает пороговое значение**|Затраты на фиксирование изменений на зеркальном сервере|32045|  
  
## <a name="permissions"></a>Разрешения  
 Для полного доступа требуется членство в предопределенной роли сервера **sysadmin** . Только члены роли **sysadmin** могут настраивать и просматривать пороги предупреждений для важнейших показателей производительности.  
  
 Членство в роли **dbm_monitor** позволяет просматривать только последнюю строку состояния на странице **Предупреждения** .  
  
## <a name="see-also"></a>См. также:  
 [Запуск монитора зеркального отображения баз данных &#40;SQL Server Management Studio&#41;](../database-mirroring/start-database-mirroring-monitor-sql-server-management-studio.md)   
 [Мониторинг &#40;SQL Server зеркального отображения базы данных&#41;](database-mirroring-sql-server.md)   
 [Запустите мастер настройки безопасности зеркального отображения баз данных &#40;SQL Server Management Studio&#41;](start-the-configuring-database-mirroring-security-wizard.md)  
  
  
