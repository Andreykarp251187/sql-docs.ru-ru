---
title: 'Занятие 6: Добавление группирования и итогов (службы Reporting Services) | Документация Майкрософт'
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
ms.assetid: e3d61228-2aa4-42cc-955e-602dbf3406a7
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 5607dfb046e7f50eb3a015e1f4f13711256435a8
ms.sourcegitcommit: 3026c22b7fba19059a769ea5f367c4f51efaf286
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/15/2019
ms.locfileid: "66108406"
---
# <a name="lesson-6-adding-grouping-and-totals-reporting-services"></a>Занятие 6: Добавление группирования и итогов (службы Reporting Services)
  Добавление группирования и итогов к отчету предназначено для организации и суммирования данных.  
  
 Информацию относительно добавления нарастающего итога в отчеты см. в разделе: [Добавление итогов в отчеты Reporting Services (SSRS)](https://www.tutorialgateway.org/add-total-and-subtotal-to-ssrs-report/).  
  
 **В этом разделе:**  
  
-   [Для группирования данных в отчете](#bkmk_groupdata)  
  
-   [Добавление итогов к отчету](#bkmk_addtotals)  
  
-   [Добавление ежедневного итога к отчету](#bkmk_adddailytotal)  
  
-   [Добавление итога к отчету](#bkmk_addgrandtotal)  
  
-   [Публикация отчета на сервере отчетов (необязательно)](#bkmk_publishreport)  
  
##  <a name="bkmk_groupdata"></a> Для группирования данных в отчете  
  
1.  Перейдите на вкладку **Макет** .  
  
2.  Если вы не видите **группы строк** панели, щелкните правой кнопкой мыши область конструктора и нажмите кнопку **представление** и нажмите кнопку **группирования**.  
  
3.  Из области **Данные отчета** перетащите поле `Date` на панель **Группы строк**. Поместите это поле над строкой **(Сведения)** .  
  
     Обратите внимание на то, что теперь на маркере строк отображается квадратная скобка, указывающая на наличие группы. Теперь в таблице имеются два столбца «Дата», по одному с двух сторон от вертикальной пунктирной линии.  
  
     ![](../../2014/tutorials/media/rs-basictablegroups1design.gif "rs_BasicTableGroups1Design")  
  
4.  Из области **Данные отчета** перетащите поле `Order` на панель **Группы строк**. Поместите это поле под обозначением "Дата" и над обозначением **(Сведения)** .  
  
     Обратите внимание на то, что теперь на маркере строки отображаются две квадратные скобки, указывая на наличие двух групп. Таблица теперь содержит два `Order` столбцов, слишком.  
  
5.  Удалите исходные столбцы Date и Order для **правой** от двойной линии. Это приведет к удалению соответствующих отдельных значений записи, чтобы отображалось только значение группы. Выберите маркеры двух столбцов, щелкните правой кнопкой мыши и выберите пункт **Удалить столбцы**.  
  
     ![Выберите столбцы для удаления](../../2014/tutorials/media/rs-basictablegroupsdeletecols.gif "Выберите столбцы для удаления")  
  
     После этого можно снова форматировать заголовки столбцов и дату.  
  
6.  Откройте вкладку **Просмотр** для просмотра отчета. Он должен выглядеть примерно так, как на следующей иллюстрации:  
  
     ![Таблица, сгруппированная сначала по дате, а затем по заказу](../../2014/tutorials/media/rs-basictablegroupspreview.gif "Таблица, сгруппированная сначала по дате, а затем по заказу")  
  
##  <a name="bkmk_addtotals"></a> Добавление итогов к отчету  
  
1.  Переключитесь в режим конструктора.  
  
2.  Щелкните правой кнопкой мыши ячейку области данных, которая содержит поле `[LineTotal]`, и выберите пункт **Добавить итог**.  
  
     Это приведет к добавлению строки с суммарной стоимостью в долларах для каждого заказа.  
  
3.  Щелкните правой кнопкой мыши ячейку, которая содержит поле `[Qty]`, и выберите пункт **Добавить итог**.  
  
     Это приведет к добавлению суммы количеств по каждому заказу в строку итогов.  
  
4.  В пустой ячейке слева от поля `Sum[Qty]`введите метку**Итог заказа**.  
  
5.  К строке итогов можно добавить цвет фона. Выберите две ячейки суммы и ячейку метки.  
  
6.  В меню **Формат** щелкните элемент **Цвет фона**, а затем щелкните элемент **Светло-серый**и нажмите кнопку **ОК**.  
  
     ![Режим конструктора: базовая таблица с итоговой суммой заказов](../../2014/tutorials/media/rs-basictablesumlinetotaldesign.gif "режим конструктора: базовая таблица с итоговой суммой заказов")  
  
##  <a name="bkmk_adddailytotal"></a> Добавление ежедневного итога к отчету  
  
1.  Порядок ячейки правой кнопкой мыши, выберите пункт **Добавить итог**и нажмите кнопку **после**.  
  
     Добавляется новая строка, содержащая суммы значений количества и стоимости в долларах за каждый день, а также метки "**общее**» в столбце Order.  
  
2.  Введите слово **Ежедневный** перед словом **Итог** в той же ячейке, чтобы в ней находилась надпись **Ежедневный итог**.  
  
3.  Выберите ячейку **Ежедневный итог** , две ячейки **Сумма** и пустую ячейку между ними.  
  
4.  В меню **Формат** щелкните элемент **Цвет фона**, а затем щелкните элемент **Оранжевый**и нажмите кнопку **ОК**.  
  
     ![](../../2014/tutorials/media/rs-basictablesumdaytotaldesign.gif "rs_BasicTableSumDayTotalDesign")  
  
##  <a name="bkmk_addgrandtotal"></a> Добавление итога к отчету  
  
1.  Щелкните правой кнопкой мыши ячейку "Дата", наведите указатель на пункт **Добавить итог**и выберите пункт **После**.  
  
     Добавляется новая строка, содержащая суммы значений количества и стоимости в долларах для всего отчета и **общее** метки в `Date` столбца.  
  
2.  Введите слово **Общий** перед словом **Итог** в той же ячейке, чтобы в ней появилась надпись **Общий итог**.  
  
3.  Выберите ячейку **Общий итог** , две ячейки **Сумма** и пустые ячейки между ними.  
  
4.  В меню **Формат** щелкните элемент **Цвет фона**, а затем щелкните элемент **Светло-синий**и нажмите кнопку **ОК**.  
  
     ![Режим конструктора: итоговое значение в базовой таблице](../../2014/tutorials/media/rs-basictablesumgrandtotaldesign.gif "Режим конструктора: итоговое значение в базовой таблице")  
  
5.  Нажмите кнопку «Предварительный просмотр».  
  
     Последняя страница должна выглядеть примерно так:  
  
     ![Предварительный просмотр: базовая таблица с итоговым значением](../../2014/tutorials/media/rs-basictablesumgrandtotalpreview.gif "Предварительный просмотр: базовая таблица с итоговым значением")  
  
##  <a name="bkmk_publishreport"></a> Публикация отчета на сервере отчетов (необязательно)  
  
1.  Необязательным шагом является публикация готового отчета на сервере отчетов, работающем в собственном режиме, с тем чтобы его можно было просматривать из диспетчера отчетов.  
  
2.  На панели инструментов щелкните **Проект** и выберите **Свойства учебника...**  
  
3.  В **TargetServerURL** введите имя сервера отчетов, например **http://\<имя_сервера > / reportserver**  
  
4.  Нажмите кнопку **ОК**.  
  
5.  На панели инструментов щелкните **Построить** , а затем ― **Развернуть учебник**.  
  
     Если в окне вывода появится сообщение примерно следующего содержания, это означает, что развертывание прошло успешно.  
  
    > ---Построение запущено: проект: учебник, Конфигурация: Отладка---пропускается «Sales Orders.rdl». Элемент в актуальном состоянии. Сборка завершена--0 ошибок, 0 предупреждений---развернуть к работе: проект: учебник, Конфигурация: Отладка---развертывание http://\<имя сервера > / reportserverDeploying отчетов «/ tutorial/Sales Orders». Развертывание завершено--0 ошибок, 0 предупреждений ==== сборки: 1, успешно или обновлен, 0 сбоев, 0 пропущено ==== развертывания: 1 — успешно, 0 сбоев, 0 пропущено ====  
  
     Если же откроется сообщение об ошибке примерно следующего содержания, удостоверьтесь в наличии разрешений на сервер отчетов, а также запустите среду [!INCLUDE[ssBIDevStudio](../includes/ssbidevstudio-md.md)] с правами администратора.  
  
    > «Разрешения, предоставленные пользователю "XXXXXXXX\\< имя пользователя\>", недостаточны для выполнения данной операции»  
  
6.  Запуск диспетчера отчетов с правами администратора, например, щелкните правой кнопкой мыши значок для Internet Explorer и нажмите кнопку **Запуск от имени администратора**.  
  
     Перейдите по URL-адресу диспетчера отчетов, например: `http://<server name>/reports`.  
  
7.  Перейдите в папку с отчетом и щелкните имя отчета `Sales Orders`, чтобы отобразить этот отчет в браузере.  
  
## <a name="next-steps"></a>Следующие шаги  
 Учебник по созданию базового табличного отчета успешно освоен.  
  
## <a name="see-also"></a>См. также  
 [Фильтрация, группирование и сортировка данных (построитель отчетов и службы SSRS)](report-design/filter-group-and-sort-data-report-builder-and-ssrs.md)  
  
  
