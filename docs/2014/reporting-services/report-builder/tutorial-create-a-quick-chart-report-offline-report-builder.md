---
title: Учебник. Создание стандартного отчета с диаграммой в автономном режиме (построитель отчетов) | Документация Майкрософт
ms.custom: ''
ms.date: 12/29/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
helpviewer_keywords:
- reports, creating
- tutorials, getting started
- creating reports
ms.assetid: 6b1db67a-cf75-494c-b70c-09f1e6a8d414
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: f345eaa2a51b5e6789f2a03968f8a1e68b12519a
ms.sourcegitcommit: f40fa47619512a9a9c3e3258fda3242c76c008e6
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/23/2019
ms.locfileid: "66107570"
---
# <a name="tutorial-create-a-quick-chart-report-offline-report-builder"></a>Учебник. Создание стандартного отчета с диаграммой автономный режим (построитель отчетов)
  В этом учебнике будет создана круговая диаграмма с помощью мастера, а затем она будет немного изменена, чтобы получить общее представление о том, что можно сделать. Задания этого учебника вы можете выполнить двумя различными способами. Оба метода имеют же результат a круговой диаграммы как показано на следующем рисунке:  
  
 ![«Моя первая круговая диаграмма» в сеансе просмотра](../media/rs-my1stpierunview.gif "Моя первая круговая диаграмма в режиме выполнения")  
  
## <a name="prerequisites"></a>предварительные требования  
 Независимо от используемого метода (XML-данные или запрос [!INCLUDE[tsql](../../../includes/tsql-md.md)]), требуется доступ к построителю отчетов [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)]. Можно запустить изолированную версию построителя отчетов или версию ClickOnce, которая доступна из диспетчера отчетов или с сайта SharePoint. Для версии ClickOnce отличается только первый шаг — открытие построителя отчетов. Дополнительные сведения см. в разделе [установка, удаление и поддержка построителя отчетов](../install-uninstall-and-report-builder-support.md).  
  
##  <a name="TwoWays"></a> Два способа выполнить задания этого учебника  
  
-   [Создание круговой диаграммы с использованием XML-данных](#CreatePieChartXML)  
  
-   [Создание круговой диаграммы с помощью запроса Transact-SQL, содержащего данные](#CreatePieQueryData)  
  
### <a name="using-xml-data-for-this-tutorial"></a>Использование XML-данных при работе с этим учебником  
 Можно использовать XML-данные, скопированные из этого раздела и вставленные в мастер. При этом не требуется соединение с сервером отчетов или сервером отчетов в режиме интеграции с SharePoint и не нужен доступ к экземпляру [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)].  
  
 [Создание круговой диаграммы с использованием XML-данных](#CreatePieChartXML)  
  
### <a name="using-a-transact-sql-query-that-contains-data-for-this-tutorial"></a>Использование запроса Transact-SQL, содержащего данные, при работе с этим учебником  
 Можно скопировать запрос с данными, которые содержатся в нем, из этого раздела и вставить в мастер. При этом потребуется имя экземпляра [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] и учетные данные, необходимые для доступа к базе данных только для чтения. В запросе набора данных в этом учебнике используются данные литералов, но запрос должен обрабатываться экземпляром [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] для возвращения метаданных, необходимых для набора данных отчета.  
  
 Преимущество использования запроса [!INCLUDE[tsql](../../../includes/tsql-md.md)] заключается в том, что во всех учебниках построителя отчетов используется один и тот же метод, поэтому при выполнении других учебников этот метод будет уже знаком.  
  
 Для выполнения запроса [!INCLUDE[tsql](../../../includes/tsql-md.md)] существует несколько других предварительных условий. Дополнительные сведения см. в разделе [Предварительные условия для использования учебников (построитель отчетов)](../report-builder-tutorials.md).  
  
 [Создание круговой диаграммы с помощью запроса Transact-SQL, содержащего данные](#CreatePieQueryData)  
  
## <a name="also-in-this-article"></a>Также в этой статье  
 [После запуска мастера](#AfterWizard)  
  
 [Что дальше](#WhatsNext)  
  
##  <a name="CreatePieChartXML"></a> Создание круговой диаграммы с XML-данными  
  
#### <a name="to-create-the-pie-chart-with-xml-data"></a>Создание круговой диаграммы с использованием XML-данных  
  
1.  Нажмите кнопку **Пуск**, наведите курсор на пункты **Все программы**, **Построитель отчетов Microsoft SQL Server 2012**и выберите пункт **Построитель отчетов**.  
  
     Откроется диалоговое окно **Приступая к работе** .  
  
    > [!NOTE]  
    >  Если диалоговое окно **Приступая к работе** не откроется, в меню кнопки **Построитель отчетов** выберите **Создать**.  
  
2.  Убедитесь, что на панели слева выбран пункт **Отчет** .  
  
3.  На правой панели нажмите **Мастер диаграмм**, а затем щелкните **Создать**.  
  
4.  На странице **Выбор набора данных** нажмите кнопку **Создать набор данных**, а затем **Далее**.  
  
5.  На странице **Выбор соединения с источником данных** нажмите кнопку **Создать**.  
  
     Откроется диалоговое окно **Свойства источника данных** .  
  
6.  Источник данных можно назвать произвольным образом. В поле **Имя** введите **MyPieChart**.  
  
7.  В **выберите тип подключения** выберите **XML.**  
  
8.  Перейдите на вкладку **Учетные данные** и выберите параметр **Использовать текущего пользователя Windows. Может потребоваться делегирование Kerberos**, а затем нажмите кнопку **ОК**.  
  
9. На странице **Выбор соединения с источником данных** выберите **Моя круговая диаграмма**, затем нажмите кнопку **Далее**.  
  
10. Скопируйте следующий текст и вставьте его в большое поле в центре **конструирование запроса** страницы.  
  
    ```  
    <Query>  
    <ElementPath>Root /S  {@Sales (Integer)} /C {@FullName} </ElementPath>  
    <XmlData>  
    <Root>  
    <S Sales="150">  
      <C FullName="Jae Pak" />  
    </S>  
    <S Sales="350">  
      <C FullName="Jillian  Carson" />  
    </S>  
    <S Sales="250">  
      <C FullName="Linda C Mitchell" />  
    </S>  
    <S Sales="500">  
      <C FullName="Michael Blythe" />  
    </S>  
    <S Sales="450">  
      <C FullName="Ranjit Varkey" />  
    </S>  
    </Root>  
    </XmlData>  
    </Query>  
    ```  
  
11. Нажмите кнопку "Выполнить" (**!**), чтобы просмотреть данные, на основе которых будет создана диаграмма (необязательно).  
  
12. Нажмите кнопку **Далее**.  
  
13. На странице **Выбор типа диаграммы** выберите **Круговая диаграмма**и нажмите кнопку **Далее**.  
  
14. На странице **Расположение полей диаграммы** дважды щелкните поле **Продажи** в окне **Доступные поля**.  
  
     Обратите внимание на то, что оно автоматически перемещается в поле **Значения** , так как это числовое значение.  
  
15. Перетащите поле **FullName** из окна **Доступные поля** в окно **Категории** (или дважды щелкните его; оно переместится в окно **Категории**), а затем нажмите кнопку **Далее**.  
  
16. В **Выбор стиля** странице **Ocean** выбран по умолчанию. Щелкните другие стили, чтобы просмотреть, как они выглядят.  
  
17. Нажмите кнопку **Готово**.  
  
     Теперь в области конструктора отображается новый отчет с круговой диаграммой. Это стандартное представление. В условных обозначениях указываются «Полное имя 1», «Полное имя 2» и т. д., а не имена менеджеров по продажам. Кроме того, размер секторов круговой диаграммы неточен. Это изображение дает лишь общее представление о том, как будет выглядеть отчет.  
  
18. Чтобы просмотреть настоящую круговую диаграмму, нажмите кнопку **Выполнить** на вкладке **Главная** ленты.  
  
 ![Значок стрелки, используемый для ссылки возврата в начало](../../2014-toc/media/uparrow16x16.gif "Значок стрелки, используемый для ссылки возврата в начало") [В начало](#TwoWays)  
  
##  <a name="CreatePieQueryData"></a> Создание круговой диаграммы с помощью запроса [!INCLUDE[tsql](../../../includes/tsql-md.md)]  
  
#### <a name="to-create-the-pie-chart-with-a-includetsqlincludestsql-mdmd-query-that-contains-data"></a>Создание круговой диаграммы с помощью запроса [!INCLUDE[tsql](../../../includes/tsql-md.md)], содержащего данные  
  
1.  Нажмите кнопку **Пуск**, наведите курсор на пункты **Все программы**, **Построитель отчетов Microsoft SQL Server 2012**и выберите пункт **Построитель отчетов**.  
  
2.  В **новый отчет или набор данных** диалогового окна убедитесь, что **отчетов** выбран в области слева.  
  
3.  На правой панели нажмите **Мастер диаграмм**, а затем щелкните **Создать**.  
  
4.  На странице **Выбор набора данных** нажмите кнопку **Создать набор данных**, а затем **Далее**.  
  
5.  На странице **Выбор соединения с источником данных** выберите существующий источник данных или перейдите к серверу отчетов и выберите источник данных, а затем выберите **Далее**. Может потребоваться указать имя пользователя и пароль.  
  
    > [!NOTE]  
    >  При наличии необходимых разрешений выбор источника данных не имеет существенного значения. Этот источник данных не будет использоваться для получения данных. Дополнительные сведения см. в разделе [Предварительные условия для использования учебников (построитель отчетов)](../report-builder-tutorials.md).  
  
6.  На странице **Проектирование запроса** нажмите кнопку **Изменить как текст**.  
  
7.  На панель запроса вставьте следующий запрос:  
  
    ```  
    SELECT 150 AS Sales, 'Jae Pak' AS FullName   
    UNION SELECT 350 AS Sales, 'Jillian Carson' AS FullName   
    UNION SELECT 250 AS Sales, 'Linda C Mitchell' AS FullName   
    UNION SELECT 500 AS Sales, 'Michael Blythe' AS FullName   
    UNION SELECT 450 AS Sales, 'Ranjit Varkey' AS FullName   
    ```  
  
8.  Нажмите кнопку "Выполнить" (**!**), чтобы просмотреть данные, на основе которых будет создана диаграмма (необязательно).  
  
9. Нажмите кнопку **Далее**.  
  
10. На странице **Выбор типа диаграммы** выберите **Круговая диаграмма**и нажмите кнопку **Далее**.  
  
11. На странице **Расположение полей диаграммы** дважды щелкните поле **Продажи** в окне **Доступные поля**.  
  
     Обратите внимание на то, что оно автоматически перемещается в поле **Значение** , так как это числовое значение.  
  
12. Перетащите поле **FullName** из окна **Доступные поля** в окно **Категории** (или дважды щелкните его; оно переместится в окно **Категории**), а затем нажмите кнопку **Далее**.  
  
13. На странице **Выбор стиля** по умолчанию выбран стиль «Аквамарин». Щелкните другие стили, чтобы просмотреть, как они выглядят.  
  
14. Нажмите кнопку **Готово**.  
  
     Теперь в области конструктора отображается новый отчет с круговой диаграммой. Это стандартное представление. В условных обозначениях указываются «Полное имя 1», «Полное имя 2» и т. д., а не имена менеджеров по продажам. Кроме того, размер секторов круговой диаграммы неточен. Это изображение дает лишь общее представление о том, как будет выглядеть отчет.  
  
15. Чтобы просмотреть настоящую круговую диаграмму, нажмите кнопку **Выполнить** на вкладке **Главная** ленты.  
  
 ![Значок стрелки, используемый для ссылки возврата в начало](../../2014-toc/media/uparrow16x16.gif "Значок стрелки, используемый для ссылки возврата в начало") [В начало](#TwoWays)  
  
##  <a name="AfterWizard"></a> После завершения работы мастера  
 После получения отчета с круговой диаграммой его можно изменить. На вкладке **Выполнение** ленты выберите **Проектирование**, чтобы продолжить изменение отчета.  
  
### <a name="make-the-chart-bigger"></a>Увеличение диаграммы  
 Может возникнуть необходимость в увеличении размера круговой диаграммы. Для увеличения диаграммы щелкните диаграмму вне области какого-либо элемента диаграммы, чтобы выделить ее и перетащить нижний правый угол.  
  
### <a name="add-a-report-title"></a>Добавление заголовка отчета  
 В верхней части диаграммы выберите слова **Заголовок диаграммы** , а затем введите заголовок, например, **Круговая диаграмма продаж**.  
  
### <a name="add-percentages"></a>Добавление процентных показателей  
  
##### <a name="to-display-percentage-values-as-labels-on-a-pie-chart"></a>Отображение на круговой диаграмме значений в процентах в качестве меток  
  
1.  Щелкните правой кнопкой мыши на круговой диаграмме и выберите **отобразить метки данных**. Метки данных должны появиться в каждом срезе круговой диаграммы.  
  
2.  Щелкните правой кнопкой мыши метки и выберите пункт **свойства метки ряда**. Появится диалоговое окно **Свойства метки ряда** .  
  
3.  Тип `#PERCENT{P0}` для **данные метки** параметр.  
  
     Значение `{P0}` дает процент без десятичных разрядов. Если просто ввести `#PERCENT`, числа будут иметь два десятичных разряда. `#PERCENT` является ключевым словом, с помощью которого выполняются вычисления; имеются и многие другие ключевые слова.  
  
 Дополнительные сведения о настройке меток диаграммы и условные обозначения см. в разделе [Отображение процентных значений на круговой диаграмме (построитель отчетов и службы SSRS)](../report-design/display-percentage-values-on-a-pie-chart-report-builder-and-ssrs.md) и [Изменение текста элемента условных обозначений (построитель отчетов и службы SSRS)](../report-design/chart-legend-change-item-text-report-builder.md).  
  
 ![Значок стрелки, используемый для ссылки возврата в начало](../../2014-toc/media/uparrow16x16.gif "Значок стрелки, используемый для ссылки возврата в начало") [В начало](#TwoWays)  
  
##  <a name="WhatsNext"></a> Дальнейшая работа  
 Теперь после создания первого отчета в построителе отчетов можно ознакомиться с другими учебниками и начать создавать отчеты на основе собственных данных. Для запуска построителя отчетов понадобятся разрешения для доступа к источникам данных, таких как базы данных, с *строку подключения*, которая устанавливает соединение с источником данных. У системного администратора имеются эти данные, и он может установить соответствующие разрешения.  
  
 Для выполнения других учебников необходимо имя экземпляра [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] и учетные данные, необходимые для доступа к базе данных только для чтения. Системный администратор также может предоставить такой доступ.  
  
 Наконец, чтобы сохранять отчеты в сервере отчетов или на сайте SharePoint, интегрированном с сервером отчетов, необходимы URL-адрес и разрешения. Можно выполнять любой отчет, создаваемый непосредственно на компьютере, но если отчеты запускаются с сервера отчетов или из сайта SharePoint, они обладают более широкими функциональными возможностями. Для запуска опубликованных отчетов с сервера отчетов или из сайта SharePoint необходимы разрешения. Для получения соответствующих прав доступа можно также обратиться к системному администратору.  
  
 Перед началом работы он может помочь в ознакомлении с некоторыми основными понятиями и терминами. Дополнительные сведения см. в разделе [основные понятия разработки отчетов &#40;построитель отчетов и службы SSRS&#41;](../report-design/report-authoring-concepts-report-builder-and-ssrs.md). Кроме того, перед созданием первого отчета необходимо затратить некоторое время на планирование. Это время не будет затрачено впустую. Дополнительные сведения см. в разделе [Планирование отчета &#40;построитель отчетов&#41;](../report-design/planning-a-report-report-builder.md).  
  
 ![Значок стрелки, используемый для ссылки возврата в начало](../../2014-toc/media/uparrow16x16.gif "Значок стрелки, используемый для ссылки возврата в начало") [В начало](#TwoWays)  
  
## <a name="see-also"></a>См. также  
 [Учебники по &#40;построитель отчетов&#41;](../report-builder-tutorials.md)   
 [Построитель отчетов в SQL Server 2014](report-builder-in-sql-server-2016.md)  
  
  
