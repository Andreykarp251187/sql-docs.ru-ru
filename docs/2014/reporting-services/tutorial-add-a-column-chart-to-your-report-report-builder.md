---
title: Учебник. Добавление гистограммы к отчету (построитель отчетов) | Документация Майкрософт
ms.custom: ''
ms.date: 03/08/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology:
- reporting-services-native
ms.topic: conceptual
ms.assetid: 63480059-b7b9-44b5-9d7f-91780db708b6
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 24c8e48ef26d3db2bc7662a36d40725c84b1bbc7
ms.sourcegitcommit: f7fced330b64d6616aeb8766747295807c92dd41
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "62648257"
---
# <a name="tutorial-add-a-column-chart-to-your-report-report-builder"></a>Учебник. Добавление гистограммы к отчету (построитель отчетов)
  Гистограмма отображает ряды в виде набора вертикальных прямоугольников, сгруппированных по категориям. Гистограмма может быть полезна в следующих случаях:  
  
-   отображение изменений данных в течение периода времени;  
  
-   сравнение относительных значений нескольких рядов.  
  
-   отображение скользящего среднего для показа трендов.  
  
 На следующем рисунке показывается создаваемая столбцовая диаграмма со скользящим средним.  
  
 ![rs_TutorialColChartFinished](../../2014/tutorials/media/rs-tutorialcolchartfinished.gif "rs_TutorialColChartFinished")  
  
##  <a name="BackToTop"></a> Новые знания  
 В этом учебнике рассматриваются следующие темы:  
  
1.  [Создание диаграммы с помощью мастера диаграмм](#Chart)  
  
2.  [Выбор типа диаграммы](#ChartType)  
  
3.  [Форматирование и задание меток для горизонтальной оси](#Horizontal)  
  
4.  [Перемещение условных обозначений](#Legend)  
  
5.  [Задание заголовка для диаграммы](#ChartTitle)  
  
6.  [Форматирование и задание меток для вертикальной оси](#Vertical)  
  
7.  [Добавление скользящего среднего](#Average)  
  
8.  [Добавление заголовка отчета](#Title)  
  
9. [Сохранение отчета](#Save)  
  
> [!NOTE]  
>  В этом учебнике шаги работы с мастером объединены в одну процедуру. Пошаговые инструкции по переходу к серверу отчетов, выбору источника данных и созданию набора данных см. в первом учебнике этой серии: [Учебник. Создание простого табличного отчета (построитель отчетов)](../reporting-services/tutorial-creating-a-basic-table-report-report-builder.md).  
  
 Предполагаемое время для выполнения заданий данного учебника: 15 минут.  
  
## <a name="requirements"></a>Требования  
 Дополнительные сведения о требованиях см. в разделе [Предварительные условия для использования учебников (построитель отчетов)](../reporting-services/report-builder-tutorials.md).  
  
##  <a name="Chart"></a> 1. Создание отчета с диаграммой с помощью мастера диаграмм  
 Из **Приступая к работе** диалоговое окно, использование мастера диаграмм создайте внедренный набор данных, выберите общий источник данных и создайте гистограмму.  
  
> [!NOTE]  
>  В этом учебнике запрос уже содержит значения данных, поэтому внешний источник данных не требуется. В связи с этим запрос получается весьма длинным. В рабочей среде запрос не будет содержать данные. Этот запрос содержит данные только в учебных целях.  
  
#### <a name="to-create-a-new-chart-report"></a>Создание нового отчета с диаграммой  
  
1.  Нажмите кнопку **Пуск**, наведите курсор на пункты **Все программы**, **Построитель отчетов Microsoft SQL Server 2012**и выберите пункт **Построитель отчетов**.  
  
     Откроется диалоговое окно **Приступая к работе** .  
  
    > [!NOTE]  
    >  Если диалоговое окно **Приступая к работе** не откроется, в меню кнопки **Построитель отчетов** выберите **Создать**.  
  
2.  Убедитесь, что на левой панели выбран **Новый отчет** .  
  
3.  На правой панели выберите **Мастер диаграмм**.  
  
4.  На странице **Выбор набора данных**нажмите кнопку **Создать набор данных**, а затем кнопку **Далее**.  
  
5.  На странице **Выбор соединения с источником данных** выберите существующий источник данных или перейдите к серверу отчетов и выберите источник данных, а затем нажмите кнопку **Далее**. Может потребоваться указать имя пользователя и пароль.  
  
    > [!NOTE]  
    >  При наличии необходимых разрешений выбор источника данных не имеет существенного значения. Этот источник данных не будет использоваться для получения данных. Дополнительные сведения см. в разделе [Альтернативные способы создания подключения к данным &#40;построитель отчетов&#41;](../reporting-services/alternative-ways-to-get-a-data-connection-report-builder.md).  
  
6.  На странице **Проектирование запроса** нажмите кнопку **Изменить как текст**.  
  
7.  На панель запроса вставьте следующий запрос:  
  
    ```  
    SELECT CAST('2009-01-01' AS date) AS SalesDate, CAST(54995.21 AS money) AS Sales  
    UNION SELECT CAST('2009-01-05' AS date) AS SalesDate, CAST(64499.04 AS money) AS Sales  
    UNION SELECT CAST('2009-02-11' AS date) AS SalesDate, CAST(37821.79 AS money) AS Sales  
    UNION SELECT CAST('2009-03-18' AS date) AS SalesDate, CAST(53633.08 AS money) AS Sales  
    UNION SELECT CAST('2009-04-23' AS date) AS SalesDate, CAST(24019.3 AS money) AS Sales  
    UNION SELECT CAST('2009-05-01' AS date) AS SalesDate, CAST(93245.5 AS money) AS Sales  
    UNION SELECT CAST('2009-06-06' AS date) AS SalesDate, CAST(55288.0 AS money) AS Sales  
    UNION SELECT CAST('2009-06-16' AS date) AS SalesDate, CAST(68733.5 AS money) AS Sales  
    UNION SELECT CAST('2009-07-16' AS date) AS SalesDate, CAST(24750.85 AS money) AS Sales  
    UNION SELECT CAST('2009-08-23' AS date) AS SalesDate, CAST(43452.3 AS money) AS Sales  
    UNION SELECT CAST('2009-09-24' AS date) AS SalesDate, CAST(58656. AS money) AS Sales  
    UNION SELECT CAST('2009-10-15' AS date) AS SalesDate, CAST(44583. AS money) AS Sales  
    UNION SELECT CAST('2009-11-21' AS date) AS SalesDate, CAST(81568. AS money) AS Sales  
    UNION SELECT CAST('2009-12-15' AS date) AS SalesDate, CAST(45973. AS money) AS Sales  
    UNION SELECT CAST('2009-12-26' AS date) AS SalesDate, CAST(96357. AS money) AS Sales  
    UNION SELECT CAST('2009-12-31' AS date) AS SalesDate, CAST(81946. AS money) AS Sales  
    ```  
  
8.  Нажмите кнопку "Выполнить" (**!**), чтобы просмотреть данные, на основе которых будет создана диаграмма (необязательно).  
  
9. Нажмите кнопку **Далее**.  
  
##  <a name="ChartType"></a> 2. Выбор типа диаграммы  
 Можно выбрать один из различных стандартных типов диаграмм.  
  
#### <a name="to-add-a-column-chart"></a>Добавление гистограммы  
  
1.  На странице **Выбор типа диаграммы** в качестве типа диаграммы по умолчанию задана гистограмма. Нажмите кнопку **Далее**.  
  
2.  На странице **Расположение полей диаграммы** перетащите поле "ДатаПродаж" в **Категории**. Категории отображаются по горизонтальной оси.  
  
3.  Перетащите поле "Продажи" в область **Значения**. В поле **Значения** отображается выражение Sum(Продажи), так как общее значение строки суммируется для каждой даты заказа на продажу. Значения отображаются по вертикальной оси.  
  
4.  Нажмите кнопку **Далее**.  
  
5.  На **Выбор стиля** странице в поле «Стили» выберите стиль.  
  
     Стиль задает стиль шрифта, набор цветов и стиль границы. При выборе стиля на панели просмотра отобразится образец диаграммы с этим стилем.  
  
6.  Нажмите кнопку **Готово**.  
  
     Диаграмма добавляется в область конструктора.  
  
7.  Щелкните диаграмму, чтобы отобразить ее маркеры. Перетащите правый нижний угол диаграммы вниз, чтобы увеличить ее размер. Обратите внимание, что область конструктора отчета увеличивается для соответствия размеру диаграммы.  
  
8.  Нажмите кнопку **Выполнить** для предварительного просмотра отчета.  
  
##  <a name="Horizontal"></a> 3. Форматирование и задание меток для горизонтальной оси  
 По умолчанию по горизонтальной оси отображаются значения в общем формате, который автоматически масштабируется в соответствии с размером диаграммы.  
  
#### <a name="to-format-a-date-on-the-horizontal-axis"></a>Форматирование даты по горизонтальной оси  
  
1.  Переключитесь в режим конструктора отчета.  
  
2.  Щелкните правой кнопкой мыши горизонтальную ось и выберите **свойства горизонтальной оси**.  
  
3.  Выберите **Число**.  
  
4.  В **категории**выберите **даты**.  
  
5.  В поле **Тип** выберите **31 января 2000 года**.  
  
6.  [!INCLUDE[clickOK](../includes/clickok-md.md)]  
  
7.  На вкладке "Главная" нажмите кнопку **Выполнить** для предварительного просмотра отчета.  
  
 Дата отображается в выбранном формате дат. Обратите внимание, что на горизонтальной оси диаграммы имеются метки не для всех категорий. По умолчанию включаются только метки, расположенные рядом с осью.  
  
 Можно настроить отображение меток, повернув их и указав интервал.  
  
#### <a name="to-rotate-the-axis-labels-and-change-the-display-interval-along-the-horizontal-axis"></a>Поворот меток осей и изменение интервала отображения по горизонтальной оси  
  
1.  Переключитесь в режим конструктора отчета.  
  
2.  Щелкните правой кнопкой мыши заголовок горизонтальной оси, а затем нажмите кнопку **показывать название оси** удалить заголовок. Так как на горизонтальной оси отображаются даты, заголовок не нужен.  
  
3.  Щелкните правой кнопкой мыши горизонтальную ось и выберите **свойства горизонтальной оси**.  
  
4.  В **параметры оси** странице в разделе **диапазон оси и интервал**, тип **3** для **интервал**. На диаграмме отобразится каждая третья дата.  
  
5.  Щелкните **Метки**.  
  
6.  В **изменить параметры автоподбора размера метки оси**выберите **отключить Автоподбор размера**.  
  
7.  В поле **Угол поворота метки**выберите значение **-90**.  
  
8.  [!INCLUDE[clickOK](../includes/clickok-md.md)]  
  
     Образец текста для горизонтальной оси поворачивается на 90 градусов.  
  
9. Нажмите кнопку **Выполнить** для предварительного просмотра отчета.  
  
 На диаграмме метки поворачиваются, причем отображаются метки для каждой третьей даты.  
  
##  <a name="Legend"></a> 4. Перемещение условных обозначений  
 Условные обозначения автоматически создаются на основе данных категорий и рядов.  
  
#### <a name="to-move-the-legend-below-the-chart-area-of-a-column-chart"></a>Перемещение условных обозначений под область гистограммы  
  
1.  Переключитесь в режим конструктора отчета.  
  
2.  Щелкните правой кнопкой мыши условные обозначения диаграммы и нажмите кнопку **свойства условных обозначений**.  
  
3.  Для **макет и положение**, выберите другое. Например, можно выбрать параметр, соответствующий расположению посередине в нижней части.  
  
     Если условные обозначения перемесить в верхнюю или нижнюю часть диаграммы, их макет изменится с вертикального на горизонтальный. Можно выбрать другой макет в раскрывающемся списке **Макет** .  
  
4.  [!INCLUDE[clickOK](../includes/clickok-md.md)]  
  
5.  (Необязательно) Так как в данном учебнике имеется только одна категория, условные обозначения не требуются. Чтобы удалить условные обозначения, щелкните правой кнопкой мыши условные обозначения и выберите **удалить условные обозначения**.  
  
6.  Нажмите кнопку **Выполнить** для предварительного просмотра отчета.  
  
##  <a name="ChartTitle"></a> 5. Задание заголовка для диаграммы  
  
#### <a name="to-change-the-chart-title-above-the-chart-area"></a>Изменение заголовка диаграммы над областью диаграммы  
  
1.  Переключитесь в режим конструктора отчета.  
  
2.  Выделите слова **заголовок диаграммы** в верхней части диаграммы, а затем введите следующий текст: **Store итоги заказа на продажу**.  
  
3.  Нажмите кнопку **Выполнить** для предварительного просмотра отчета.  
  
##  <a name="Vertical"></a> 6. Форматирование и задание меток для вертикальной оси  
 По умолчанию по вертикальной оси отображаются значения в общем формате, который автоматически масштабируется в соответствии с размером диаграммы.  
  
#### <a name="to-format-as-currency-the-numbers-on-the-vertical-axis"></a>Форматирование чисел по вертикальной оси для представления валюты  
  
1.  Переключитесь в режим конструктора отчета.  
  
2.  Чтобы выбрать метки, дважды щелкните метки на вертикальной оси сбоку от диаграммы.  
  
3.  На ленте на **Главная** на вкладке **номер** щелкните **валюты** кнопки. Метки оси изменятся, отображая формат валюты.  
  
4.  На ленте на **Главная** на вкладке **номер** щелкните **уменьшить число десятичных разрядов** кнопку два раза, чтобы число отображалось с округлением до ближайшего доллара.  
  
5.  Щелкните правой кнопкой мыши вертикальную ось и выберите **свойства вертикальной оси**.  
  
6.  Выберите **Число**. Обратите внимание, что **валюты** уже выделен в **категории** », вкладка «и **десятичных разрядов** уже **0** (ноль).  
  
7.  В **Показывать значения в** выберите **тысяч**.  
  
8.  [!INCLUDE[clickOK](../includes/clickok-md.md)]  
  
9. Щелкните правой кнопкой мыши заголовок вертикальной оси сбоку диаграммы и нажмите кнопку **свойства заголовка оси**.  
  
10. Замените текст в **текст заголовка** поле со следующим текстом: **Общий объем продаж (в тысячах)**. Можно также указать несколько параметров, связанных с форматом заголовка.  
  
11. [!INCLUDE[clickOK](../includes/clickok-md.md)]  
  
12. Нажмите кнопку **Выполнить** для предварительного просмотра отчета.  
  
##  <a name="Average"></a> 7. Добавление скользящего среднего  
  
#### <a name="to-add-a-moving-average"></a>Добавление скользящего среднего  
  
1.  Переключитесь в режим конструктора отчета.  
  
2.  Дважды щелкните диаграмму, чтобы отобразить панель **Данные диаграммы** .  
  
3.  Щелкните правой кнопкой мыши **[Sum(Sales)]** поле, которое находится в **значения** области, а затем выберите **добавить вычисляемый ряд**.  
  
4.  Убедитесь в том, что в поле **Формула**выбрано **Скользящее среднее** .  
  
5.  В разделе **Задание параметров формулы**для параметра **Период**задайте значение **4**.  
  
6.  Нажмите кнопку **границы**.  
  
7.  В **ширина линии**выберите **3пт**.  
  
8.  [!INCLUDE[clickOK](../includes/clickok-md.md)]  
  
9. Нажмите кнопку **Выполнить** для предварительного просмотра отчета.  
  
 На диаграмме отображается линия, показывающая скользящее среднее для общих продаж по дате, усредненное по каждым четырем дням.  
  
##  <a name="Title"></a> 8. Добавление заголовка отчета  
  
#### <a name="to-add-a-report-title"></a>Добавление заголовка отчета  
  
1.  Переключитесь в режим конструктора отчета.  
  
2.  В области конструктора щелкните ссылку **Щелкните, чтобы добавить заголовок**.  
  
3.  Тип **Диаграмма продаж**, нажмите клавишу ВВОД, а затем введите **Январь — декабрь 2009 г.**, чтобы он выглядел следующим образом:  
  
     **Диаграмма продаж**  
  
     **Январь — декабрь 2009 г.**  
  
4.  Выберите **Диаграмма продаж**и нажмите кнопку **Полужирный** кнопку **шрифта** разделе **Главная** вкладке ленты.  
  
5.  Выберите **Январь — декабрь 2009 г.** и в **шрифта** разделе **Главная** вкладку, задайте размер шрифта равным **10**.  
  
6.  (Необязательно) Может потребоваться внести **Title** текстового поля для соответствия размерам двух строк текста, потянув вниз на двусторонние стрелки, при щелчке по середине нижнего края.  
  
     Данный заголовок появится в верхней части отчета. При отсутствии верхнего колонтитула страницы элементы в верхней части текста отчета выполняют роль заголовка отчета.  
  
7.  Нажмите кнопку **Выполнить** для предварительного просмотра отчета.  
  
##  <a name="Save"></a> 9. Сохранение отчета  
  
#### <a name="to-save-the-report"></a>Сохранение отчета  
  
1.  Переключитесь в режим конструктора отчета.  
  
2.  Нажмите кнопку «Построитель отчетов» и выберите **Сохранить как**.  
  
3.  В поле **Имя**введите **Гистограмма заказов на продажу**.  
  
4.  Нажмите кнопку **Сохранить**.  
  
## <a name="next-steps"></a>Next Steps  
 Учебник «Добавление гистограммы к отчету» завершен. Дополнительные сведения о диаграммах см. в разделах [Диаграммы (построитель отчетов и службы SSRS)](report-design/charts-report-builder-and-ssrs.md) и [Спарклайны и гистограммы (построитель отчетов и службы SSRS)](report-design/sparklines-and-data-bars-report-builder-and-ssrs.md).  
  
## <a name="see-also"></a>См. также  
 [Учебники по &#40;построитель отчетов&#41;](report-builder-tutorials.md)   
 [Построитель отчетов в SQL Server 2014](report-builder/report-builder-in-sql-server-2016.md)  
  
  
