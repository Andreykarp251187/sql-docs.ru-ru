---
title: Изменение условных обозначений карт, цветовой шкалы и связанных правил (построитель отчетов и SSRS) | Документация Майкрософт
ms.custom: ''
ms.date: 06/14/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
f1_keywords:
- sql12.rtp.rptdesigner.shared.maprulesdistribution.f1
- "10512"
- "10539"
- "10533"
- sql12.rtp.rptdesigner.mappointlayerproperties.typerules.f1
- "10534"
- sql12.rtp.rptdesigner.maplegendproperties.general.f1
- sql12.rtp.rptdesigner.mapdistancescaleproperties.general.f1
- "10516"
- sql12.rtp.rptdesigner.mapcolorscaleproperties.labels.f1
- sql12.rtp.rptdesigner.maplegendtitleproperties.general.f1
- "10514"
- sql12.rtp.rptdesigner.shared.mapruleslegend.f1
- sql12.rtp.rptdesigner.mapcolorscaleproperties.general.f1
- sql12.rtp.rptdesigner.shared.embeddedlabels.f1
- "10513"
- sql12.rtp.rptdesigner.mappointlayerproperties.sizerules.f1
- sql12.rtp.rptdesigner.mapcolorscaletitleproperties.general.f1
- "10510"
- "10509"
- "10540"
- "10517"
ms.assetid: a1d691b2-c5ae-420f-af60-b7c54a7385a4
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 35ea86d2e03c903736a5900da3da5c10986a3f9f
ms.sourcegitcommit: b87d36c46b39af8b929ad94ec707dee8800950f5
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2020
ms.locfileid: "66106358"
---
# <a name="change-map-legends-color-scale-and-associated-rules-report-builder-and-ssrs"></a>Изменение условных обозначений карты, цветовой шкалы и связанных правил (построитель отчетов и службы SSRS)
  Карта может содержать условные обозначения, цветовую шкалу и шкалу расстояний. Эти части карты помогают пользователям понять визуализацию данных на карте.  
  
 К условным обозначениям относятся следующие части карты.  
  
-   **Условные обозначения карт** Отображает справочные сведения, помогающие интерпретировать аналитические данные, которые зависят от отображения элементов карт на слое карт. Карта может содержать несколько условных обозначений. Для каждого слоя карты указываются соответствующие условные обозначения. Условные обозначения могут описывать несколько слоев карты.  
  
-   **Цветовая шкала** Отображает справочные сведения, помогающие интерпретировать цвета на карте. Цветовая шкала на карте одна. К цветовой шкале могут относиться данные с различных слоев.  
  
-   **Шкала расстояний** Отображает справочные сведения, помогающие интерпретировать шкалу на карте. Шкала расстояний на карте одна. Шкала расстояний определяет текущее значение масштаба окна просмотра карты.  
  
 ![rs_MapElements](../media/rs-mapelements.gif "rs_MapElements")  
  
> [!NOTE]  
>  [!INCLUDE[ssRBRDDup](../../includes/ssrbrddup-md.md)]  
  
##  <a name="Viewport"></a>Изменение положения условных обозначений относительно окна просмотра  
  
#### <a name="to-change-the-position-of-a-legend-relative-to-the-viewport"></a>Изменение позиции условных обозначений относительно области просмотра  
  
1.  В представление конструирования щелкните правой кнопкой мыши условные обозначения и откройте страницу **Свойства** _ \<элемент отчета — >_.  
  
2.  В разделе **Позиция**щелкните место, где должны отображаться условные обозначения относительно области отображения.  
  
3.  Чтобы отобразить условные обозначения вне области просмотра, выберите пункт **Отобразить \<элемент отчета> снаружи области просмотра**.  
  
4.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
    > [!NOTE]  
    >  В режиме предварительного просмотра условные обозначения карты и цветовая шкала отображаются, только если существуют результаты правил, связанные с условными обозначениями. Если отсутствуют элементы для отображения, в отчете, готовом для просмотра, условные обозначения не появляются.  
  
  
  
##  <a name="MapLegend"></a>Изменение макета условных обозначений для карт  
  
#### <a name="to-change-the-layout-of-a-map-legend"></a>Изменение макета условных обозначений карты  
  
1.  В режиме конструктора щелкните правой кнопкой мыши условные обозначения и откройте страницу **Свойства условных обозначений** .  
  
2.  В окне **Макет условных обозначений**, щелкните макет таблицы, которую необходимо использовать для условных обозначений. При щелчке различных параметров макет в области конструктора будет меняться.  
  
3.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
  
  
##  <a name="MapLegendTitle"></a>Отображение или скрытие заголовка условных обозначений для карт  
  
#### <a name="to-show-or-hide-a-map-legend-title"></a>Отображение или скрытие заголовка условных обозначений карты  
  
-   Щелкните правой кнопкой мыши условные обозначения карты в области конструктора и выберите команду **Показать заголовок условных обозначений**.  
  
  
  
##  <a name="ColorScaleTitle"></a>Отображение или скрытие заголовка цветовой шкалы  
  
#### <a name="to-show-or-hide-a-color-scale-title"></a>Отображение или скрытие заголовка цветовой шкалы  
  
-   Щелкните правой кнопкой мыши цветовую шкалу в области конструктора и выберите команду **Показать заголовок цветовой шкалы**.  
  
  
  
##  <a name="MoveItems"></a>Перемещение элементов из первых условных обозначений  
 Можно создать необходимое количество условных обозначений, а потом изменить правила для каждого слоя карты, указав, в каких условных обозначениях должны отображаться результаты правила.  
  
#### <a name="to-create-a-new-legend"></a>Создание новых условных обозначений  
  
-   В режиме конструктора щелкните правой кнопкой мыши карту за пределами окна просмотра и выберите пункт **Добавить условные обозначения**.  
  
     На карте появятся новые условные обозначения.  
  
#### <a name="to-display-rule-results-in-a-legend"></a>Отображение результатов правила в условных обозначениях  
  
1.  В режиме конструктора щелкните карту, чтобы отобразилась панель «Карта».  
  
2.  Щелкните правой кнопкой мыши слой, на котором находятся нужные данные, и выберите _ \<\>_ пункт**правило цвета**типа элемента Map.  
  
3.  Выберите **Условные обозначения**.  
  
4.  В раскрывающемся списке **Показать в условных обозначениях** щелкните имя условных обозначений карты, в которых должны отображаться результаты правила.  
  
5.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
  
  
##  <a name="TemplateStyle"></a>Изменение цвета элементов карт на основе стиля шаблона  
  
#### <a name="to-vary-map-element-colors-based-on-a-template-style"></a>Изменение цвета элементов карты на основании стиля шаблона  
  
1.  В режиме конструктора щелкните карту, чтобы отобразилась панель «Карта».  
  
2.  Щелкните правой кнопкой мыши слой, на котором находятся нужные данные, и выберите _ \<\>_ пункт**правило цвета**типа элемента Map.  
  
3.  Щелкните **Применить стиль шаблона**.  
  
     Стиль шаблона задает шрифта, стиль границы и цветовую палитру. Каждому элементу карты назначен свой цвет из цветовой палитры темы, заданной в мастере карты или мастере слоя карты. Это единственный параметр, который влияет на слои, не имеющие связанных аналитических данных.  
  
4.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
  
  
##  <a name="ColorPalette"></a>Изменение цвета элементов карт в зависимости от цветовой палитры  
  
#### <a name="to-vary-map-element-colors-based-on-color-palette"></a>Изменение цвета элементов карты на основании цветовой палитры  
  
1.  В режиме конструктора щелкните карту, чтобы отобразилась панель «Карта».  
  
2.  Щелкните правой кнопкой мыши слой, на котором находятся нужные данные, и выберите пункт _ \<правило цвета типа\>элемента Map_.****  
  
3.  Щелкните **Визуализация данных с помощью цветовой палитры**.  
  
     Этот параметр использует встроенную или пользовательскую палитру. На основании связанных аналитических данных каждому элементу карты назначается свой цвет или оттенок цвета из палитры.  
  
4.  В **Поле данных**введите имя поля, содержащего аналитические данные, которые нужно выделить цветом.  
  
5.  В поле **Палитра**выберите из раскрывающегося списка имя палитры.  
  
6.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
  
  
##  <a name="ColorRanges"></a>Изменение цвета элементов карт на основе диапазонов цветов  
  
#### <a name="to-vary-map-element-colors-based-on-color-ranges"></a>Изменение цвета элементов карты на основании цветовых диапазонов  
  
1.  В режиме конструктора щелкните карту, чтобы отобразилась панель «Карта».  
  
2.  Щелкните правой кнопкой мыши слой, на котором находятся нужные данные, и выберите пункт _ \<правило цвета типа\>элемента Map_.****  
  
3.  Щелкните **Визуализация данных с помощью цветовых диапазонов**.  
  
     Этот параметр, в сочетании с начальным, средним и конечным цветами, заданными на этой странице, и параметрами, указанными на странице **Распределение** , разделяет связанные аналитические данные по диапазонам. Обработчик отчетов назначает соответствующий цвет каждому элементу карты на основании связанных данных и диапазона, в который тот попадает.  
  
4.  В **Поле данных**введите имя поля, содержащего аналитические данные, которые нужно выделить цветом.  
  
5.  В поле **Начальный цвет**укажите цвет, который нужно использовать для нижнего диапазона.  
  
6.  В поле **Средний цвет**укажите цвет, который нужно использовать для среднего диапазона.  
  
7.  В поле **Конечный цвет**укажите цвет, который нужно использовать для верхнего диапазона.  
  
8.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
  
  
##  <a name="CustomColors"></a>Изменение цвета элементов карт на основе пользовательских цветов  
  
#### <a name="to-vary-map-element-colors-based-on-custom-colors"></a>Изменение цвета элементов карты на основании пользовательских цветов  
  
1.  В режиме конструктора щелкните карту, чтобы отобразилась панель «Карта».  
  
2.  Щелкните правой кнопкой мыши слой, на котором находятся нужные данные, и выберите пункт _ \<правило цвета типа\>элемента Map_.****  
  
3.  Щелкните **Визуализация данных с помощью пользовательских цветов**.  
  
     Этот параметр использует указанный пользователем список цветов. На основании связанных аналитических данных каждому элементу карты назначается цвет из списка. Если элементов карты больше, чем цветов в списке, то цвет не назначается.  
  
4.  В **Поле данных**введите имя поля, содержащего аналитические данные, которые нужно выделить цветом.  
  
5.  В окне **Пользовательские цвета**нажмите кнопку **Добавить** , чтобы указать пользовательский цвет.  
  
6.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
  
  
##  <a name="DistributionOptions"></a>Задание параметров распространения условных обозначений  
  
#### <a name="to-set-distribution-options-for-a-legend"></a>Задание параметров распределения для условных обозначений  
  
1.  В режиме конструктора щелкните карту, чтобы отобразилась панель «Карта».  
  
2.  Щелкните правой кнопкой мыши слой, на котором находятся нужные данные, и выберите пункт _ \<правило цвета типа\>элемента Map_.****  
  
3.  Выберите параметр **визуализировать данные с помощью** \<параметра Тип\> правила. Чтобы использовать параметры распределения, нужно создать диапазоны на странице **Распределение** на основании аналитических данных, связанных со слоем.  
  
4.  Щелкните **Распределение**.  
  
5.  Выберите один из следующих типов распределения.  
  
    -   **EqualInterval**. Задает диапазоны, которые разбивают данные на равные интервалы.  
  
    -   **Равнораспределенный**. Задает диапазоны, которые делят данные так, что каждый диапазон содержит равное число элементов.  
  
    -   **Оптимально**. Задает распределение с автоматически сбалансированными поддиапазонами.  
  
    -   **Пользовательский**. Укажите собственное количество диапазонов для управления распределением значений.  
  
     Дополнительные сведения о параметрах распределения см. в разделе [Изменение параметров отображения многоугольников, линий и точек с помощью правил и аналитических данных &#40;построитель отчетов и службы SSRS&#41;](vary-polygon-line-and-point-display-by-rules-and-analytical-data.md).  
  
6.  В поле **Количество поддиапазонов**введите необходимое число поддиапазонов. Для типа распределения **Оптимальный**количество поддиапазонов вычисляется автоматически.  
  
7.  В поле **Начало диапазона**введите минимальное значение диапазона. Все значения меньше этого числа — то же самое, что минимум диапазона.  
  
8.  В поле **Конец диапазона**введите максимальное значение диапазона. Все значения больше этого числа — то же самое, что максимум диапазона.  
  
9. [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
  
  
##  <a name="RuleLegend"></a>Изменение содержимого условных обозначений правила  
  
#### <a name="to-change-the-contents-of-a-color-size-width-or-marker-type-legend"></a>Изменение содержимого условных обозначений: цвета, размера, ширины или типа маркера  
  
1.  В режиме конструктора щелкните карту, чтобы отобразилась панель «Карта».  
  
2.  Щелкните правой кнопкой мыши слой, на котором находятся нужные данные, и выберите пункт _ \<\>правило типа элемента Map_.****  
  
3.  Убедитесь, что выбран параметр **Отображать данные с помощью** \<*тип правила*>.  
  
4.  Убедитесь, что в **Поле данных**выбраны аналитические данные, визуализируемые на слое.  
  
    > [!NOTE]  
    >  Если в раскрывающемся списке нет полей, щелкните правой кнопкой слой и выберите пункт **Данные слоя** , чтобы открыть диалоговое окно "Свойства данных слоя карты", страницу "Аналитические данные" и убедитесь, что аналитические данные для этого слоя указаны.  
  
5.  Выберите **Условные обозначения**.  
  
6.  В поле **Показать в условных обозначениях**выберите условные обозначения карты, в которых должны отображаться результаты правила.  
  
7.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
  
  
##  <a name="ColorScale"></a>Изменение содержимого цветовой шкалы  
  
#### <a name="to-change-the-contents-of-the-color-scale-or-a-color-legend"></a>Изменение содержимого цветовой шкалы или условных обозначений цвета  
  
1.  В режиме конструктора щелкните карту, чтобы отобразилась панель «Карта».  
  
2.  Щелкните правой кнопкой мыши слой, на котором находятся нужные данные, и выберите пункт _ \<правило цвета типа\>элемента Map_.****  
  
3.  Выберите параметр правила цвета, который нужно использовать. Чтобы отобразить элементы в условных обозначениях карты или на цветовой шкале, следует выбрать один из вариантов **Отобразить данные с помощью** \<тип правила>.  
  
4.  Убедитесь, что в **Поле данных**выбраны аналитические данные, визуализируемые на слое.  
  
    > [!NOTE]  
    >  Если в раскрывающемся списке нет полей, щелкните правой кнопкой слой и выберите пункт **Данные слоя** , чтобы открыть диалоговое окно "Свойства данных слоя карты", страницу "Аналитические данные" и убедитесь, что аналитические данные для этого слоя указаны.  
  
5.  Выберите **Условные обозначения**.  
  
6.  В поле **Параметры цветовой шкалы**, выберите **Отобразить на цветовой шкале** , чтобы отобразить результаты правила на цветовой шкале. Этот параметр можно указать для нескольких правил цвета.  
  
7.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
  
  
##  <a name="HideItems"></a>Удаление всех элементов из условных обозначений  
  
#### <a name="to-hide-items-based-on-a-rule"></a>Скрытие элементов на основе правила  
  
1.  В режиме конструктора щелкните карту, чтобы отобразилась панель «Карта».  
  
2.  Щелкните правой кнопкой мыши слой, на котором находятся нужные данные, и выберите пункт _ \<\>правило типа элемента Map_.****  
  
3.  Выберите **Условные обозначения**.  
  
4.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
  
  
##  <a name="ChangeFormatItems"></a>Изменение формата содержимого в условных обозначениях  
 Задайте параметры условных обозначений для правила, связанного с условными обозначениями карты.  
  
#### <a name="to-change-the-format-of-content-in-a-legend"></a>Изменение формата содержимого в условных обозначениях  
  
1.  В режиме конструктора щелкните карту, чтобы отобразилась панель «Карта».  
  
2.  Щелкните правой кнопкой мыши слой, на котором находятся нужные данные, и выберите пункт _ \<\>правило типа элемента Map_.****  
  
3.  Выберите **Условные обозначения**.  
  
4.  **Текст условных обозначений** отображает ключевые слова, которые указывают, какие данные отображаются в условных обозначениях. Ключевые слова карты и пользовательские форматы помогают управлять форматом текста условных обозначений. Например, #FROMVALUE {C2} задает формат валюты с двумя десятичными разрядами. Дополнительные сведения см. в разделе [Изменение параметров отображения многоугольников, линий и точек с помощью правил и аналитических данных (построитель отчетов и службы SSRS)](vary-polygon-line-and-point-display-by-rules-and-analytical-data.md).  
  
5.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
  
  
## <a name="see-also"></a>См. также:  
 [Карты (построитель отчетов и службы SSRS)](maps-report-builder-and-ssrs.md)   
 [Добавить, изменить или удалить карту или слой &#40;построитель отчетов и службы SSRS&#41;](add-change-or-delete-a-map-or-map-layer-report-builder-and-ssrs.md)   
 [Настройка данных и отображения карт &#40;построитель отчетов и служб SSRS&#41;](customize-the-data-and-display-of-a-map-or-map-layer-report-builder-and-ssrs.md)   
 [Устранение неполадок в отчетах: отчеты &#40;построитель отчетов и службы SSRS&#41;](troubleshoot-reports-map-reports-report-builder-and-ssrs.md)   
 [Мастер карт и мастер слоев карт (построитель отчетов и службы SSRS)](map-wizard-and-map-layer-wizard-report-builder-and-ssrs.md)  
  
  
