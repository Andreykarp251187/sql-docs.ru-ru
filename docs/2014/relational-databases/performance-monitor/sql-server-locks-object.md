---
title: SQL Server, объект Locks | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: performance
ms.topic: conceptual
helpviewer_keywords:
- Locks object
- SQLServer:Locks
ms.assetid: ace04f0d-3993-4444-8317-ca39d7087e49
author: MikeRayMSFT
ms.author: mikeray
manager: craigg
ms.openlocfilehash: cd7773177f6ec9d02df9d3d669abf561919ffe0b
ms.sourcegitcommit: b87d36c46b39af8b929ad94ec707dee8800950f5
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2020
ms.locfileid: "63250611"
---
# <a name="sql-server-locks-object"></a>SQL Server, объект Locks
  Объект **SQLServer: блокировки** в Microsoft [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] предоставляет сведения о блокировках [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , полученных для отдельных типов ресурсов. Блокировки выдаются на такие ресурсы [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , как прочитанные или измененные транзакцией строки, для предотвращения одновременного использования ресурсов несколькими транзакциями. Например, если исключительная (X) блокировка получена транзакцией на строку в таблице, никакая другая транзакция не сможет изменить эту строку, пока блокировка не будет освобождена. Минимизация использования блокировок повышает параллелизм, что может улучшить общую производительность. Одновременно может отслеживаться несколько экземпляров объекта **Locks** , каждый из которых будет представлять собой блокировку отдельного вида ресурсов.  
  
 В этой таблице описаны счетчики [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] **Locks** .  
  
|Счетчики SQL Server Locks|Description|  
|-------------------------------|-----------------|  
|**Среднее время ожидания (МС)**|Средняя длительность ожидания (в миллисекундах) для всех запросов блокировки, при которых потребовалось ожидание.|  
|**Запросов на блокировку/с**|Количество новых блокировок и преобразований блокировок за секунду, запрошенное у диспетчера блокировок.|  
|**Время ожидания блокировки (время ожидания > 0)/с**|Количество запросов блокировок в секунду, время ожидания которых истекло, кроме запросов блокировок NOWAIT|  
|**Превышений времени ожидания блокировки в секунду**|Количество запросов блокировок в секунду, время ожидания которых истекло, включая запросы блокировок NOWAIT|  
|**Время ожидания блокировки (МС)**|Суммарное время ожидания (в миллисекундах) блокировок за последнюю секунду.|  
|**Ожиданий блокировок/с**|Количество запросов блокировок в секунду, которые потребовали ожидания участника.|  
|**Число взаимоблокировок/с**|Количество запросов блокировок за секунду, которые завершились взаимоблокировками.|  
  
 
  [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] может выполнить блокировку следующих ресурсов.  
  
|Элемент|Description|  
|----------|-----------------|  
|**_Total**|Данные по всем блокировкам.|  
|**аллокунит**|Блокировка на единицу распределения.|  
|**Приложение**|Блокировка на определяемый приложением ресурс.|  
|**База данных**|Блокировка на базу данных, она включает все объекты базы данных.|  
|**Экстент**|Блокировка последовательной группы из 8 страниц.|  
|**File**|Блокировка на файл базы данных.|  
|**Куча или сбалансированного дерева**|Куча или сбалансированное дерево. Блокировка кучи страниц данных или структуры сбалансированного дерева в индексе.|  
|**Key**|Блокировка для строки в индексе.|  
|**Метаданные**|Блокировка элемента данных каталога, также называемого метаданными.|  
|**Объект**|Блокировка для таблицы, хранимой процедуры, представления и т.п., включающая все данные и индексы. Объектом может быть что-либо, для чего имеется запись в таблице **sys.all_objects**.|  
|**Страница**|Блокировка для 8-килобайтовой (КБ) страницы в базе данных.|  
|**ИЗБЕЖАТЬ**|Идентификатор строки. Блокировка одной строки в куче.|  
  
## <a name="see-also"></a>См. также:  
 [Мониторинг использования ресурсов &#40;системном мониторе&#41;](monitor-resource-usage-system-monitor.md)  
  
  
