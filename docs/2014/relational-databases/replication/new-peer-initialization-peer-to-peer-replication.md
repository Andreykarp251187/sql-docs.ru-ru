---
title: Инициализация нового узла (одноранговая репликация) | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
f1_keywords:
- sql12.rep.p2pwizard.init.f1
ms.assetid: 050c00e1-78bd-4d9c-affe-40e22feb4d94
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: ef3f20d6757b056abe925e087e81e07ad6358696
ms.sourcegitcommit: 57f1d15c67113bbadd40861b886d6929aacd3467
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/18/2020
ms.locfileid: "85060656"
---
# <a name="new-peer-initialization-peer-to-peer-replication"></a>Инициализация нового узла (одноранговая репликация)
  Для указания метода инициализации одноранговых баз данных служит страница **Инициализация нового узла** . (Перед завершением работы мастера необходимо инициализировать узлы.) Одноранговые узлы инициализируются вручную или с помощью функции " **инициализировать с помощью резервного копирования** ", предоставляемой репликацией транзакций. (Одноранговая репликация транзакций не поддерживает инициализацию одноранговых узлов с помощью моментального снимка.) Если разные узлы должны быть инициализированы с помощью различных методов, необходимо добавить одноранговые узлы отдельно, запустив мастер несколько раз.  
  
## <a name="options"></a>Варианты  
 **Укажите способ инициализации новых одноранговых баз данных**  
 Схема и данные для всех опубликованных объектов должны присутствовать на каждом узле. Выберите один из следующих параметров:  
  
-   Выберите первый вариант, если схема для опубликованных объектов была создана вручную или восстановлена резервная копия, а данные в первой базе данных публикации не изменялись со времени резервного копирования. При создании схемы вручную необходимо обеспечить присутствие всех необходимых данных на каждом узле. Этот режим соответствует значению **только поддержка репликации** для свойства подписки **sync_type**.  
  
-   Выберите второй вариант, если была восстановлена резервная копия и данные в первой базе данных публикации изменились со времени резервного копирования. Теперь репликация должна доставить из первой базы данных публикации те изменения, которые не были включены в резервную копию. Этот режим соответствует значению **инициализации при помощи резервной копии** для свойства подписки **sync_type**.  
  
     Если публикация разрешена для одноранговой репликации, то свойство публикации **allow_initialize_from_backup** получает значение. Репликация немедленно начинает отслеживать изменения в первой базе данных публикации. Поэтому эти изменения можно доставить в восстановленную базу данных на одном или нескольких узлах при выборе **инициализации при помощи резервной копии** . Нажмите кнопку **Обзор** для поиска используемой резервной копии, и репликация прочитает регистрационный номер транзакции в журнале (LSN) из этой резервной копии. Все изменения в первой базе данных публикации с большими номерами LSN будут перенесены на каждый узел.  
  
     Этот параметр может быть недоступен, если создается или добавляется топология, включающая [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]. В следующей таблице показано, доступен ли этот параметр при добавлении узла к существующей топологии.  
  
    |Новый узел|Первый узел|Дополнительные узлы|Параметр|  
    |--------------|----------------|----------------------|------------|  
    |[!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]|[!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]|[!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]|Выключено|  
    |[!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]|[!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)]|None|Выключено|  
    |[!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)]|[!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)]|[!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]|Выключено|  
    |[!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]|[!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]|None|Активировано|  
    |[!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)]|[!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)]|None|Активировано|  
    |[!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)]|[!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)]|[!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)]|Активировано|  
    |[!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)]|[!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]|None|Активировано|  
  
## <a name="see-also"></a>См. также:  
 [Администрирование одноранговой топологии &#40;программирование репликации на языке Transact-SQL&#41;](administration/administer-a-peer-to-peer-topology-replication-transact-sql-programming.md)   
 [Одноранговая репликация транзакций](transactional/peer-to-peer-transactional-replication.md)  
  
  
