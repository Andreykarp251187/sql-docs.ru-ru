---
title: Урок 2. Добавление моделей интеллектуального анализа данных для структуры интеллектуального анализа данных для покупателя велосипеда | Документация Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: 03fe44c5-6452-4ed0-95f6-9682670c0f52
author: minewiskan
ms.author: owend
manager: kfile
ms.openlocfilehash: de65fb7a85154f607cd8f266faec4621cdc41476
ms.sourcegitcommit: f7fced330b64d6616aeb8766747295807c92dd41
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "63131750"
---
# <a name="lesson-2-adding-mining-models-to-the-bike-buyer-mining-structure"></a>Урок 2. Добавление моделей к структуре интеллектуального анализа данных "Покупатель велосипеда"
  На этом занятии будет добавлено две модели интеллектуального анализа данных к структуре интеллектуального анализа «Покупатель велосипеда», который вы создали [занятии 1: Создание структуры интеллектуального анализа данных для покупателя велосипеда](../../2014/tutorials/lesson-1-creating-the-bike-buyer-mining-structure.md). Эти модели интеллектуального анализа позволяют просматривать данные, используя одну модель, и создавать прогнозы с помощью другой модели.  
  
 Чтобы изучить как потенциальные клиенты могут быть сгруппированы в соответствии со своими характеристиками, вы создадите модель интеллектуального анализа данных, на основе [Microsoft Clustering Algorithm](../../2014/analysis-services/data-mining/microsoft-clustering-algorithm.md). На одном из следующих занятий будет изучено, каким образом этот алгоритм находит кластеры заказчиков с похожими характеристиками. Например, может оказаться, что некоторые заказчики живут близко друг от друга, ездят на велосипеде и имеют примерно равный уровень образования. Можно использовать данные кластеры, чтобы лучше понять, каким образом различные заказчики связаны между собой, и использовать эти сведения для создания маркетинговой стратегии, рассчитанной на конкретных заказчиков.  
  
 Для прогнозирования, является ли потенциальный заказчик купят велосипед, вы создадите модель интеллектуального анализа данных, на основе [Microsoft Decision Trees Algorithm](../../2014/analysis-services/data-mining/microsoft-decision-trees-algorithm.md). Этот алгоритм просматривает данные, связанные с каждым потенциальным заказчиком, и находит характеристики, релевантные для прогнозирования покупки велосипеда. Затем он сравнивает значения характеристик заказчиков, уже купивших велосипеды, с характеристиками потенциальных заказчиков для определения возможности того, что они купят велосипеды.  
  
## <a name="alter-mining-structure-statement"></a>Инструкция ALTER MINING STRUCTURE  
 Используется для добавления модели интеллектуального анализа данных к структуре интеллектуального анализа данных, [ALTER MINING STRUCTURE &#40;расширений интеллектуального анализа данных&#41; ](/sql/dmx/alter-mining-structure-dmx?view=sql-server-2016) инструкции. Код инструкции можно разбить на следующие части:  
  
-   Определение структуры интеллектуального анализа данных  
  
-   Указание имени модели интеллектуального анализа  
  
-   Определение ключевого столбца  
  
-   Определение столбцов исходных данных и прогнозируемых столбцов  
  
-   Идентификация алгоритма и изменений параметра  
  
 В следующем фрагменте показан стандартный пример инструкции ALTER MINING MODEL:  
  
```  
ALTER MINING STRUCTURE [<mining structure name>]  
ADD MINING MODEL [<mining model name>]  
(  
    [<key column>],  
    <mining model columns>,  
) USING <algorithm name>( <algorithm parameters> )  
WITH FILTER (<expression>)  
```  
  
 В первой строке кода идентифицируется существующая структура интеллектуального анализа данных, к которой будут добавлены модели интеллектуального анализа данных:  
  
```  
ALTER MINING STRUCTURE [<mining structure name>]  
```  
  
 В следующей строчке кода модели интеллектуального анализа данных, добавляемой к структуре интеллектуального анализа, присваивается имя:  
  
```  
ADD MINING MODEL [<mining model name>]  
```  
  
 Сведения о присвоении имени объекту в расширениях интеллектуального анализа данных, см. в разделе [идентификаторы &#40;расширений интеллектуального анализа данных&#41;](/sql/dmx/identifiers-dmx).  
  
 Следующие строки кода задают столбцы из структуры интеллектуального анализа, которые будут использоваться моделью интеллектуального анализа:  
  
```  
[<key column>],  
<mining model columns>  
```  
  
 Можно использовать только существующие столбцы структуры интеллектуального анализа, причем первый столбец из списка должен быть ключевым столбцом структуры интеллектуального анализа.  
  
 В последней строчке кода определяется алгоритм интеллектуального анализа данных, который создает модель интеллектуального анализа, и параметры, которые можно передать алгоритму:  
  
```  
) USING <algorithm name>( <algorithm parameters> )  
```  
  
 Дополнительные сведения о параметрах алгоритма, которые можно настроить, см. в разделе [Microsoft Decision Trees Algorithm](../../2014/analysis-services/data-mining/microsoft-decision-trees-algorithm.md) и [Microsoft Clustering Algorithm](../../2014/analysis-services/data-mining/microsoft-clustering-algorithm.md).  
  
 С помощью следующего синтаксиса можно указать столбец модели интеллектуального анализа, который следует использовать для прогнозирования:  
  
```  
<mining model column> PREDICT  
```  
  
 В последней строке кода, которая является необязательной, определяется фильтр, применяемый при обучении и проверке модели. Дополнительные сведения о применении фильтров к моделям интеллектуального анализа данных см. в разделе [фильтры для моделей интеллектуального анализа данных &#40;службы Analysis Services — Интеллектуальный анализ данных&#41;](../../2014/analysis-services/data-mining/filters-for-mining-models-analysis-services-data-mining.md).  
  
## <a name="lesson-tasks"></a>Задачи занятия  
 На этом занятии будут выполнены следующие задачи.  
  
-   Добавить модель интеллектуального анализа данных дерева принятия решений к структуре «Покупатель велосипеда» с помощью [!INCLUDE[msCoName](../includes/msconame-md.md)] алгоритм дерева принятия решений  
  
-   Добавить модель интеллектуального анализа данных кластеризации к структуре «Покупатель велосипеда» с помощью [!INCLUDE[msCoName](../includes/msconame-md.md)] алгоритм кластеризации  
  
-   Поскольку требуется ознакомиться с результатами для всех вариантов, ни для одной модели не должен быть добавлен фильтр.  
  
## <a name="adding-a-decision-tree-mining-model-to-the-structure"></a>Добавление модели интеллектуального анализа дерева принятия решений к структуре интеллектуального анализа данных  
 Первым шагом является добавление модели интеллектуального анализа данных на основе [!INCLUDE[msCoName](../includes/msconame-md.md)] алгоритм дерева принятия решений.  
  
#### <a name="to-add-a-decision-tree-mining-model"></a>Для добавления модели интеллектуального анализа дерева принятия решений  
  
1.  В **обозревателя объектов**, щелкните правой кнопкой мыши экземпляр [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)], пункты **новый запрос**, а затем нажмите кнопку **расширений интеллектуального анализа данных** для открытия редактора запросов и создать новый, пустой запрос.  
  
2.  Скопируйте стандартный пример использования инструкции ALTER MINING STRUCTURE в пустое окно запроса.  
  
3.  Вместо  
  
    ```  
    <mining structure name>   
    ```  
  
     вставьте  
  
    ```  
    [Bike Buyer]  
    ```  
  
4.  Вместо  
  
    ```  
    <mining model name>   
    ```  
  
     вставьте  
  
    ```  
    Decision Tree  
    ```  
  
5.  Вместо  
  
    ```  
    <mining model columns>,  
    ```  
  
     вставьте  
  
    ```  
    (  
       CustomerKey,  
       [Age],  
       [Bike Buyer] PREDICT,  
       [Commute Distance],  
       [Education],  
       [Gender],  
       [House Owner Flag],  
       [Marital Status],  
       [Number Cars Owned],  
       [Number Children At Home],  
       [Occupation],  
       [Region],  
       [Total Children],  
       [Yearly Income]  
    ```  
  
     В этом случае столбец `[Bike Buyer]` обозначается как столбец PREDICT.  
  
6.  Вместо  
  
    ```  
    USING <algorithm name>( <algorithm parameters> )   
    ```  
  
     вставьте  
  
    ```  
    Using Microsoft_Decision_Trees  
    WITH DRILLTHROUGH  
    ```  
  
     Инструкция WITH DRILLTHROUGH позволяет просматривать объекты, использованные для построения модели интеллектуального анализа данных.  
  
     В результате инструкция должна выглядеть следующим образом:  
  
    ```  
    ALTER MINING STRUCTURE [Bike Buyer]  
    ADD MINING MODEL [Decision Tree]  
    (  
       CustomerKey,  
       [Age],  
       [Bike Buyer] PREDICT,  
       [Commute Distance],  
       [Education],  
       [Gender],  
       [House Owner Flag],  
       [Marital Status],  
       [Number Cars Owned],  
       [Number Children At Home],  
       [Occupation],  
       [Region],  
       [Total Children],  
       [Yearly Income]  
    ) USING Microsoft_Decision_Trees  
    WITH DRILLTHROUGH  
    ```  
  
7.  В меню **Файл** щелкните **Сохранить DMXQuery1.dmx как**.  
  
8.  В **Сохранить как** диалоговом окне перейдите к соответствующей папке и присвойте файлу имя `DT_Model.dmx`.  
  
9. На панели инструментов нажмите кнопку **Выполнить** .  
  
## <a name="adding-a-clustering-mining-model-to-the-structure"></a>Добавление модели интеллектуального анализа кластеризации к структуре интеллектуального анализа данных  
 Теперь можно добавить модель интеллектуального анализа данных к структуре интеллектуального анализа «Покупатель велосипеда», на основе [!INCLUDE[msCoName](../includes/msconame-md.md)] алгоритм кластеризации. Поскольку модель интеллектуального анализа данных кластеризации будет использовать все столбцы, определенные в структуре интеллектуального анализа данных, можно использовать контекстное меню, чтобы добавить модель к структуре без определения столбцов интеллектуального анализа данных.  
  
#### <a name="to-add-a-clustering-mining-model"></a>Добавление модели интеллектуального анализа кластеризации  
  
1.  В **обозревателя объектов**, щелкните правой кнопкой мыши экземпляр [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)], пункты **новый запрос**, а затем нажмите кнопку **расширений интеллектуального анализа данных** чтобы открыть редактор запросов и создать новый, пустой запрос.  
  
2.  Скопируйте стандартный пример использования инструкции ALTER MINING STRUCTURE в пустое окно запроса.  
  
3.  Вместо  
  
    ```  
    <mining structure name>   
    ```  
  
     вставьте  
  
    ```  
    [Bike Buyer]  
    ```  
  
4.  Вместо  
  
    ```  
    <mining model>   
    ```  
  
     вставьте  
  
    ```  
    Clustering Model  
    ```  
  
5.  Удалите:  
  
    ```  
    (  
        [<key column>],  
        <mining model columns>,  
    )  
    ```  
  
6.  Вместо  
  
    ```  
    USING <algorithm name>( <algorithm parameters> )  
    ```  
  
     вставьте  
  
    ```  
    USING Microsoft_Clustering  
    ```  
  
     Полная инструкция теперь должна выглядеть следующим образом.  
  
    ```  
    ALTER MINING STRUCTURE [Bike Buyer]  
    ADD MINING MODEL [Clustering]  
    USING Microsoft_Clustering   
    ```  
  
7.  В меню **Файл** щелкните **Сохранить DMXQuery1.dmx как**.  
  
8.  В **Сохранить как** диалоговом окне перейдите к соответствующей папке и присвойте файлу имя `Clustering_Model.dmx`.  
  
9. На панели инструментов нажмите кнопку **Выполнить** .  
  
 На следующем занятии вы научитесь обрабатывать модели и структуры интеллектуального анализа.  
  
## <a name="next-lesson"></a>Следующее занятие  
 [Занятие 3. Обработка структуры интеллектуального анализа данных для покупателя велосипеда](../../2014/tutorials/lesson-3-processing-the-bike-buyer-mining-structure.md)  
  
  
