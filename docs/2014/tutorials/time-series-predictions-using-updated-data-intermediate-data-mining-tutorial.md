---
title: Прогнозы временных рядов с использованием обновленных данных (учебника интеллектуальному анализу данных) | Документация Майкрософт
ms.custom: ''
ms.date: 03/09/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: af73681d-ce1c-4b6e-b195-6df3d2fb5275
author: minewiskan
ms.author: owend
manager: kfile
ms.openlocfilehash: 2017defaba74071b1a12bee14a5d8907e4c71cda
ms.sourcegitcommit: 3026c22b7fba19059a769ea5f367c4f51efaf286
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/15/2019
ms.locfileid: "63067560"
---
# <a name="time-series-predictions-using-updated-data-intermediate-data-mining-tutorial"></a>Прогнозы временных рядов с использованием обновленных данных (учебник по интеллектуальному анализу данных — средний уровень)
    
## <a name="creating-predictions-using-the-extended-sales-data"></a>Создание прогнозов с помощью расширенных сведений о продажах  
 На этом занятии будет создан прогнозирующий запрос, который добавляет новые данные о продажах в модель. Дополняя модель новыми данными, можно получать актуальные прогнозы, которые включают последние точки данных.  
  
 Создание прогнозов временных рядов, использующих новые данные проста: нужно просто добавить параметр EXTEND_MODEL_CASES для [PredictTimeSeries &#40;расширений интеллектуального анализа данных&#41; ](/sql/dmx/predicttimeseries-dmx) функцию, определите источник новых данных и укажите количество прогнозы, которые вы хотите получить.  
  
> [!WARNING]  
>  Параметр EXTEND_MODEL_CASES не является обязательным. По умолчанию модель расширяется каждый раз при создании прогнозирующего запроса временных рядов путем соединения новых данных в качестве данных входа.  
  
#### <a name="to-build-the-prediction-query-and-add-new-data"></a>Создание прогнозирующего запроса и добавление новых данных  
  
1.  Если модель не открыт, дважды щелкните структуру Прогнозирование и в конструкторе интеллектуального анализа данных щелкните **модель интеллектуального анализа данных** вкладки.  
  
2.  В **модель интеллектуального анализа данных** области, модели прогнозирования должен быть установлен. Если он не установлен, нажмите кнопку **Выбор модели**, а затем выберите модель, прогнозирование.  
  
3.  В **Выбор входных таблиц** панели щелкните **выбрать таблицу вариантов**.  
  
4.  В **Выбор таблицы** диалоговом окне выберите источник данных, [!INCLUDE[ssAWDWsp](../includes/ssawdwsp-md.md)].  
  
     Из списка представлений источников данных, выберите NewSalesData и нажмите кнопку **ОК**.  
  
5.  Щелкните правой кнопкой в области конструктора и выберите **изменить соединения**.  
  
6.  С помощью **изменение сопоставления** диалоговое окно, Сопоставьте столбцы в модели со столбцами во внешних данных следующим образом:  
  
    -   Сопоставьте столбец ReportingDate в модели интеллектуального анализа данных столбец NewDate во входных данных.  
  
    -   Сопоставьте столбец Amount в модели интеллектуального анализа данных столбец NewAmount во входных данных.  
  
    -   Сопоставьте столбец Quantity в модели интеллектуального анализа данных столбец NewQty во входных данных.  
  
    -   Сопоставьте столбец ModelRegion в модели интеллектуального анализа данных столбец ряда входных данных.  
  
7.  Теперь вы создадите прогнозирующий запрос.  
  
     Сначала добавьте столбец к прогнозирующему запросу, чтобы получить ряд, к которому относится прогноз.  
  
    1.  В сетке щелкните первую пустую строку в столбце **источника**, а затем выберите прогнозирование.  
  
    2.  В **поле** столбец, выберите Model Region и **псевдоним**, тип `Model Region`.  
  
8.  Далее добавьте и измените прогнозирующую функцию.  
  
    1.  Щелкните пустую строку, а затем в разделе **источника**выберите **Прогнозирующая функция**.  
  
    2.  Для **поле**выберите **PredictTimeSeries**.  
  
    3.  Для **псевдоним**, тип **прогнозируемые значения**.  
  
    4.  Перетащите поле Quantity из **модель интеллектуального анализа данных** на панель **критерий или аргумент** столбца.  
  
    5.  В **критерий или аргумент** столбец, после имени поля введите следующий текст:  **5,EXTEND_MODEL_CASES**  
  
         Полный текст **критерий или аргумент** текстовое поле должно выглядеть следующим образом: `[Forecasting].[Quantity],5,EXTEND_MODEL_CASES`  
  
9. Нажмите кнопку **результаты** и просмотрите результаты.  
  
     Прогноз начинается в июле (срез первого периода после исходных данных) и заканчивается в ноябре (срез пятого периода после исходных данных).  
  
 Как видно, чтобы эффективно использовать этот тип прогнозирующего запроса, нужно знать, когда завершаются старые данные, а также сколько имеется срезов в новых данных.  
  
 Например, в этой модели ряд исходных данных завершился в июне, а данные были получены для июля, августа и сентября.  
  
 Прогнозы, использующие параметр EXTEND_MODEL_CASES, всегда начинаются в конце ряда исходных данных. Поэтому, если нужно получить прогноз только для неизвестных месяцев, следует указать начальную и конечную точки прогноза. Оба значения указываются в качестве временных срезов в конце старых данных.  
  
 В следующей процедуре показано, как это можно сделать.  
  
### <a name="change-the-start-and-end-points-of-the-predictions"></a>Изменение начальной и конечной точек прогноза  
  
1.  В построителе прогнозирующих запросов, нажмите кнопку **запроса** для переключения в режим расширений интеллектуального анализа данных.  
  
2.  Найдите DMX-инструкцию, содержащую функцию PredictTimeSeries, и измените ее следующим образом.  
  
     `PredictTimeSeries([Forecasting 12].[Quantity],4,6,EXTEND_MODEL_CASES)`  
  
3.  Нажмите кнопку **результаты** и просмотрите результаты.  
  
     Теперь прогноз начинается в октябре (срез четвертого периода — начиная с конца исходных данных) и завершается в декабре (срез шестого периода — начиная с конца исходных данных).  
  
## <a name="next-task-in-lesson"></a>Следующая задача занятия  
 [Прогнозы временных рядов с заменой данных &#40;учебника интеллектуальному анализу данных&#41;](../../2014/tutorials/time-series-predictions-replacement-data-intermediate-data-mining.md)  
  
## <a name="see-also"></a>См. также  
 [Технический справочник по алгоритму временных рядов (Майкрософт)](../../2014/analysis-services/data-mining/microsoft-time-series-algorithm-technical-reference.md)   
 [Содержимое моделей интеллектуального анализа данных для моделей временных рядов (службы Analysis Services — интеллектуальный анализ данных)](../../2014/analysis-services/data-mining/mining-model-content-for-time-series-models-analysis-services-data-mining.md)  
  
  
