---
title: Что такое контроллер?
titleSuffix: SQL Server big data clusters
description: В этой статье описывается контроллер кластера больших данных SQL Server 2019 (Предварительная версия).
author: mihaelablendea
ms.author: mihaelab
ms.reviewer: mikeray
ms.date: 07/24/2019
ms.topic: conceptual
ms.prod: sql
ms.technology: big-data-cluster
ms.openlocfilehash: e984c3dced4bde713ac98d67c22481e54491cd68
ms.sourcegitcommit: 1f222ef903e6aa0bd1b14d3df031eb04ce775154
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/23/2019
ms.locfileid: "68419534"
---
# <a name="what-is-the-controller-on-a-sql-server-big-data-cluster"></a>Что такое контроллер в SQL Server кластере больших данных?

[!INCLUDE[tsql-appliesto-ssver15-xxxx-xxxx-xxx](../includes/tsql-appliesto-ssver15-xxxx-xxxx-xxx.md)]

В контроллере размещается основная логика для развертывания кластера больших данных и управления им. Он отвечает за все взаимодействия с Kubernetes, SQL Server экземплярами, которые являются частью кластера, и другими компонентами, такими как HDFS и Spark.

Служба контроллера предоставляет следующие основные функции:

- Управление жизненным циклом кластера: удаление & начальной загрузки кластера, конфигурации обновлений
- Управление экземплярами главного SQL Server
- Управление ресурсами вычислений, данных и пулов носителей
- Предоставление средств мониторинга для наблюдения за состоянием кластера
- Предоставление средств устранения неполадок для обнаружения и устранения непредвиденных проблем
- Управление безопасностью кластера:
  - Обеспечение защищенных конечных точек кластера
  - Управление пользователями и ролями
  - Настройка учетных данных для обмена данными внутри кластера

## <a name="deploying-the-controller-service"></a>Развертывание службы контроллера

Контроллер разворачивается и размещается в том же пространстве имен Kubernetes, где клиент хочет создать кластер больших данных. Эта служба устанавливается администратором Kubernetes во время начальной загрузки кластера с помощью служебной программы командной строки **аздата** . Дополнительные сведения см. в статье Начало [работы с SQL Server кластерами больших данных](deploy-get-started.md).

Рабочий процесс построения будет разрабатываться поверх Kubernetes — полностью функционального SQL Server кластера больших данных, который включает все компоненты, описанные в [обзорной](big-data-cluster-overview.md) статье. Рабочий процесс начальной загрузки сначала создает службу контроллера, и после развертывания Служба контроллера будет координировать установку и настройку остальных служб, входящих в состав основных, расчетов, данных и пулов носителей.

## <a name="managing-the-cluster-through-the-controller-service"></a>Управление кластером с помощью службы контроллера

Управлять кластером можно через службу контроллера с помощью команд **аздата** . При развертывании дополнительных объектов Kubernetes, например модулей Pod, в одном пространстве имен они не управляются и не отслеживаются службой контроллера. Вы также можете использовать команды **kubectl** для управления кластером на уровне Kubernetes. Дополнительные сведения см. в разделе [мониторинг и устранение неполадок SQL Server кластерах больших данных](cluster-troubleshooting-commands.md).

Контроллер и объекты Kubernetes (наборы с отслеживанием состояния, Pod, секреты и т. д.), созданные для кластера больших данных, находятся в выделенном пространстве имен Kubernetes. Службе контроллера будет предоставлено разрешение администратора кластера Kubernetes для управления всеми ресурсами в этом пространстве имен.  Политика RBAC для этого сценария настраивается автоматически в рамках первоначального развертывания кластера с помощью **аздата**.

### <a name="azdata"></a>аздата

**аздата** — это служебная программа командной строки, написанная на языке Python, которая позволяет администраторам кластера выполнять начальную загрузку кластеров больших данных и управление ими с помощью интерфейсов API, предоставляемых службой контроллера.

## <a name="controller-service-security"></a>Безопасность службы контроллера

Все подключения к службе контроллера выполняются с помощью REST API по протоколу HTTPS. Самозаверяющий сертификат будет автоматически создан при начальной загрузке. 

Проверка подлинности в конечной точке службы контроллера основана на имени пользователя и пароле. Эти учетные данные подготавливаются во время начальной загрузки кластера с использованием входных данных `CONTROLLER_USERNAME` для `CONTROLLER_PASSWORD`переменных среды и.

> [!NOTE]
> Необходимо указать пароль, который соответствует [требованиям к сложности пароля SQL Server](https://docs.microsoft.com/sql/relational-databases/security/password-policy?view=sql-server-2017).

## <a name="next-steps"></a>Следующие шаги

Дополнительные сведения о SQL Server кластерах больших данных см. в следующих ресурсах:

- [Что такое SQL Server 2019 кластеры больших данных?](big-data-cluster-overview.md)
- [Обсуждения Архитектура кластеров больших данных Microsoft SQL Server](https://github.com/Microsoft/sqlworkshops/tree/master/sqlserver2019bigdataclusters)
