---
title: Основные понятия безопасности
titleSuffix: SQL Server big data clusters
description: В этой статье описываются основные понятия безопасности для кластера SQL Server 2019 больших данных (Предварительная версия). Сюда входят, описывающие конечные точки кластера и аутентификация в кластере.
author: nelgson
ms.author: negust
ms.reviewer: mikeray
manager: jroth
ms.date: 06/26/2019
ms.topic: conceptual
ms.prod: sql
ms.technology: big-data-cluster
ms.openlocfilehash: 49577ce5a29a0c014fea7c8c9a0c5c320a9b7174
ms.sourcegitcommit: e0c55d919ff9cec233a7a14e72ba16799f4505b2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/10/2019
ms.locfileid: "67729108"
---
# <a name="security-concepts-for-sql-server-big-data-clusters"></a>Основные понятия безопасности для работы с большими данными кластеров SQL Server

[!INCLUDE[tsql-appliesto-ssver15-xxxx-xxxx-xxx](../includes/tsql-appliesto-ssver15-xxxx-xxxx-xxx.md)]

Кластер защиты больших данных подразумевает согласованное и согласованным поддержка сценариев проверки подлинности и авторизации, как в SQL Server, так и в HDFS или Spark. Проверка подлинности — это процесс проверки удостоверения пользователя или службы и убедиться, что кого они Заявленная. Авторизация подразумевает набор для предоставления или отзыва доступа к определенным ресурсам на основе удостоверения пользователя. Этот шаг выполняется после пользователя определяется с помощью проверки подлинности.

Авторизация в контексте больших данных обычно выполняется через списки управления доступом (ACL), связывающие удостоверений пользователей с определенными разрешениями. HDFS поддерживает авторизацию путем ограничения доступа к API службы, файлы HDFS и выполнения задания.

В этой статье рассматриваются основные понятия безопасности в кластере больших данных.

## <a name="cluster-endpoints"></a>Конечные точки кластера

Существуют три точки входа в кластер больших данных

* Шлюз HDFS или Spark (Knox) — это конечная точка на основе HTTPS. Благодаря этому передаются другим конечным точкам. Шлюз HDFS/Spark используется для доступа к службам, таким как webHDFS и Livy. Везде, где вы видите ссылки на Knox, это конечная точка.

* Конечная точка контроллера - больших данных кластера службы управления, который предоставляет REST API для управления кластером. Некоторые средства осуществляется через эту конечную точку.

* Главный экземпляр - конечной точки TDS инструменты для баз данных и приложений для подключения к экземпляру SQL Server Master в кластере.

![Конечные точки кластера](media/concept-security/cluster_endpoints.png)

В настоящее время нет возможности открытия дополнительных портов для доступа к кластеру извне.

### <a name="how-endpoints-are-secured"></a>Защита конечных точек

Защита конечных точек в кластере больших данных выполняется с использованием паролей, которые могут быть набора или обновления либо с помощью переменных среды или команд интерфейса командной строки. Все пароли внутренней кластера хранятся в виде секреты Kubernetes.  

## <a name="authentication"></a>Проверка подлинности

При подготовке кластера, создаются несколько имен входа.

Некоторые из этих имен входа предназначены для взаимодействовать друг с другом, а другие используются для конечных пользователей для доступа к кластеру.

### <a name="end-user-authentication"></a>Аутентификация пользователей
При подготовке кластера, ряд пароли для конечных пользователей необходимо задать переменные среды. Ниже приведены паролей, которые SQL Администраторы и Администраторы кластера используются для доступа к службам.

Имя пользователя контроллера:
 + CONTROLLER_USERNAME=<controller_username>

Пароля для контроллера:  
 + CONTROLLER_PASSWORD = < controller_password >

Пароль системного Администратора SQL Master: 
 + MSSQL_SA_PASSWORD=<controller_sa_password>

Пароль для доступа к конечной точке HDFS/Spark:
 + KNOX_PASSWORD=<knox_password>

### <a name="intra-cluster-authentication"></a>Проверка подлинности внутри кластера

После развертывания кластера создаются несколько имен входа SQL:

* Специальное имя входа SQL создается на экземпляре SQL контроллера, — это система, управляемых с помощью роли sysadmin. Пароль для этого имени входа записывается в виде K8s секрета.

* Во всех экземплярах SQL в кластере, который контроллер владеет и управляет создается имени входа системного администратора. Она необходима для контроллера для выполнения административных задач, таких как настройка высокого уровня ДОСТУПНОСТИ или обновление, на этих экземплярах. Эти имена входа, также используются для обмена данными внутри кластера между экземплярами SQL, таких как основной экземпляр SQL, взаимодействие с пулом данных.

> [!NOTE]
> В текущем выпуске поддерживается только обычная проверка подлинности. Детальное управление доступом к объектам HDFS и больших данных кластера вычислительных операций и пулов SQL, еще не доступен.

## <a name="intra-cluster-communication"></a>Передачи данных внутри кластера

Взаимодействие со службами отличные от SQL в кластере больших данных, например Livy Spark или Spark в пул носителей, защищается с помощью сертификатов. Все SQL Server для обмена данными с сервером SQL защищается с помощью имен входа SQL Server.

## <a name="next-steps"></a>Следующие шаги

Дополнительные сведения о кластерах больших данных SQL Server, см. следующие ресурсы:

- [Что такое кластеры SQL Server 2019 больших данных?](big-data-cluster-overview.md)
- [Семинар: Кластерами больших данных Microsoft SQL Server архитектуры](https://github.com/Microsoft/sqlworkshops/tree/master/sqlserver2019bigdataclusters)
