---
title: Расширение развертывания приложения
titleSuffix: SQL Server big data clusters
description: Разверните скрипт Python или R в качестве приложения в кластере SQL Server 2019 больших данных (Предварительная версия).
author: jeroenterheerdt
ms.author: jterh
ms.reviewer: mikeray
manager: jroth
ms.date: 02/28/2019
ms.topic: conceptual
ms.prod: sql
ms.technology: big-data-cluster
ms.openlocfilehash: ba56ebb90d09866b7860c5f29dd2a26cf525fd9b
ms.sourcegitcommit: e0c55d919ff9cec233a7a14e72ba16799f4505b2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/10/2019
ms.locfileid: "67729311"
---
# <a name="how-to-use-vs-code-to-deploy-applications-to-sql-server-big-data-clusters"></a>Как использовать VS Code для развертывания приложений к кластерам больших данных в SQL Server

[!INCLUDE[tsql-appliesto-ssver15-xxxx-xxxx-xxx](../includes/tsql-appliesto-ssver15-xxxx-xxxx-xxx.md)]

В этой статье описывается развертывание приложений в кластере SQL Server больших данных, с помощью Visual Studio Code с расширением развертывания приложения. Эта возможность появилась в CTP-версии 2.3. 

## <a name="prerequisites"></a>предварительные требования

- [Visual Studio Code](https://code.visualstudio.com/).
- [Кластер SQL Server больших данных](big-data-cluster-overview.md) CTP-версия 2.3 или более поздней версии.

## <a name="capabilities"></a>Возможности

Это расширение поддерживает следующие задачи в Visual Studio Code:

- Выполнить проверку подлинности кластера больших данных в SQL Server.
- Получить шаблон приложения из репозитория GitHub для развертывания, поддерживаемых сред выполнения.
- Управление шаблонами открытых приложений в рабочей области пользователя.
- Развертывание приложения с помощью спецификации в формате YAML.
- Управление развернутых приложений в кластере SQL Server больших данных.
- Просмотр всех приложений, развертываемых на боковой панели, с дополнительными сведениями.
- Создайте спецификацию выполнения, чтобы работать с приложением или удалить приложение из кластера.
- Использовать развернутые приложения через спецификацию выполнения YAML.

В следующих разделах подробно хотя процесс установки и предоставляет общие сведения о том, как работает модуль. 

### <a name="install"></a>Установка

Сначала установите модуль развертывания приложения в VS Code:

1. Скачайте [расширение развертывания приложения](https://aka.ms/app-deploy-vscode) для установки расширения как часть Visual STUDIO Code.

1. Запустите VS Code и перейдите к боковой панели расширений.

1. Нажмите кнопку `…` контекстное меню в верхней части боковой панели и выберите `Install from vsix`.

   ![Установить VSIX](media/vs-extension/install_vsix.png)

1. Найти `sqlservbdc-app-deploy.vsix` файл при загрузке и выберите для установки.

После развертывания приложения больших данных кластера SQL Server установить расширение, вам будет предложено перезагрузить VS Code. Теперь вы увидите обозреватель приложения каталога бизнес-данных SQL Server, на боковой панели VS Code.

### <a name="app-explorer"></a>Приложение обозревателя

Выберите расширение в боковой панели, чтобы загрузить боковая панель отображения обозревателя приложений. На следующем снимке экрана примера приложения обозревателя показывает не приложения или приложения спецификации доступны:

<img src="media/vs-extension/app_explorer.png" width=350px></img>
<!--![App Explorer](media/vs-extension/app_explorer.png)-->

#### <a name="new-connection"></a>Новое подключение

Чтобы подключиться к конечной точке кластера, используйте один из следующих методов:

- Щелкните в строке состояния внизу, — говорит `SQL Server BDC Disconnected`.
- Или щелкните `New Connection` кнопка со стрелкой, указывающей на лазейкой сверху.

   ![Новое подключение](media/vs-extension/connect_to_cluster.png)

VS Code предлагает ввести соответствующую конечную точку, имя пользователя и пароль. Если заданы правильные учетные данные и конечной точки приложения, VS Code уведомляет о том, что вы подключились к кластеру, и вы увидите все развернутые приложения, заполняется на боковой панели. Если подключение выполнено успешно, конечная точка и имя пользователя будет сохраняться в `./sqldbc` как часть вашего профиля пользователя. Нет пароля или маркеры никогда не сохраняется. При входе в систему еще раз, командной строке предварительно заполнить сохраненного узла и имя пользователя, но всегда требуется ввод пароля. Если вы хотите подключаться к конечной точке другой кластер, просто щелкните `New Connection` еще раз. Соединение закрывается автоматически, если закройте VS Code или открыть другой рабочей области, и вам необходимо будет повторно подключиться.

### <a name="app-template"></a>Шаблон приложения

Чтобы развернуть новое приложение из одного из наших шаблонов, щелкните `New App Template` кнопку `App Specifications` области, где вам будет предложено ввести имя, среда выполнения и что расположение, вы хотите разместить новое приложение в на локальном компьютере. Рекомендуется, поместите его в текущей рабочей области Visual STUDIO Code, чтобы можно было использовать все возможности расширения, но его можно поместить в любом месте в локальной файловой системе.

![Новый шаблон приложения](media/vs-extension/new_app_template.png)

После завершения нового шаблона приложения по шаблону для вас в указанном месте, а также развертывание `spec.yaml` откроется в рабочей области. Если вы выбрали каталог находится в рабочей области, вы также увидите она появляется в списке `App Specifications` области:

![Загрузить шаблон приложения](media/vs-extension/loading_app_template.png)

Шаблон — это простой `Hello World` приложение, которое располагается следующим образом:

- **Spec.yaml**
   - Сведения о кластере для развертывания приложения
- **spec.yaml выполнения**
   - Предписывает кластеру способ для вызова приложения
- **Handler.py**
   - Это файл исходного кода в соответствии с `src` в `spec.yaml`
   - Он имеет один функция, вызываемая `handler` , считается `entrypoint` приложения, как показано в `spec.yaml`. Он принимает входная строка называется `msg` и возвращает строковых выходных данных вызывается `out`. Эти параметры указываются в `inputs` и `outputs` из `spec.yaml`.

Если не требуется сформированный шаблон и просто хотите использовать `spec.yaml` для развертывания приложения, которые уже созданы, выберите `New Deploy Spec` рядом с пунктом `New App Template` кнопку и go через тот же процесс, но вы просто получите `spec.yaml`, который можно изменить выбор.

### <a name="deploy-app"></a>Развертывание приложения

Можно мгновенно развернуть это приложение через объектив кода `Deploy App` в `spec.yaml` , или нажмите кнопку папку высочайшую рядом с полем `spec.yaml` файл в меню приложения спецификации. Расширение будет заархивировать все файлы в каталоге, где ваш `spec.yaml` находится и развертывание приложения в кластере. 

>[!NOTE]
>Убедитесь, что все файлы приложения в том же каталоге, что ваш `spec.yaml`. `spec.yaml` Должен быть на уровне корневого каталога исходного кода приложения. 

![Кнопка приложения "Развертывание"](media/vs-extension/deploy_app_lightning.png)

![Развертывание приложения CodeLens](media/vs-extension/deploy_app_codelens.png)

Вы получите уведомление, когда приложение будет готово к использованию, исходя из состояния приложения в боковой панели:

![Приложение, развернутое](media/vs-extension/app_deploy.png)

![Приложение готово боковой панели](media/vs-extension/app_ready_side_bar.png)

![Уведомление о готовности приложения](media/vs-extension/app_ready_notification.png)

На боковой панели можно будет увидеть следующее, вам:

Можно просмотреть все приложения, которые были развернуты на боковой панели, указав следующую информацию:

- state
- version
- Входные параметры
- Выходные параметры
- ссылки
  - swagger
  - details

Если щелкнуть `Links`, вы увидите, что доступ к `swagger.json` развернутого приложения таким образом, можно написать собственные клиенты, которые вызывают приложения:

![swagger](media/vs-extension/swagger.png)

См. в разделе [использовать приложения, в кластерах больших данных](big-data-cluster-consume-apps.md) Дополнительные сведения.

### <a name="app-run"></a>Запуск приложения

Когда приложение будет готово, вызвать с помощью `run-spec.yaml` , было задано как часть шаблона приложения:

![Запустите спецификации](media/vs-extension/run_spec.png)

Укажите любую строку, вы хотите вместо `hello` и затем снова запустите его через связи группы связанных элементов кода или изображением кнопки на боковой панели рядом с полем `run-spec.yaml`. Если у вас нет спецификацию выполнения для какой-либо причине, создание из развернутого приложения в кластере:

![Получить сведения о выполнении спецификации](media/vs-extension/get_run_spec.png)

После того как есть и его изменения надлежащим образом, запустите его. VS Code возвращает соответствующую реакцию, когда приложение закончит работу:

![Выходные данные приложения](media/vs-extension/app_output.png)

Как показано выше, результат выдается во временном `.json` файл в рабочей области. Если вы хотите сохранить эти выходные данные, вы можете сохранить его, в противном случае оно удаляется при закрытии. Если приложение не имеет вывода на печать в файл, вы получите только `Successful App Run` уведомления в нижней. Если не было успешное выполнение, вы получите соответствующее сообщение об ошибке, которые помогут определить причину ошибки.

При запуске приложения, существует ряд способов для передачи параметров:

Можно указать все входные данные, запрашиваемые через `.json`, то есть:

- `inputs: ./example.json`

При вызове развернутого приложения, если все входные параметры являются характерной для приложения или пользователя, указанного и, входной параметр является отличным от-примитивным, как массив, вектор, кадр данных, сложную JSON, т. д. Укажите тип параметра непосредственно в строку при вызов приложения, то есть:

- вектор
    - `inputs:`
        - `x: [1, 2, 3]`
- Матрица
    - `inputs:`
        - `x: [[A,B,C],[1,2,3]]`
- Object
    - `inputs:`
        - `x: {A: 1, B: 2, C: 3}`

Или предоставьте строку как относительный или абсолютный путь к `.txt`, `.json`, или `.csv` , предоставляет необходимые входные данные в формате, с учетом особенностей вашего приложения. Анализ файлов зависит от `Node.js Path library`, где путь к файлу определен как `string that contains a / or \ character`.

Если входной параметр не задан, как требуется, соответствующее сообщение об ошибке будет отображаться с неправильного пути, если предоставлен строкового пути файла, или этот параметр был недопустимым. Ответственность за предоставляется разработчику приложения, убедитесь, что они понимают параметры, которые они определяются.

Чтобы удалить приложение, просто нажав кнопку корзину можно кнопку рядом с приложением в `Deployed Apps` части области.

## <a name="next-steps"></a>Следующие шаги

Узнайте, как интегрировать приложения, развернутые на сервере SQL Server, больших данных кластеров под управлением Windows в собственных приложениях в [использовать приложения, в кластерах больших данных](big-data-cluster-consume-apps.md) Дополнительные сведения. Можно также ссылаться на дополнительные примеры по [примеры развертывания приложений](https://aka.ms/sql-app-deploy) попробовать с расширением.

Дополнительные сведения о больших данных кластеров SQL Server, см. в разделе [Каковы кластеров SQL Server 2019 больших данных?](big-data-cluster-overview.md).


Наша цель — сделать это расширение полезным для вас, и Мы ценим отзывы. Направляйте их по [ [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] team](https://aka.ms/sqlfeedback).
