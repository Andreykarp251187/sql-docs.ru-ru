---
title: Масштаб параллельного выполнения внешних скриптов - службы машинного обучения SQL Server
description: Настройка параллельных или параллельные R и Python выполнение скрипта в пуле учетной записи пользователя, чтобы масштабировать службы машинного обучения SQL Server.
ms.prod: sql
ms.technology: machine-learning
ms.date: 10/17/2018
ms.topic: conceptual
author: dphansen
ms.author: davidph
manager: cgronlun
ms.openlocfilehash: 9f32e51122df8d2d13d6eada726a1a5e9bea82f0
ms.sourcegitcommit: f7fced330b64d6616aeb8766747295807c92dd41
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "62659515"
---
# <a name="scale-concurrent-execution-of-external-scripts-in-sql-server-machine-learning-services"></a>Масштаб параллельного выполнения внешних скриптов в службах машинного обучения SQL Server
[!INCLUDE[appliesto-ss-xxxx-xxxx-xxx-md-winonly](../../includes/appliesto-ss-xxxx-xxxx-xxx-md-winonly.md)]

Чтобы [!INCLUDE[rsql_launchpad](../../includes/rsql-launchpad-md.md)] могла выполнять задачи, в процессе установки [!INCLUDE[rsql-productnamenew-md](../../includes/rsql-productnamenew-md.md)] создается новый *пул учетных записей пользователей* Windows. Этим рабочим учетным записям предназначена для изолирования параллельных выполнение внешних скриптов пользователей SQL.

В этой статье описывается конфигурация по умолчанию и ресурсов для рабочих учетных записей и как изменить конфигурацию по умолчанию для масштабирования количество одновременных выполнение внешних скриптов в службах машинного обучения SQL Server.

## <a name="worker-account-group"></a>Группе рабочих учетных записей

Группа учетных записей Windows создается путем [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] установки для каждого экземпляра, на компьютер, на котором установлен и включен обучения.

- В экземпляре по умолчанию именем группы будет **SQLRUserGroup**. Имя такое же, как при использовании R или Python или оба.
- В именованном экземпляре имя группы по умолчанию имеет в качестве суффикса имя экземпляра, например **SQLRUserGroupИмя_экземпляра**.

По умолчанию пул учетных записей пользователей содержит 20 учетных записей. В большинстве случаев 20 более чем достаточно для поддержки задач машинного обучения, но можно изменить количество учетных записей. Максимальное число учетных записей равно 100.

- В экземпляре по умолчанию отдельным учетным записям присваиваются имена от **MSSQLSERVER01** и до **MSSQLSERVER20**.
- Для именованного экземпляра отдельным учетным записям присваиваются имена на основе экземпляра: например, **Имя_экземпляра01** и до **Имя_экземпляра20**.

Если более одного экземпляра использует машинное обучение, компьютер будет иметь несколько групп пользователей. Группу нельзя будет совместно использоваться экземплярами.

> [!Note]
> В SQL Server 2019 **SQLRUserGroup** имеет только один член, который теперь является одной учетной записи службы панели запуска SQL Server вместо нескольких рабочих учетных записей.

<a name = "HowToChangeGroup"> </a>

## <a name="number-of-worker-accounts"></a>Количество рабочих учетных записей

Чтобы изменить число пользователей в пуле учетных записей, необходимо изменить свойства службы [!INCLUDE[rsql_launchpad](../../includes/rsql-launchpad-md.md)], как описано ниже.

Пароли, связанные с каждой учетной записью пользователя, генерируются случайным образом, но при необходимости после создания учетных записей их можно изменить.

1. Откройте диспетчер конфигурации SQL Server и выберите **Службы SQL Server**.
2. Дважды щелкните службу панели запуска SQL Server и остановите службу, если она запущена.
3.  Убедитесь, что на вкладке **Служба** установлен автоматический режим запуска. Невозможно запустить внешних скриптов, если панель запуска не запущена.
4.  Щелкните вкладку **Дополнительно** и при необходимости измените значение параметра **Число внешних пользователей**. Этот параметр определяет количество различных пользователей SQL можно запускать внешнего скрипта сеансы одновременно. Значение по умолчанию — 20 учетных записей. Максимальное число пользователей равно 100.
5. При необходимости можно задать для параметра **Сбросить пароль внешних пользователей** значение _Да_, если политика вашей организации требует регулярной смены паролей. Это приведет к повторному созданию зашифрованных паролей, которые хранит панель запуска для учетных записей пользователей. Дополнительные сведения см. в разделе [Применение политики паролей](../security/sql-server-launchpad-service-account.md#bkmk_EnforcePolicy).
6.  Перезапустите службу панели запуска.

## <a name="managing-workloads"></a>Управление рабочими нагрузками

Количество учетных записей в этом пуле определяет, сколько внешнего скрипта может быть одновременно активных сеансов.  По умолчанию создаются 20 учетных записей, это означает, что 20 разных пользователей может иметь R или Python сеансов за один раз. Можно увеличить количество рабочих учетных записей, если ожидается, что для выполнения более 20 одновременных скриптов.

При тот же пользователь одновременно выполняет несколько внешних скриптов, все, что сеансы получают права использовать одну и ту же учетную запись рабочей роли. Например один пользователь может выполнять 100 различных скриптов R одновременно, до тех пор, пока позволяют ресурсы, но все скрипты будет выполняться с помощью одной рабочей учетной записи.

Количество рабочих учетных записей, которые может поддерживать и количество одновременных сеансов, которые могут выполнять любые пользователи, ограничивается только ресурсами сервера. Как правило, память является первым узким местом при использовании среды выполнения R.

Ресурсы, которые могут использоваться скриптами R или Python, регулируются SQL Server. Мы советуем отслеживать использование ресурсов с помощью динамических административных представлений SQL Server или следить за счетчиками производительности для связанного объекта задания Windows и соответствующим образом настраивать использование памяти сервера. Если SQL Server Enterprise Edition, можно выделить ресурсы, используемые для выполнения внешних скриптов, настроив [внешний пул ресурсов](how-to-create-a-resource-pool.md).

## <a name="see-also"></a>См. также

Дополнительные сведения о настройке емкости см. в статьях:

- [Конфигурация SQL Server для служб R](../../advanced-analytics/r/sql-server-configuration-r-services.md)
- [Пример производительности для служб R](../../advanced-analytics/r/performance-case-study-r-services.md)