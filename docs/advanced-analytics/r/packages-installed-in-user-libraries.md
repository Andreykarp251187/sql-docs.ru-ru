---
title: Советы по использованию пакетов R, установленные в библиотеках пользователей - службы машинного обучения SQL Server
ms.prod: sql
ms.technology: machine-learning
ms.date: 06/13/2019
ms.topic: conceptual
author: dphansen
ms.author: davidph
ms.openlocfilehash: e1aea5bd9166386662fc090a7a6d41737a9eecb9
ms.sourcegitcommit: b2464064c0566590e486a3aafae6d67ce2645cef
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/15/2019
ms.locfileid: "67962567"
---
# <a name="tips-for-using-r-packages-in-sql-server"></a>Советы по использованию пакетов R в SQL Server
[!INCLUDE[appliesto-ss-xxxx-xxxx-xxx-md-winonly](../../includes/appliesto-ss-xxxx-xxxx-xxx-md-winonly.md)]

Данная статья содержит отдельные разделы для администраторов баз данных, кто не знаком с R и опытным разработчикам R, которые являются доступа с незнакомого пакетов в экземпляре SQL Server.

## <a name="new-to-r"></a>Не знакомы с R

Как администратор, установка R пакеты в первый раз, зная, что основные сведения об управлении пакетами R поможет вам приступить к работе.

### <a name="package-dependencies"></a>Зависимости пакета

Пакеты R часто зависят от нескольких других пакетах, некоторые из которых могут оказаться недоступными в библиотеке R по умолчанию, используемые экземпляром. Иногда пакета требуется другая версия зависимый пакет, который уже установлен. Зависимости пакетов, указаны в файле ОПИСАНИЯ, внедренный в пакет, но иногда являются неполными. Можно использовать пакет [iGraph](https://igraph.org/r/) полностью выразить граф зависимостей.

Если вам нужно установить несколько пакетов или хотите убедиться, что все пользователи в организации возвращает правильный пакет типа и версии, мы рекомендуем использовать [miniCRAN](https://mran.microsoft.com/package/miniCRAN) пакета для анализа цепочку зависимости. minicRAN создает локальный репозиторий, будут совместно использовать несколько пользователей или компьютеров. Дополнительные сведения см. в разделе [Создание локального репозитория пакетов с помощью miniCRAN](create-a-local-package-repository-using-minicran.md).

### <a name="package-sources-versions-and-formats"></a>Источники пакетов, версии и форматы

Существует несколько источников для пакетов R, например [CRAN](https://cran.r-project.org/) и [Bioconductor](https://www.bioconductor.org/). Официальный сайт языка R (<https://www.r-project.org/>) перечислены многие такие ресурсы. Корпорация Майкрософт предлагает [MRAN](https://mran.microsoft.com/) для его распространения R с открытым кодом ([MRO](https://mran.microsoft.com/open)) и других пакетов. Многие пакеты публикуются на GitHub, где разработчики могут получить исходный код.

Выполнение пакетов R на нескольких вычислительных платформ. Убедитесь, что версий, которые можно установить двоичные файлы Windows.

### <a name="know-which-library-you-are-installing-to-and-which-packages-are-already-installed"></a>Знать, какую библиотеку, установке и какие пакеты уже установлены.

Если вы ранее изменяли среду R на компьютере, прежде чем устанавливать ничего, убедитесь, что переменная среды R `.libPath` использует только один путь.

Этот путь должен указывать на папку R_SERVICES экземпляра. Дополнительные сведения, включая как определить, какие пакеты уже установлены, см. в разделе [пакетов по умолчанию R и Python в SQL Server](../package-management/default-packages.md).

## <a name="new-to-sql-server"></a>В SQL Server

Как разработчик R, работе над кодом, выполняемым на сервере SQL Server политики безопасности, сервер защищен ограничить возможность управления средой R.

### <a name="r-user-libraries-not-supported-on-sql-server"></a>Библиотеки R пользователей: не поддерживается в SQL Server

Разработчики R, которым необходимо установить новые пакеты R привыкли к установке пакетов по желанию, с помощью частного, библиотеку пользователя каждый раз, когда библиотека по умолчанию недоступна, или когда разработчик не является администратором на компьютере. Например, в типичной среде разработки R, пользователю добавить расположение пакета в переменную среды R `libPath`, или ссылаться на полный путь к пакету, следующим образом:

```R
library("c:/Users/<username>/R/win-library/packagename")
```

Это не работает при запуске решения R в SQL Server, так как необходимо установить пакеты R в библиотеку определенного по умолчанию, который связан с экземпляром. Если пакет не доступен в библиотеке по умолчанию, вы получаете эту ошибку при попытке вызова пакета:

*Ошибка в библиотеке (xxx): отсутствует пакет с именем «имя пакета»*

### <a name="avoid-package-not-found-errors"></a>Избежать ошибок «пакет не найден»

+ Устраните зависимости от библиотек пользователей. 

    Это методику неправильный разработки, чтобы установить необходимые пакеты R в библиотеку пользовательского также может привести к ошибкам при запуске решения другим пользователем, у которого нет доступа к папке библиотеки.

    Кроме того Если пакет устанавливается в библиотеке по умолчанию, среды выполнения R загружает пакет из библиотеки по умолчанию, даже если в коде R указать другой версии.

+ Измените код для запуска в общей среде.

+ Не устанавливать пакеты как часть решения. Если у вас нет разрешения на установку пакетов, произойдет сбой кода. Даже если у вас разрешения на установку пакетов, следует делать таким образом отдельно от другого кода, которую требуется выполнить.

+ проверьте код, чтобы убедиться в отсутствии вызовов к удаленным пакетам;

+ Обновите код, чтобы удалить прямые ссылки на пути к пакетов R или R библиотек. 

+ Знаете, какую библиотеку пакет связан с экземпляром. Дополнительные сведения см. в разделе [пакетов по умолчанию R и Python в SQL Server](../package-management/default-packages.md).

## <a name="see-also"></a>См. также

+ [Установка новых пакетов R](install-additional-r-packages-on-sql-server.md)
+ [Установка новых пакетов Python](../python/install-additional-python-packages-on-sql-server.md)
+ [Руководства, примеры, решения](../tutorials/machine-learning-services-tutorials.md)