---
title: Службы R в SQL Server 2016
description: R в SQL Server для интегрированных задач R с реляционными данными, включая обработку и анализ данных и статистическое моделирование, прогнозную аналитику, визуализацию данных и многое другое.
ms.prod: sql
ms.technology: machine-learning
ms.date: 09/10/2018
ms.topic: overview
author: dphansen
ms.author: davidph
monikerRange: =sql-server-2016||=sqlallproducts-allversions
ms.openlocfilehash: e849140125ba39c7c1d8601c5ef32880a9d633ac
ms.sourcegitcommit: c1382268152585aa77688162d2286798fd8a06bb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/19/2019
ms.locfileid: "68344844"
---
# <a name="r-services-in-sql-server-2016"></a>Службы R в SQL Server 2016
[!INCLUDE[appliesto-ss-xxxx-xxxx-xxx-md-winonly](../../includes/appliesto-ss-xxxx-xxxx-xxx-md-winonly.md)]

Службы R — это надстройка для экземпляра ядра СУБД SQL Server 2016, используемая для исполнения кода R и функций в SQL Server. Код выполняется в инфраструктуре расширяемости, изолированной от процессов ядра, но полностью доступной для реляционных данных в виде хранимых процедур, как скрипт T-SQL, содержащий инструкции R, или как код R, содержащий T-SQL. 

Службы r включают в себя базовое распределение R, которое было переработано с помощью корпоративных пакетов R от корпорации Майкрософт, что позволяет загружать и обрабатывать большие объемы данных на нескольких ядрах и объединять результаты в единый объединенный выход. Функции и алгоритмы Microsoft R разработаны как для масштабирования, так и для служебной программы: предоставление прогнозной аналитики, статистического моделирования, визуализаций данных и алгоритмов машинного обучения начального уровня в коммерческом серверном продукте и поддерживается корпорацией Майкрософт. 

К библиотекам R относятся [**RevoScaleR**](ref-r-revoscaler.md), [**MicrosoftML (R)** ](ref-r-microsoftml.md)и др. Поскольку службы R интегрированы с ядром СУБД, аналитика может закрывать данные и устранять расходы и риски безопасности, связанные с перемещением данных.

> [!Note]
> Службы R были переименованы в SQL Server 2017 и более поздних версий для [SQL Server службы машинного обучения](../what-is-sql-server-machine-learning.md), что отражает добавление Python.

## <a name="components"></a>Компоненты

SQL Server 2016 — только R. В следующей таблице описаны функции в SQL Server 2016.

| Компонент | Описание |
|-----------|-------------|
| Служба панель запуска SQL Server | Служба, которая управляет взаимодействием между внешними средами выполнения R и экземпляром SQL Server. |
| Пакеты R | [**RevoScaleR**](ref-r-revoscaler.md) — это основная библиотека масштабируемых R. функций в этой библиотеке, которые являются наиболее широко используемыми. В этих библиотеках доступны преобразования и манипуляции, Статистическая сводка, Визуализация и многие формы моделирования и анализа. Кроме того, функции в этих библиотеках автоматически распределяют рабочие нагрузки между доступными ядрами для параллельной обработки, с возможностью работать с блоками данных, которые согласовываются и управляются ядром вычислений.  <br/>[**MicrosoftML (R)** ](ref-r-microsoftml.md) добавляет алгоритмы машинного обучения для создания пользовательских моделей для анализа текста, анализа изображений и анализа тональности. <br/>[**sqlRUtils**](ref-r-sqlrutils.md) предоставляет вспомогательные функции для размещения скриптов R в хранимой процедуре T-SQL, регистрации хранимой процедуры с базой данных и выполнения хранимой процедуры из среды разработки R.<br/>для указания запросов многомерных выражений в R используется [**OLAP**](ref-r-olapr.md) .|
| Microsoft R Open (MRO) | [**MRO**](https://mran.microsoft.com/open) — это дистрибутив R с открытым кодом Майкрософт. Пакет и интерпретатор включены. Всегда используйте версию MRO, установленную программой установки. |
| Инструменты R | Окна консоли r и командные запросы являются стандартными инструментами в распределении R.  |
| Примеры и сценарии R |  Пакеты R и RevoScaleR с открытым исходным кодом включают встроенные наборы данных, позволяющие создавать и запускать скрипты с использованием предварительно установленных данных. |
| Предварительно обученные модели в R | Предварительно обученные модели создаются для конкретных вариантов использования и обслуживаются командой инженеров по обработке и анализу данных в корпорации Майкрософт. Вы можете использовать предварительно обученные модели "как есть" для оценки положительных отрицательных тональности в тексте или для обнаружения функций в изображениях с помощью предоставленных новых входных данных. Модели выполняются в службах R, но не могут быть установлены с помощью SQL Server установки. Дополнительные сведения см. [в разделе Установка предварительно обученных моделей машинного обучения на SQL Server](../install/sql-pretrained-models-install.md). |

## <a name="using-r-services"></a>Использование служб R

Разработчики и аналитики часто имеют код, выполняющийся на локальном экземпляре SQL Server. Добавляя Службы машинного обучения и включая выполнение внешних скриптов, вы получаете возможность выполнять код R в SQL Server модальностей: заключение скрипта в хранимые процедуры, хранение моделей в SQL Server таблице или объединение функций T-SQL и R в запросах.

Наиболее распространенным подходом для аналитики в базе данных является использование [sp_execute_external_script](../../relational-databases/system-stored-procedures/sp-execute-external-script-transact-sql.md), передача R-скрипта в качестве входного параметра.

Классическое взаимодействие между клиентом и сервером — еще один подход. На любой клиентской рабочей станции с интегрированной средой разработки можно установить [Microsoft R Client](https://docs.microsoft.com/machine-learning-server/r-client/what-is-microsoft-r-client), а затем написать код, который отправляет выполнение (называемое *удаленным контекстом вычислений*) к данным и операциям для удаленного SQL Server. 

Наконец, если вы используете автономный [сервер](r-server-standalone.md) и выпуск Developer, вы можете создавать решения на клиентской рабочей станции с помощью одних и тех же библиотек и интерпретаторов, а затем развертывать рабочий код на SQL Server службы машинного обучения (в базе данных). 

## <a name="how-to-get-started"></a>Как приступить к работе

Начните с установки, вложите двоичные файлы в избранное средство разработки и напишите свой первый скрипт.

**Шаг 1**. Установите и настройте программное обеспечение. 

+ [Установка служб R SQL Server 2016 (в базе данных)](../install/sql-r-services-windows-install.md)

**Шаг 2**. Получите практический опыт использования одного из следующих учебников:

+ [Учебник. Изучение аналитики базы данных с помощью языка R](../tutorials/sqldev-in-database-r-for-sql-developers.md)
+ [Учебник. Сквозное пошаговое руководство с R](../tutorials/walkthrough-data-science-end-to-end-walkthrough.md)

**Шаг 3**. Добавление избранных пакетов R и их использование вместе с пакетами, предоставляемыми корпорацией Майкрософт

+ [Управление пакетами R для SQL Server](install-additional-r-packages-on-sql-server.md)


## <a name="see-also"></a>См. также

 [Установка служб R SQL Server 2016](../install/sql-r-services-windows-install.md)
