---
title: Различия в SQL Server 2019
description: Узнайте о новых возможностях модулей машинного обучения R и Python SQL Server в предварительной версии SQL Server 2019.
ms.prod: sql
ms.technology: machine-learning
ms.date: 05/22/2019
ms.topic: conceptual
author: dphansen
ms.author: davidph
monikerRange: '>=sql-server-ver15||=sqlallproducts-allversions'
ms.openlocfilehash: 8996d47c58841f668813c8ff344683150e456fb3
ms.sourcegitcommit: c1382268152585aa77688162d2286798fd8a06bb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/19/2019
ms.locfileid: "68345004"
---
# <a name="differences-in-sql-server-machine-learning-services-installation-in-sql-server-2019"></a>Различия в установке SQL Server Службы машинного обучения в SQL Server 2019  
[!INCLUDE[appliesto-ss-xxxx-xxxx-xxx-md-winonly](../../includes/appliesto-ss-xxxx-xxxx-xxx-md-winonly.md)]

В Windows программа установки SQL Server 2019 изменяет механизм изоляции для внешних процессов. Это изменение заменяет учетные записи локальных рабочих ролей на [аппконтаинерс](https://docs.microsoft.com/windows/desktop/secauthz/appcontainer-isolation), технологию изоляции для клиентских приложений, работающих в Windows. 

В результате этого изменения для администратора не будет определенного элемента действий. На новом или обновленном сервере все внешние скрипты и код, выполняемые из [sp_execute_external_script](../../relational-databases/system-stored-procedures/sp-execute-external-script-transact-sql.md) , автоматически подчиняются новой модели изоляции. 

Обобщены основные отличия в этом выпуске:

+ Учетные записи локальных пользователей в **группе ограниченных пользователей SQL (SQLRUserGroup)** больше не создаются и не используются для запуска внешних процессов. Аппконтаинерс заменить их.
+ Членство в **SQLRUserGroup** изменилось. Вместо нескольких локальных учетных записей пользователей членство состоит только из учетной записи службы панель запуска SQL Server. Процессы R и Python теперь выполняются под удостоверением службы панели запуска, изолированной по Аппконтаинерс.

Хотя модель изоляции изменилась, мастер установки и параметры командной строки остаются прежними в SQL Server 2019. Дополнительные сведения об установке см. в разделе [Install SQL Server службы машинного обучения](sql-machine-learning-services-windows-install.md).

## <a name="about-appcontainer-isolation"></a>О изоляции AppContainer

В предыдущих выпусках **SQLRUserGroup** содержал пул локальных учетных записей пользователей Windows (MSSQLSERVER00-MSSQLSERVER20), используемый для изоляции и выполнения внешних процессов. Когда требуется внешний процесс, панель запуска SQL Server служба принимает доступную учетную запись и использует ее для выполнения процесса. 

В SQL Server 2019 программа установки больше не создает учетные записи локальных рабочих ролей. Вместо этого изоляция достигается через [аппконтаинерс](https://docs.microsoft.com/windows/desktop/secauthz/appcontainer-isolation). Во время выполнения при обнаружении внедренного скрипта или кода в хранимой процедуре или запросе SQL Server вызывает панель запуска с запросом на выполнение модуля, зависящего от расширения. Панель запуска вызывает соответствующую среду выполнения в процессе с удостоверением и создает для него контейнер AppContainer. Это изменение выгодно, поскольку локальная учетная запись и управление паролями больше не требуются. Кроме того, при установке, в которой запрещены локальные учетные записи пользователей, при закрытии зависимости локальной учетной записи пользователя теперь можно использовать эту функцию.

Как реализовано SQL Server, Аппконтаинерс являются внутренним механизмом. Несмотря на то, что физическое свидетельство Аппконтаинерс в мониторе процессов не отображается, их можно найти в правилах брандмауэра для исходящих подключений, созданных программой установки, чтобы предотвратить выполнение процессов через сетевые вызовы.

## <a name="firewall-rules-created-by-setup"></a>Правила брандмауэра, созданные программой установки

По умолчанию SQL Server отключает исходящие подключения, создавая правила брандмауэра. В прошлом эти правила были основаны на локальных учетных записях пользователей, где программа установки создала одно правило для исходящего трафика для **SQLRUserGroup** , которое отклонило доступ к сети для своих членов (Каждая Рабочая учетная запись была указана в качестве местного принципа для rule_. 

В рамках перехода на Аппконтаинерс существуют новые правила брандмауэра, основанные на идентификаторах безопасности AppContainer: по одному для каждого из 20 Аппконтаинерс, созданных SQL Server установки. Соглашения об именовании для имени правила брандмауэра — **блокирующий доступ к сети для AppContainer-00 в SQL Server экземпляре MSSQLSERVER**, где 00 — это номер appcontainer (00-20 по умолчанию), а MSSQLSERVER — имя экземпляра SQL Server. 

> [!Note]
> Если требуются сетевые вызовы, можно отключить правила исходящего трафика в брандмауэре Windows.

## <a name="program-file-permissions"></a>Разрешения для файлов программы

Как и в предыдущих выпусках, **SQLRUserGroup** по прежнему предоставляет разрешения на чтение и выполнение исполняемых файлов в каталогах SQL Server **Binn**, **R_SERVICES**и **PYTHON_SERVICES** . В этом выпуске единственным членом **SQLRUserGroup** является учетная запись службы панель запуска SQL Server.  Когда служба панели запуска запускает среду выполнения R или Python, процесс выполняется как служба панели запуска.

## <a name="implied-authentication"></a>Неявная проверка подлинности

Как и ранее, дополнительная настройка по-прежнему необходима для *подразумеваемой проверки* подлинности в случаях, когда скрипт или код должен подключаться к SQL Server с помощью доверенной проверки подлинности для получения данных или ресурсов. Дополнительная конфигурация включает в себя создание имени входа базы данных для **SQLRUserGroup**, единственный член которого теперь является единственной панель запуска SQL Server учетной записью службы, а не несколькими рабочими учетными записями. Дополнительные сведения об этой задаче см. [в разделе Добавление SQLRUserGroup в качестве пользователя базы данных](../security/create-a-login-for-sqlrusergroup.md).


## <a name="symbolic-link-created-by-setup"></a>Символьная ссылка создана программой установки

Символьная ссылка создается для текущих **R_SERVICES** и **PYTHON_SERVICES** по умолчанию в процессе установки SQL Server. Если вы не хотите создавать эту ссылку, альтернативой является предоставление разрешения на чтение всех пакетов приложений для иерархии, ведущей к папке.


## <a name="see-also"></a>См. также

+ [Установка Службы машинного обучения SQL Server в Windows](sql-machine-learning-services-windows-install.md)

+ [Установка SQL Server 2019 Службы машинного обучения в Linux](../../linux/sql-server-linux-setup-machine-learning.md)
