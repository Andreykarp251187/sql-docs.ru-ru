---
title: Различия в SQL Server 2019 — SQL Server службы машинного обучения
description: Узнайте о новых возможностях для R и Python SQL Server расширений машинного обучения в режиме предварительной версии SQL Server 2019.
ms.prod: sql
ms.technology: machine-learning
ms.date: 05/22/2019
ms.topic: conceptual
author: dphansen
ms.author: davidph
monikerRange: '>=sql-server-ver15||=sqlallproducts-allversions'
ms.openlocfilehash: 017dd29a8dc3077ea7c91b6cd3e49699855f987e
ms.sourcegitcommit: b2464064c0566590e486a3aafae6d67ce2645cef
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/15/2019
ms.locfileid: "67962838"
---
# <a name="differences-in-sql-server-machine-learning-services-installation-in-sql-server-2019"></a>Различия в установке служб машинного обучения SQL Server в SQL Server 2019  
[!INCLUDE[appliesto-ss-xxxx-xxxx-xxx-md-winonly](../../includes/appliesto-ss-xxxx-xxxx-xxx-md-winonly.md)]

В Windows программа установки SQL Server 2019 изменяет механизм изоляции для внешних процессов. Это изменение заменяет локальных рабочих учетных записей с [AppContainers](https://docs.microsoft.com/windows/desktop/secauthz/appcontainer-isolation), это технология изоляции для клиентских приложений в Windows. 

Нет элементов, определенных действий для администратора, в результате изменения. На сервер новые или обновленные, все внешние скрипты и код, выполняемый из [sp_execute_external_script](../../relational-databases/system-stored-procedures/sp-execute-external-script-transact-sql.md) автоматически следовать новая модель изоляции. 

Подвести итог, перечислены основные различия в этом выпуске:

+ Учетные записи локального пользователя, под **ограниченные группы пользователей SQL (SQLRUserGroup)** больше не создаются или использовать для запуска внешних процессов. AppContainers заменить их.
+ **SQLRUserGroup** изменяется членство. Вместо нескольких учетных записей локальных пользователей членство состоит просто учетной записи службы панели запуска SQL Server. Удостоверение службы панели запуска, изолируется с помощью AppContainers теперь выполняются процессы R и Python.

Несмотря на то, что модель изоляции данных была изменена, параметры установки мастера и командной строки не изменяются в SQL Server 2019. Для получения справки по установке см. в разделе [установить SQL Server служб машинного обучения](sql-machine-learning-services-windows-install.md).

## <a name="about-appcontainer-isolation"></a>Об изоляции AppContainer

В предыдущих выпусках **SQLRUserGroup** содержится пул локальных Windows учетных записей пользователя (MSSQLSERVER00 MSSQLSERVER20) используется для изоляции и выполнения внешних процессов. Если внешний процесс был нужен, служба панели запуска SQL Server будет учитывать доступные и использовать его для запуска процесса. 

В SQL Server 2019 программа установки больше не создает локальных рабочих учетных записей. Вместо этого, изоляция достигается за счет [AppContainers](https://docs.microsoft.com/windows/desktop/secauthz/appcontainer-isolation). Во время выполнения, при обнаружении внедренного скрипта или кода в хранимой процедуры или запроса, SQL Server вызывает панель запуска с запросом, относящихся к модулю средства запуска. Панель запуска вызывает необходимой среды выполнения в процессе его удостоверением, а также создает экземпляр AppContainer для его размещения. Это изменение является полезным, поскольку локальную учетную запись и пароль больше не требуется. Кроме того в установках, где запрещены локальные учетные записи пользователей, устраняя зависимость учетной записи локального пользователя означает, что теперь вы можете использовать эту функцию.

Реализованное в SQL Server, AppContainers представляют собой внутренний механизм. Пока вы не увидите вещественных доказательств из AppContainers в Process Monitor, их можно найти в правилах брандмауэра для исходящего трафика, созданный программой установки, чтобы предотвратить внесение сетевых вызовов процессов.

## <a name="firewall-rules-created-by-setup"></a>Правила брандмауэра, созданные программой установки

По умолчанию SQL Server запрещает исходящих подключений путем создания правила брандмауэра. В прошлом эти правила были основаны на локальные учетные записи пользователей, где создано одним правилом исходящего трафика для **SQLRUserGroup** , у которых нет доступа к сети к его члены (каждой рабочей учетной записи было указано как локальный принцип распространяются rule_. 

В рамках перемещения AppContainers существуют новые правила брандмауэра, исходя из AppContainer идентификаторы безопасности: один для каждого из 20 AppContainers создана программой установки SQL Server. Соглашения об именовании для имя правила брандмауэра, **блокировать сетевой доступ для AppContainer 00 в экземпляре SQL Server MSSQLSERVER**, где 00 — количество AppContainer (00-20 по умолчанию), а MSSQLSERVER — имя SQL Экземпляр сервера. 

> [!Note]
> Если требуются сетевые вызовы, можно отключить правила для исходящего трафика в брандмауэре Windows.

## <a name="program-file-permissions"></a>Разрешения для файлов программы

Как и в предыдущих выпусках **SQLRUserGroup** продолжает предоставляет разрешение на чтение и выполнение для исполняемых файлов в SQL Server **Binn**, **R_SERVICES**и  **PYTHON_SERVICES** каталоги. В этом выпуске единственным членом **SQLRUserGroup** учетная запись службы панели запуска SQL Server.  При запуске службы панели запуска среды выполнения R или Python, процесс выполняется как служба панели запуска.

## <a name="implied-authentication"></a>Неявная проверка подлинности

Как и раньше, необходима дополнительная настройка по-прежнему для *неявной проверки подлинности* в случаях, когда скрипт или код для подключения к SQL Server с помощью доверенная проверка подлинности для получения данных или ресурсов. Дополнительная настройка включает в себя создание входа в базу данных для **SQLRUserGroup**, единственный элемент которых теперь является одной учетной записи службы панели запуска SQL Server вместо нескольких рабочих учетных записей. Дополнительные сведения об этой задаче см. в разделе [Добавление SQLRUserGroup в качестве пользователя базы данных](../security/create-a-login-for-sqlrusergroup.md).


## <a name="symbolic-link-created-by-setup"></a>Символьную ссылку, созданный программой установки

Для текущего значения по умолчанию создается символьную ссылку **R_SERVICES** и **PYTHON_SERVICES** как часть установки SQL Server. Если вы не хотите создать эту ссылку, альтернативой является предоставить разрешение на чтение «все пакеты приложений» в иерархию, что приводит к папке.


## <a name="see-also"></a>См. также

+ [Установка SQL Server службы машинного обучения на Windows](sql-machine-learning-services-windows-install.md)

+ [Установка службы 2019 машинного обучения для SQL Server в Linux](../../linux/sql-server-linux-setup-machine-learning.md)
