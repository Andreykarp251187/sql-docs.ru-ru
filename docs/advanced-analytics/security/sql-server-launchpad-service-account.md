---
title: Настройка учетной записи службы панель запуска SQL Server
description: Изменение учетной записи панель запуска SQL Server службы, используемой для выполнения внешних скриптов на SQL Server.
ms.prod: sql
ms.technology: machine-learning
ms.date: 10/17/2018
ms.topic: conceptual
author: dphansen
ms.author: davidph
ms.openlocfilehash: 9146020fb35d729575c8441e71b711e287399a75
ms.sourcegitcommit: c1382268152585aa77688162d2286798fd8a06bb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/19/2019
ms.locfileid: "68345527"
---
# <a name="sql-server-launchpad-service-configuration"></a>Конфигурация службы панель запуска SQL Server
[!INCLUDE[appliesto-ss-xxxx-xxxx-xxx-md-winonly](../../includes/appliesto-ss-xxxx-xxxx-xxx-md-winonly.md)]

[!INCLUDE[rsql_launchpad_md](../../includes/rsql-launchpad-md.md)] — Это служба, которая управляет внешними скриптами и выполняет их, аналогично тому, как служба полнотекстового индексирования и запросов запускает отдельный узел для обработки полнотекстовых запросов.

Дополнительные сведения см. в разделах "Панель запуска" в разделе "Архитектура расширяемости" статьи [SQL Server службы машинного обучения](../../advanced-analytics/concepts/extensibility-framework.md#launchpad) и [Общие сведения о безопасности для платформы расширяемости в SQL Server службы машинного обучения](../../advanced-analytics/concepts/security.md#launchpad).

## <a name="account-permissions"></a>Разрешения учетной записи

По умолчанию панель запуска SQL Server настраивается для запуска в **Service\MSSQLLaunchpad NT**, который подготавливается со всеми необходимыми разрешениями для выполнения внешних скриптов. Удаление разрешений из этой учетной записи может привести к тому, что панель запуска не сможет запуститься или получить доступ к экземпляру SQL Server, где должны выполняться внешние скрипты.

При изменении учетной записи службы обязательно используйте [консоль локальной политики безопасности](https://docs.microsoft.com/windows/security/threat-protection/security-policy-settings/how-to-configure-security-policy-settings).

Разрешения, необходимые для этой учетной записи, перечислены в следующей таблице.

| Параметр групповой политики | Имя константы |
|----------------------|---------------|
| [Настройка квот памяти для процесса](https://docs.microsoft.com/windows/security/threat-protection/security-policy-settings/adjust-memory-quotas-for-a-process) | SeIncreaseQuotaPrivilege | 
| [Обход перекрестной проверки](https://docs.microsoft.com/windows/security/threat-protection/security-policy-settings/bypass-traverse-checking) | SeChangeNotifyPrivilege | 
| [Вход в качестве службы](https://docs.microsoft.com/windows/security/threat-protection/security-policy-settings/log-on-as-a-service) | SeServiceLogonRight | 
| [Замена маркера уровня процесса](https://docs.microsoft.com/windows/security/threat-protection/security-policy-settings/replace-a-process-level-token) | SeAssignPrimaryTokenPrivilege | 

Дополнительные сведения о разрешениях, необходимых для запуска служб SQL Server, см. в разделе [Права доступа и права Windows](../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md).

<a name="bkmk_ChangingConfig"></a> 

## <a name="configuration-properties"></a>Свойства конфигурации

Как правило, нет причин изменять конфигурацию службы. Свойства, которые можно изменить, включают учетную запись службы, число внешних процессов (по умолчанию — 20) или политику сброса паролей для учетных записей рабочих ролей.

1. Откройте [Диспетчер конфигурации SQL Server](../../relational-databases/sql-server-configuration-manager.md).

2. В разделе SQL Server Службы щелкните правой кнопкой мыши панель запуска SQL Server и выберите пункт **Свойства**.
  + Чтобы изменить учетную запись службы, перейдите на вкладку **Вход** .
  + Чтобы увеличить число пользователей, перейдите на вкладку **Дополнительно** и измените **число контекстов безопасности**.

> [!Note]
> В ранних версиях служб SQL Server 2016 R Services можно было изменить некоторые свойства службы, изменив [!INCLUDE[rsql_productname](../../includes/rsql-productname-md.md)] файл конфигурации. Этот файл больше не используется для изменения конфигураций. Диспетчер конфигурации SQL Server является верным подходом к изменениям конфигурации службы, таким как учетная запись службы и число пользователей.

## <a name="debug-settings"></a>Параметры отладки

Некоторые свойства можно изменить только с помощью файла конфигурации панели запуска, который может быть полезен в ограниченных случаях, таких как отладка. Файл конфигурации создается во время [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] установки, и по умолчанию сохраняется как обычный текстовый файл в. `<instance path>\binn\rlauncher.config`

Для изменения этого файла необходимо иметь права администратора на компьютере, на котором выполняется [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] . При изменением файла конфигурации рекомендуется сделать его резервную копию.

В следующей таблице перечислены дополнительные параметры для [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]с допустимыми значениями.

|**Имя параметра**|**Тип**|**Описание**|
|----|----|----|
|ОЧИСТКА\_ЗАДАНИЯ\_ПРИВЫХОДЕ\_|Целочисленный |Это только внутренний параметр — не изменяйте это значение. </br></br>Указывает, следует ли очищать временную рабочую папку, созданную для каждого сеанса внешней среды выполнения, после завершения сеанса. Этот параметр полезен для отладки. </br></br>Поддерживаемые значения: **0** (отключено) или **1** (включено). </br></br>Значение по умолчанию — 1, то есть файлы журнала удаляются при выходе.|
|УРОВЕНЬ\_ТРАССИРОВКИ|Целочисленный |Настраивает уровень детализации трассировки MSSQLLAUNCHPAD для целей отладки. Это влияет на файлы трассировки в пути, указанном параметром LOG_DIRECTORY. </br></br>Поддерживаются значения: **1** (ошибка), **2** (производительность), **3** (предупреждение), **4** (информация). </br></br>Значение по умолчанию — 1, то есть только ошибки вывода.|

Все параметры задаются в виде пары "ключ — значение", каждый параметр указывается в отдельной строке. Например, чтобы изменить уровень трассировки, добавьте строку `Default: TRACE_LEVEL=4`.

<a name="bkmk_EnforcePolicy"></a>

## <a name="enforcing-password-policy"></a>Применение политики паролей

Если ваша организация имеет политику, которая требует регулярной смены паролей, может потребоваться принудительно запустить службу панели запуска для повторного создания зашифрованных паролей, которые хранит панель запуска для рабочих учетных записей.

Чтобы включить этот параметр и принудительно обновлять пароли, откройте область **Свойства** службы панели запуска в диспетчере конфигурации SQL Server, щелкните **Дополнительно** и измените значение параметра **Сбросить пароль внешних пользователей** на **Да**. После применения этого изменения пароли немедленно будут созданы повторно для всех учетных записей пользователей. Чтобы запустить внешний скрипт после этого изменения, необходимо перезапустить службу панели запуска, после чего будет прочитаны вновь созданные пароли.

Для сброса паролей через регулярные интервалы можно вручную установить этот флаг или использовать скрипт.

## <a name="next-steps"></a>Следующие шаги

+ [Инфраструктура расширяемости](../concepts/extensibility-framework.md)
+ [Обзор безопасности](../concepts/security.md)
