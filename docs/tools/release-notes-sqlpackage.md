---
title: Заметки о выпуске DacFx и SqlPackage | Документация Майкрософт
description: Заметки о выпуске Microsoft sqlpackage.
ms.custom: tools|sos
ms.date: 02/02/2019
ms.prod: sql
ms.reviewer: alayu; sstein
ms.prod_service: sql-tools
ms.topic: conceptual
author: pensivebrian
ms.author: broneill
manager: kenvh
ms.openlocfilehash: ad2f4eaadfb2140facc5bebd8d1f70cf163d1380
ms.sourcegitcommit: 6413b7495313830ad1ae5aefe0c09e8e7a284b07
ms.translationtype: MTE75
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "71016880"
---
# <a name="release-notes-for-sqlpackageexe"></a>Заметки о выпуске SqlPackage.exe

**[Скачать последнюю версию](sqlpackage-download.md)**

В этой статье перечислены функции и исправления, предоставляемые выпущенными версиями SqlPackage.exe.

<!--
TODO:
The Introduction text needs to add clarity regarding the relationship between
'SqlPackage.exe' and 'DacFx' (the Microsoft 'Data-Tier Application Framework').
One added sentence would be sufficient.

Or, if there is no relationship, remove 'DacFx' from the metadata 'title:'.

I discussed this with SStein (SteveStein).
Thanks.  GeneMi (MightyPen in GitHub).  2019-03-27
-->

## <a name="1831-sqlpackage"></a>sqlpackage 18.3.1

|Платформа|Загрузить|Дата выпуска|Версия|Сборка
|:---|:---|:---|:---|:---|
|Windows|[Установщик MSI](https://go.microsoft.com/fwlink/?linkid=2102893)|13 сентября 2019 г.|18.3.1|15.0.4538.1|
|macOS .NET Core (предварительная версия)|[ZIP-файл](https://go.microsoft.com/fwlink/?linkid=2102894)|13 сентября 2019 г.| 18.3.1|15.0.4538.1|
|Linux .NET Core (предварительная версия)|[ZIP-файл](https://go.microsoft.com/fwlink/?linkid=2102978)|13 сентября 2019 г.| 18.3.1|15.0.4538.1|
|Windows .NET Core (Предварительная версия)|[ZIP-файл](https://go.microsoft.com/fwlink/?linkid=2102979)|13 сентября 2019 г.| 18.13.1|15.0.4538.1|

### <a name="features"></a>Компоненты

| Компонент | Сведения |
| :------ | :------ |
| Хранилище данных SQL Azure (предварительная версия) | Добавлена поддержка для развертывания в хранилище данных SQL Azure. | 
| Развертывание | Добавьте параметр/p: Датабаселокктимеаут = (INT32 ' 60 ') в SqlPackage. | 
| Развертывание | Добавьте параметр/p: Лонгруннингкоммандтимеаут = (INT32) в SqlPackage. |
| Экспорт/извлечение | Добавьте параметр/p: Темпдиректорифортабледата = (STRING) в SqlPackage. |
| Развертывание | Разрешить загрузку участников развертывания из дополнительных расположений. Участники развертывания будут загружены из того же каталога, что и целевой файл. dacpac, каталог Extensions по отношению к двоичному файлу SqlPackage. exe и параметр/p: Аддитионалдеплойментконтрибуторпасс = (STRING), добавленный в SqlPackage где можно указать дополнительные расположения каталогов. |
| Развертывание | Добавлена поддержка OPTIMIZE_FOR_SEQUENTIAL_KEY. |
| &nbsp; | &nbsp; |

### <a name="fixes"></a>Исправления

| Fix | Сведения |
| :-- | :------ |
| Развертывание | Исправление для игнорирования автоматических индексов, чтобы они не удалялись при развертывании. | 
| Always Encrypted | Исправление для обработки Always Encrypted столбцов varchar. | 
| Сборка и развертывание | Исправление для разрешения метода nodes () для наборов столбцов XML.| 
| ScriptDom | Исправьте дополнительные случаи, когда строка "URL" была интерпретирована как маркер верхнего уровня. | 
| График | Исправьте сформированный TSQL для ссылок на псевдо столбцы в ограничениях.  | 
| Экспорт | Создание случайных паролей, отвечающих требованиям сложности. | 
| Развертывание | Исправление позволяет учитывать время ожидания команд при извлечении ограничений. | 
| .NET Core (Предварительная версия) | Исправление журнала диагностики в файле. | 
| .NET Core (Предварительная версия) | Используйте потоковую передачу для экспорта табличных данных для поддержки больших таблиц. | 
| &nbsp; | &nbsp; |

## <a name="182-sqlpackage"></a>sqlpackage 18.2

|Платформа|Загрузить|Дата выпуска|Версия|Сборка
|:---|:---|:---|:---|:---|
|Windows|[Установщик MSI](https://go.microsoft.com/fwlink/?linkid=2087429)|15 апреля 2019 г.|18.2|15.0.4384.2|
|macOS .NET Core (предварительная версия)|[ZIP-файл](https://go.microsoft.com/fwlink/?linkid=2087247)|15 апреля 2019 г. | 18.2 |15.0.4384.2|
|Linux .NET Core (предварительная версия)|[ZIP-файл](https://go.microsoft.com/fwlink/?linkid=2087431)|15 апреля 2019 г. | 18.2 |15.0.4384.2|

### <a name="features"></a>Компоненты

| Компонент | Сведения |
| :------ | :------ |
| Добавлена ​​поддержка графовой таблицы для ограничения границ и предложений ограничения границ. | &nbsp; |
| Включено правило проверки модели с поддержкой 32 столбцов для ключей индекса для SQL Server 2016 и выше. | &nbsp; |
| &nbsp; | &nbsp; |

### <a name="fixes"></a>Исправления

| Fix | Сведения |
| :-- | :------ |
| Исправлено реконструирование базы данных RTM SQL Server 2016 вследствие неподдерживаемого указания запроса. | &nbsp; |
| Исправлен порядок развертывания операторов изменения автозакрытия, которые выполняются перед созданием операторов файловой группы. | &nbsp; |
| Исправлена ​​регрессия разбора ScriptDom, в которой строка URL интерпретировалась как токен наивысшего уровня. | &nbsp; |
| Исправлено ​​исключение пустой ссылки при разборе оператора добавления индекса изменения таблицы. | &nbsp; |
| Исправлено сравнение схем для пустых значений материализованных вычисляемых столбцов, постоянно отображающихся как разные.| &nbsp; |
| &nbsp; | &nbsp; |

## <a name="181-sqlpackage"></a>sqlpackage 18.1

Дата выпуска:&nbsp;1 февраля 2019 г.  
Сборка:&nbsp;15.0.4316.1  
Предварительный выпуск.

### <a name="features"></a>Компоненты

| Компонент | Сведения |
| :------ | :------ |
| Добавлена поддержка параметров сортировки UTF8. | &nbsp; |
| Включены некластеризованные индексы columnstore в индексированном представлении. | &nbsp; |
| Перемещено в .NET Core 2.2. | &nbsp; |
| Настроено использование памяти резервного хранилища для сравнения схем в .NET Core. | &nbsp; |
| &nbsp; | &nbsp; |

### <a name="fixes"></a>Исправления

| Fix | Сведения |
| :-- | :------ |
| Исправлена производительность для использования модуля оценки унаследованной кратности для запросов реконструирования. | &nbsp; |
| Исправлена ​​значительная проблема производительности сравнения схем при генерации скрипта. | &nbsp; |
| Исправлена логика обнаружения смещения схемы для игнорирования определенных сеансов расширенных событий (xevent). | &nbsp; |
| Исправлен порядок импорта графовых таблиц. | &nbsp; |
| Исправлен экспорт внешних таблиц с разрешениями объекта. | &nbsp; |
| &nbsp; | &nbsp; |

### <a name="known-issues"></a>Известные проблемы

Этот выпуск включает в себя кроссплатформенные предварительные сборки sqlpackage, предназначенные для .NET Core 2.2. Sqlpackage можно запустить в macOS и Linux.

| Известная проблема | Сведения |
| :---------- | :------ |
| Участники сборки и развертывания не поддерживаются. | &nbsp; |
| Старые файлы DACPAC и BACPAC, использующие сериализацию данных JSON, не поддерживаются. | &nbsp; |
| Файлы DACPACS (например, master.dacpac), на которые существуют ссылки, могут не разрешиться из-за проблем с чувствительными к регистру файловыми системами. | Правильным решением будет написание имени файла, на который ссылаются, прописными буквами (например, MASTER.BACPAC). |
| &nbsp; | &nbsp; |

## <a name="180-sqlpackage"></a>sqlpackage 18.0

Дата выпуска: &nbsp;24 октября 2018 г.  
Сборка:&nbsp;15.0.4200.1

### <a name="features"></a>Компоненты

| Компонент | Сведения |
| :------ | :------ |
| Добавлена ​​поддержка уровня совместимости базы данных 150. | &nbsp; |
| Добавлена поддержка Управляемого экземпляра. | &nbsp; |
| Добавлен параметр командной строки MaxParallelism для указания степени параллелизма операций с базой данных. | &nbsp; |
| Добавлен параметр командной строки AccessToken для указания маркера проверки подлинности при подключении к SQL Server. | &nbsp; |
| Добавлена поддержка потоковой передачи типов данных BLOB и CLOB для импорта. | &nbsp; |
| Добавлена ​​поддержка скалярного параметра UDF INLINE. | &nbsp; |
| Добавлена поддержка для синтаксиса MERGE графовой таблицы. | &nbsp; |
| &nbsp; | &nbsp; |

### <a name="fixes"></a>Исправления

| Fix | Сведения |
| :-- | :------ |
| Исправлен неразрешенный псевдостолбец для графовых таблиц. | &nbsp; |
| Исправлено создание базы данных с файловыми группами, оптимизированными для операций в памяти, при использовании оптимизированных для операций в памяти таблиц. | &nbsp; |
| Исправлено включение расширенных свойств во внешние таблицы. | &nbsp; |
| &nbsp; | &nbsp; |

## <a name="178-sqlpackage"></a>sqlpackage 17.8

Дата выпуска:&nbsp;22 июня 2018 г.  
Сборка:&nbsp;14.0.4079.2

### <a name="features"></a>Компоненты

| Компонент | Сведения |
| :------ | :------ |
| Улучшены сообщения об ошибках при сбое подключения, в том числе сообщение об исключении SqlClient. | &nbsp; |
| Включена поддержка сжатия индексирования одной секции индексов для импорта и экспорта. | &nbsp; |
| &nbsp; | &nbsp; |

### <a name="fixes"></a>Исправления

| Fix | Сведения |
| :-- | :------ |
| Исправлена ​​проблема реконструирования для наборов столбцов XML в SQL 2017 и более поздних версиях. | &nbsp; |
| Исправлена ​​ошибка, из-за которой сценарии уровня совместимости базы данных 140 пропускались для базы данных SQL Azure. | &nbsp; |
| &nbsp; | &nbsp; |

## <a name="1741-sqlpackage"></a>sqlpackage 17.4.1

Дата выпуска: &nbsp;25 января 2018 г.  
Сборка:&nbsp;14.0.3917.1

### <a name="features"></a>Компоненты

| Компонент | Сведения |
| :------ | :------ |
| Добавлен параметр командной строки ThreadMaxStackSize для анализа Transact-SQL с большим количеством вложенных операторов. | &nbsp; |
| Поддержка параметров сортировки каталога базы данных. | &nbsp; |
| &nbsp; | &nbsp; |

### <a name="fixes"></a>Исправления

| Fix | Сведения |
| :-- | :------ |
| Исправлены ошибки при импорте BACPAC-файла базы данных SQL Azure в локальный экземпляр, поскольку _главные ключи базы данных без пароля не поддерживаются этой версией SQL Server_. | &nbsp; |
| Исправлена неразрешенная ошибка псевдостолбца для графовых таблиц. | &nbsp; |
| Исправлено использование SchemaCompareDataModel с проверкой подлинности SQL для сравнения схем. | &nbsp; |
| &nbsp; | &nbsp; |

## <a name="1740-sqlpackage"></a>sqlpackage 17.4.0

Дата выпуска:&nbsp;12 декабря 2017 г.  
Сборка:&nbsp;14.0.3881.1

### <a name="features"></a>Компоненты

| Компонент | Сведения |
| :------ | :------ |
| Добавлена ​​поддержка _политики временного хранения_ в SQL 2017+ и базе данных SQL Azure. | &nbsp; |
| Добавлен параметр командной строки /DiagnosticsFile:"C:\Temp\sqlpackage.log " для указания пути к файлу для сохранения диагностической информации. | &nbsp; |
| Добавлен параметр командной строки /Diagnostics для записи диагностической информации в консоль. | &nbsp; |
| &nbsp; | &nbsp; |

### <a name="fixes"></a>Исправления

| Fix | Сведения |
| :-- | :------ |
| Не блокируйте при обнаружении уровня совместимости базы данных, который не удается распознать. | Вместо этого предполагается использовать последнюю базу данных SQL Azure или локальную платформу. |
| &nbsp; | &nbsp; |
