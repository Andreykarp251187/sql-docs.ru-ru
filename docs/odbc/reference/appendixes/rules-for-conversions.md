---
title: Правила преобразований с | Документация Майкрософт
ms.custom: ''
ms.date: 01/19/2017
ms.prod: sql
ms.prod_service: connectivity
ms.reviewer: ''
ms.technology: connectivity
ms.topic: conceptual
helpviewer_keywords:
- numeric data type [ODBC], literals
- conversions with numeric literals [ODBC]
- numeric literals [ODBC]
- literals [ODBC], numeric
ms.assetid: 89f846a3-001d-496a-9843-ac9c38dc1762
author: MightyPen
ms.author: genemi
ms.openlocfilehash: 9ca64355a80ce8892f0ea0494e165d934d8d7a88
ms.sourcegitcommit: b2464064c0566590e486a3aafae6d67ce2645cef
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/15/2019
ms.locfileid: "68057088"
---
# <a name="rules-for-conversions"></a>Правила преобразования
Правила в этом разделе, применяются для преобразования, включающие числовые литералы. В рамках этих правил применяются следующие термины:  
  
-   *Назначение Store:* При отправке данных в столбец таблицы в базе данных. Это происходит во время вызовов **SQLExecute**, **SQLExecDirect**, и **SQLSetPos**. Во время назначения хранилища «target» ссылается на столбец базы данных и «источник» ссылается на данные в буферах приложения.  
  
-   *Извлечение и присваивание:* При получении данных из базы данных в буферы приложения. Это происходит во время вызовов **SQLFetch**, **SQLGetData**, **SQLFetchScroll**, и **SQLSetPos**. Во время назначения извлечения «target» ссылается на буферы приложения и «источник» относится к столбцу базы данных.  
  
-   *CS:* Значение источника символа.  
  
-   *NT:* В целевом объекте числовое значение.  
  
-   *NS:* В источнике числовое значение.  
  
-   *CT:* Значение в целевом объекте символ.  
  
-   Точность типа точный числовой литерал: количество цифр, которые он содержит.  
  
-   Масштаб точный числовой литерал: количество цифр справа от периода явных или подразумеваемых.  
  
-   Точность приблизительных числовых литерала: точность его мантиссы.  
  
## <a name="character-source-to-numeric-target"></a>Символ источника к целевому объекту числовых  
 Ниже приведены правила преобразования из источника символ (CS) в числовой целевой объект (NT).  
  
1.  Замените значение, полученное путем удаления любой начальные или конечные пробелы в CS CS. Если CS не является допустимым *числовой литерал*, возвращается SQLSTATE 22018 (Недопустимое символьное значение для спецификации приведения).  
  
2.  Замените значение, полученное путем удаления начальные нули перед десятичной запятой, замыкающие нули после десятичной запятой и / или CS.  
  
3.  Преобразуйте CS NT. Если преобразование приводит к потере значащих разрядов, возвращается SQLSTATE 22003 (численное значение вне допустимого диапазона). Если преобразование приводит к потере Незначимые цифры с кодом SQLSTATE 01S07 возвращается (частичное усечение).  
  
## <a name="numeric-source-to-character-target"></a>Числовые источника к целевому объекту символ  
 Ниже приведены правила преобразования из числовых источника (NS) для целевого объекта символ (CT).  
  
1.  Позвольте LT иметь длину в символах компьютерной телефонии Для назначения извлечения LT равна длине буфера в символах минус количество байтов в символ конечное значение null для этого набора символов.  
  
2.  Варианты:  
  
    -   Если NS точный числовой тип, подождите, пока YP равно самой короткой строки символ, соответствующий определению *точные числовые литералов* таким образом, масштаб YP совпадает со значением масштаба NS и интерпретируемые значение YP абсолютное значение NS.  
  
    -   Если NS приблизительный числовой тип, дайте YP быть символьной строкой, следующим образом:  
  
         Вариант.  
  
         Если NS равен 0, YP равно 0.  
  
         Позвольте YSN быть самой короткой строки символ, соответствующий определению точное -*числовой литерал* и интерпретируемые, значение которого является абсолютное значение NS. Если длина YSN меньше, чем (*точности* + 1) данных типа NS, дайте YP равно YSN.  
  
         В противном случае YP является самой короткой строки символ, соответствующий определению *приблизительных числовых литералов* интерпретированных, значение которого является абсолютное значение NS и для которой *мантиссы* состоит из единый *цифра* то есть не "0", за которым следует *период* и *unsigned integer*.  
  
3.  Вариант.  
  
    -   Если NS меньше 0, дайте Y быть результатом:  
  
         "-" &#124; &#124; YP  
  
         где "&#124;&#124;" — это оператор объединения строк.  
  
         В противном случае позвольте Y равно YP.  
  
4.  Разрешить только иметь длину в символах Y.  
  
5.  Вариант.  
  
    -   Если LY равно LT, затем CT присвоено значение Y.  
  
    -   Если LY меньше, чем LT, затем CT присвоено значение Y расширенных справа, соответствующее число пробелов.  
  
         В противном случае (LY > LT), скопируйте первых символов LT Y в компьютерной телефонии  
  
         Вариант.  
  
         Если в это назначение хранилища, возвращать ошибку SQLSTATE 22001 (строковые данные, усекаются справа).  
  
         Если это назначение извлечения, возвращается предупреждение SQLSTATE 01004 (строковые данные, усекаются справа). Копирование приводит к потере цифр дробной части (кроме нули в конце), при определенных драйвером ли одно из следующих событий:  
  
         (1) драйвер производит усечение строки по оси Y в нужном масштабе, (который также может быть равен нулю) и записывает результат в компьютерной телефонии  
  
         (2) драйвер округляет строки по оси Y в нужном масштабе, (который также может быть равен нулю) и записывает результат в компьютерной телефонии  
  
         (3) драйвер не усекает ни округляет, но просто копирует первых символов LT Y в компьютерной телефонии
