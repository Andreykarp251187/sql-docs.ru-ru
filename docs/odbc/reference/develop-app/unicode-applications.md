---
title: Приложения unicode Документы Майкрософт
ms.custom: ''
ms.date: 01/19/2017
ms.prod: sql
ms.prod_service: connectivity
ms.reviewer: ''
ms.technology: connectivity
ms.topic: conceptual
helpviewer_keywords:
- Unicode [ODBC], compiling as Unicode application
- Unicode [ODBC], functions
- compiling Unicode applications [ODBC]
- functions [ODBC], Unicode functions
ms.assetid: 7986c623-2792-4e77-bfee-c86cbf84f08d
author: David-Engel
ms.author: v-daenge
ms.openlocfilehash: 94bd5211c878904453624adb2acd0fe435ebc812
ms.sourcegitcommit: ce94c2ad7a50945481172782c270b5b0206e61de
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/14/2020
ms.locfileid: "81298950"
---
# <a name="unicode-applications"></a>Приложения на базе Юникода
Вы можете перекомпилировать приложение в качестве приложения Unicode одним из двух способов:  
  
-   Включите **#define** Unicode, содержащиеся в файле заголовка Sqlucode.h в приложении.  
  
-   Составить приложение с помощью опции Unicode компилятора. (Этот вариант будет отличаться для разных компиляторов.)  
  
 Чтобы преобразовать приложение ANSI в приложение Unicode, напишите приложение для хранения и передачи данных Unicode. Кроме того, вызовы к функциям, поддерживающим аргументы S'LPOINTER, должны быть преобразованы в использование количества байтов.  
  
 После того, как приложение компилируется как приложение Unicode, если приложение вызывает функцию ODBC API (без суффикса), менеджер драйвера распознает приложение как приложение Unicode и преобразует вызов функции в функцию Unicode (с помощью суффикса *W),* если базовый драйвер поддерживает Unicode. Когда приложение ANSI делает вызов функции без суффикса, менеджер драйвера преобразует его в ANSI, если базовый драйвер поддерживает ANSI. Если приложение и драйвер поддерживают кодирование одного и того же символа, менеджер драйвера передает звонки водителю (за некоторыми исключениями для приложений ANSI).  
  
 Приложение может вызывать как функции Unicode (с суффиксом *W),* так и функции ANSI (с суффиксом *A* или без него). Вызовы функции Unicode и ANSI могут быть смешаны. Однако, если библиотека курсора используется, вызовы функции Unicode и ANSI не могут быть смешаны. Библиотека курсора — это либо Unicode, либо ANSI, а не смесь.  
  
 Приложение может быть написано таким образом, что оно может быть составлено как приложение Unicode или приложение ANSI. В этом случае типы данных символов могут быть объявлены SQL_C_TCHAR. Это макрос, который вставляет SQL_C_WCHAR если приложение компилируется как приложение Unicode или вставляет SQL_C_CHAR если оно компилируется как приложение ANSI. Программист приложения должен быть осторожен с функциями, которые принимают S'LPOINTER в качестве аргумента, потому что размер аргумента длины будет меняться (для типов строки данных) в зависимости от того, является ли приложение ANSI или Unicode.  
  
 Функцию можно вызвать одним из трех способов: как вызов функции только для Unicode (с суффиксом *W),* как вызов функции только ANSI (с суффиксом) или как вызов функции ODBC без суффикса. *A* Аргументы к трем формам функции идентичны. Только те функции, \* которые связаны с аргументами S'LCHAR или аргументами S'LPOINTER, которые указывают на строки, требуют форм Unicode и ANSI. Для функций, которые имеют аргументы, которые могут быть объявлены в качестве типа символа, таких как **S'LBindCol** или **S'LGetData** (которые не имеют Unicode и ANSI формы), аргумент может быть объявлен как тип Unicode, тип ANSI, или в случае аргумента типа C, SQL_C_TCHAR макрос. Для получения дополнительной информации [см.](../../../odbc/reference/develop-app/unicode-data.md)  
  
 Приложение может быть написано как приложение Unicode, даже если драйверы Unicode не доступны для работы с ним. Менеджер драйвера будет отображать функции Unicode и типы данных в ANSI. Есть некоторые ограничения для карт Unicode для отображений ANSI, которые могут быть выполнены. Наличие драйвера Unicode для работы с приложением Unicode приведет к повышению производительности и устранит ограничения, присущие Unicode, к отображению ANSI.
