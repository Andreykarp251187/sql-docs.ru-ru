---
description: Диагностические сообщения
title: Диагностические сообщения | Документация Майкрософт
ms.custom: ''
ms.date: 01/19/2017
ms.prod: sql
ms.prod_service: connectivity
ms.reviewer: ''
ms.technology: connectivity
ms.topic: conceptual
helpviewer_keywords:
- diagnostic information [ODBC], diagnostic messages messages
- error messages [ODBC], diagnostic messages
- diagnostic messages [ODBC]
ms.assetid: 98027871-9901-476e-a722-ee58b7723c1f
author: David-Engel
ms.author: v-daenge
ms.openlocfilehash: 6d788a8bb23b7b63ae65a6fcf8c119110b5e6557
ms.sourcegitcommit: e700497f962e4c2274df16d9e651059b42ff1a10
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/17/2020
ms.locfileid: "88461516"
---
# <a name="diagnostic-messages"></a>Диагностические сообщения
С каждым SQLSTATE возвращается диагностическое сообщение. Одно и то же значение SQLSTATE часто возвращается с несколькими разными сообщениями. Например, для большинства ошибок в синтаксисе SQL возвращается SQLSTATE 42000 (синтаксическая ошибка или нарушение прав доступа). Однако каждая синтаксическая ошибка, скорее всего, будет описываться другим сообщением.  
  
 Образцы диагностических сообщений перечислены в столбце Error таблицы SQLSTATE в приложении а и в каждой функции. Несмотря на то, что драйверы могут возвращать эти сообщения, скорее всего, они возвращают любое сообщение, передаваемое им источником данных.  
  
 Приложения обычно отображают диагностические сообщения пользователю, а также код ошибки SQLSTATE и Native. Это помогает пользователям и сотрудникам службы поддержки определить причину проблем. Сведения о компонентах, внедренных в сообщение, особенно полезны для этого.  
  
 Диагностические сообщения берутся из источников данных и компонентов в подключении ODBC, например драйверы, шлюзы и диспетчер драйверов. Как правило, источники данных напрямую не поддерживают ODBC. Следовательно, если компонент в соединении ODBC получает сообщение от источника данных, он должен указывать источник данных в качестве источника сообщения. Он также должен идентифицировать себя как компонент, получивший сообщение.  
  
 Если источником ошибки или предупреждения является сам компонент, то диагностическое сообщение должно объяснить это. Таким образом, текст сообщений имеет два разных формата. Для ошибок и предупреждений, которые не возникают в источнике данных, диагностическое сообщение должно использовать следующий формат:  
  
 **[** *Vendor-identifier* **] [** *ODBC-компонент-идентификатор* **]** *предоставленный компонентом текст*  
  
 Для ошибок и предупреждений, происходящих в источнике данных, диагностическое сообщение должно использовать следующий формат:  
  
 **[** *Vendor-identifier* **] [** *ODBC-компонент-идентификатор* **] [** *Data-Source-identifier* **]** *данные-источник — текст*  
  
 В следующей таблице показано значение каждого элемента.  
  
|Элемент|Значение|  
|-------------|-------------|  
|*Поставщик — идентификатор*|Определяет поставщика компонента, в котором возникла ошибка или предупреждение, или получено сообщение об ошибке или предупреждение непосредственно из источника данных.|  
|*ODBC-компонент-идентификатор*|Определяет компонент, в котором возникла ошибка или предупреждение, или получено сообщение об ошибке или предупреждение непосредственно из источника данных.|  
|*Источник данных — идентификатор*|Определяет источник данных. Для драйверов на основе файлов обычно это файловый формат, например xbase [1] для драйверов на основе СУБД, это продукт СУБД.|  
|*предоставляемый компонентом текст*|Создается компонентом ODBC.|  
|*текст, предоставляемый источником данных*|Создается источником данных.|  
  
 [1] в этом случае драйвер действует как драйвер, так и источник данных.  
  
 Квадратные скобки (**[]**) должны включаться в сообщение и не указывать дополнительные элементы.
