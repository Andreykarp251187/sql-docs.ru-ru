---
title: Сопоставление диспетчера драйверов функции | Документация Майкрософт
ms.custom: ''
ms.date: 01/19/2017
ms.prod: sql
ms.prod_service: connectivity
ms.reviewer: ''
ms.technology: connectivity
ms.topic: conceptual
helpviewer_keywords:
- Unicode [ODBC], functions
- driver manager [ODBC], function mapping
- functions [ODBC], Unicode functions
ms.assetid: ff093b29-671a-4fc0-86c9-08a311a98e54
author: MightyPen
ms.author: genemi
manager: craigg
ms.openlocfilehash: 40dc214fa7f77dfb81c941095ecd71d3d4bf5a36
ms.sourcegitcommit: f7fced330b64d6616aeb8766747295807c92dd41
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "63061562"
---
# <a name="function-mapping-in-the-driver-manager"></a>Сопоставление функции в диспетчере драйверов
Диспетчер драйверов поддерживает две точки входа для функции, принимающие строковые аргументы. Объявление функции (**SQLDriverConnect**) — форма ANSI функции. Форма Юникода снабжен *W* (**SQLDriverConnectW**.)  
  
 Файл заголовка ODBC также поддерживает функции, с *A,* (**SQLDriverConnectA**) для удобства смешанных приложений ANSI и Юникода. Вызовы к **объект** функции являются фактически вызывает точку входа недекорированное (**SQLDriverConnect**.)  
  
 Если приложение скомпилировано с параметром _UNICODE **#define**, файле заголовка ODBC сопоставит вызовы объявление функции (**SQLDriverConnect**) до версии Юникода (**SQLDriverConnectW** .)  
  
 Диспетчер драйверов распознает драйвер как драйвер Юникода, если **SQLConnectW** поддерживается драйвером.  
  
 Если драйвер является драйвером Юникода, диспетчер драйверов вызывает функцию следующим образом:  
  
-   Передает функции без аргументов строки или параметров напрямую через драйвер.  
  
-   Передает функции Юникода (с *W* суффикс) непосредственно через к драйверу.  
  
-   Преобразует функцию ANSI (с *объект* суффикс) функции Юникода (с *W* суффикс) путем преобразования строковые аргументы в Юникоде символов и передает функции Юникода драйверу.  
  
 Если драйвер является драйвером ANSI, диспетчер драйверов вызывает функцию следующим образом:  
  
-   Передает функции без строковых аргументов и параметров непосредственно с помощью драйвера.  
  
-   Преобразует функции Юникода (с *W* суффикс) вызов функции для ANSI и передает его драйвер.  
  
-   Передает функцию ANSI непосредственно к драйверу.  
  
 Диспетчер драйверов Юникода обеспечивается для внутренних целей. Таким образом оптимальной производительности получается путем приложения с поддержкой Юникода, работе с драйвером Юникода, так как диспетчер драйверов просто передает функции Юникода с помощью драйвера. При работе приложение ANSI с драйвером ANSI, диспетчер драйверов необходимо преобразовать строк из ANSI в Юникод при обработке некоторых функций, таких как **SQLDriverConnect**. После обработки функция, диспетчер драйверов необходимо затем преобразовать строку в кодировке Юникод ANSI перед отправкой функцию в драйвере ANSI.  
  
 Приложения не следует изменять или читать его буферах привязанного параметра, когда драйвер возвращает значение SQL_STILL_EXECUTING или SQL_NEED_DATA. Диспетчер драйверов оставляет буферы, привязанные к ANSI, пока драйвер возвращает значение SQL_SUCCESS, SQL_SUCCESS_WITH_INFO или SQL_ERROR. Многопоточного приложения не должен получать доступ ко всем значениям связанных параметров, другой поток выполняется инструкция SQL. Диспетчер драйверов преобразует данные из Юникода в ANSI «на месте», а другой поток может см. в разделе данных ANSI в этих буферах во время драйвер по-прежнему обработки инструкции SQL. Приложения с привязкой данных в Юникоде драйверу ANSI не должен выполнить привязку двух разных столбцов тот же адрес.
