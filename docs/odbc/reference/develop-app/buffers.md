---
title: Буферы Документы Майкрософт
ms.custom: ''
ms.date: 01/19/2017
ms.prod: sql
ms.prod_service: connectivity
ms.reviewer: ''
ms.technology: connectivity
ms.topic: conceptual
helpviewer_keywords:
- input buffers [ODBC]
- length/indicator buffers [ODBC]
- output buffers [ODBC]
- buffers [ODBC], about buffers
- application buffers [ODBC]
- buffers [ODBC]
ms.assetid: 42c5226c-cb40-4d1e-809f-2ea50ce6bd55
author: David-Engel
ms.author: v-daenge
ms.openlocfilehash: 0c49e83e12463665f86f8cc15dc595e6ba2c506f
ms.sourcegitcommit: ce94c2ad7a50945481172782c270b5b0206e61de
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/14/2020
ms.locfileid: "81306289"
---
# <a name="buffers"></a>Буферы
Буфер — это любая часть памяти приложения, используемая для передачи данных между приложением и драйвером. Например, буферы приложений могут быть связаны с столбиками набора результатов или *связаны* с ними с **s'LBindCol.** При извлечении каждой строки данные возвращаются для каждого столбца в этих буферах. *Буферы ввода* используются для передачи данных из приложения водителю; *буферы вывода* используются для возврата данных из драйвера в приложение.  
  
> [!NOTE]  
>  Если функция ODBC возвращается SQL_ERROR, содержание любых аргументов вывода этой функции не определено.  
  
 Это обсуждение относится главным образом с буферами неопределенного типа. Адреса этих буферов отображаются в качестве аргументов типа S'LPOINTER, таких как аргумент *TargetValuePtr* в **S'LBindCol**. Тем не менее, некоторые из элементов, обсуждаемых здесь, такие как аргументы, используемые с буферами, также применяются к аргументам, используемым для передачи строк драйверу, например аргумент *TableName* в **S'LTables**.  
  
 Эти буферы обычно приходят парами. *Буферы данных* используются для передачи самих данных, в то время как *буферы длины/индикатора* используются для передачи длины данных в буфере данных или специального значения, такого как SQL_NULL_DATA, что указывает на то, что данные являются NULL. Длина данных в буфере данных отличается от длины самого буфера данных. Следующая иллюстрация показывает взаимосвязь между буфером данных и буфером длины/индикатора.  
  
 ![Буфер данных и буфер индикатора длины&#47;](../../../odbc/reference/develop-app/media/pr09.gif "pr09")  
  
 Буфер длины/индикатора требуется всякий раз, когда буфер данных содержит данные с переменной длиной, такие как символ или двоичные данные. Если буфер данных содержит данные с фиксированной длиной, такие как целый ряд или структура даты, буфер длины/индикатора необходим только для прохождения значений индикатора, поскольку длина данных уже известна. Если приложение использует буфер длины/индикатора с данными с фиксированной длиной, драйвер игнорирует любые длины, пройдение в нем.  
  
 Длина как буфера данных, так и содержащихся в нем данных измеряется байтами, в отличие от символов. Это различие не имеет значения для программ, которые используют строки ANSI, потому что длина байтов и символов одинакова.  
  
 Когда буфер данных представляет поле дескриптора, диагностическое поле или атрибут, приложение должно указать диспетчеру драйверов характер аргумента функции, указывающем значение для поля или атрибута. Приложение делает это, устанавливая аргумент длины в любом вызове функции, который устанавливает поле или атрибут к одному из следующих значений. (То же самое относится и к функциям, которые извлекают значения поля или атрибута, за исключением того, что аргумент указывает на значения, которые для функции настройки находятся в самом аргументе.)  
  
-   Если аргумент функции, указывающий значение для поля или атрибута, является указателем строки символов, аргументом *длины* является длина строки или SQL_NTS.  
  
-   Если аргумент функции, указывающий значение для поля или атрибута, является указателем на двоичную буфер, приложение помещает результат SQL_LEN_BINARY_ATTR *(длина)* макроса в аргумент *длины.* Это помещает отрицательное значение в аргумент *длины.*  
  
-   Если аргумент функции, указывающий значение для поля или атрибута, является указателем на значение, кроме строки символов или двоичной строки, аргумент *длины* должен иметь значение SQL_IS_POINTER.  
  
-   Если аргумент функции, указывающий значение для поля или атрибута, содержит значение с фиксированной длиной, аргумент *длины* SQL_IS_INTEGER, SQL_IS_UINTEGER, SQL_IS_SMALLINT или SQL_ISI_USMALLINT по мере необходимости.  
  
 Этот раздел содержит следующие подразделы.  
  
-   [Отложенные буферы](../../../odbc/reference/develop-app/deferred-buffers.md)  
  
-   [Выделение и освобождение буферов](../../../odbc/reference/develop-app/allocating-and-freeing-buffers.md)  
  
-   [Использование буферов данных](../../../odbc/reference/develop-app/using-data-buffers.md)
