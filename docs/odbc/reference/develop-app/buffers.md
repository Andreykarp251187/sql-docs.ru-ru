---
title: Буферы | Документация Майкрософт
ms.custom: ''
ms.date: 01/19/2017
ms.prod: sql
ms.prod_service: connectivity
ms.reviewer: ''
ms.technology: connectivity
ms.topic: conceptual
helpviewer_keywords:
- input buffers [ODBC]
- length/indicator buffers [ODBC]
- output buffers [ODBC]
- buffers [ODBC], about buffers
- application buffers [ODBC]
- buffers [ODBC]
ms.assetid: 42c5226c-cb40-4d1e-809f-2ea50ce6bd55
author: MightyPen
ms.author: genemi
manager: craigg
ms.openlocfilehash: 306632f544f144aa4b21e150543c2d4ca5a37d0e
ms.sourcegitcommit: f7fced330b64d6616aeb8766747295807c92dd41
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "63008025"
---
# <a name="buffers"></a>Буферы
Буфер является любая часть памяти приложения, используемый для передачи данных между приложением и драйвер. Например, буферы приложения может быть связан, или *привязки, а* столбцы с помощью результирующего набора **SQLBindCol**. Так как каждая строка выбрана, данные возвращаются для каждого столбца в буфер. *Входные буферы* используются для передачи данных из приложения для драйвера. *Выходные буферы* используются для возвращения данных из драйвера в приложение.  
  
> [!NOTE]  
>  Если функция ODBC возвращает значение SQL_ERROR, содержимое любой из выходных аргументов этой функции не определено.  
  
 Это обсуждение по признакам в основном с буферами неопределенного типа. Адреса этих буферов отображаются как аргументы типа указатель SQLPOINTER, такие как *TargetValuePtr* аргумента в **SQLBindCol**. Тем не менее, некоторые элементы, описанные здесь, такие как аргументы, используемые с буферами, также применяются к аргументам, используемым для передачи строк в драйвере, такие как *TableName* аргумента в **SQLTables**.  
  
 Эти буферы обычно представлены парами. *Буферы данных* , используется для передачи сами данные, а *буфер длины/индикатора* используются для передачи длину данных в буфере данных, или это специальное значение, например SQL_NULL_DATA, который указывает, что данные имеют значение NULL. Длина данных в буфере данных отличается от длины буфера данных, сам. Ниже показана связь между буфер данных и буфер длины/индикатора.  
  
 ![Буфер данных и длины&#47;буфера индикатора](../../../odbc/reference/develop-app/media/pr09.gif "pr09")  
  
 Буфер длины/индикатора является обязательным, каждый раз, когда буфер данных содержит данные переменной длины, например символьных или двоичных данных. Если буфер данных содержит данные фиксированной длины, например структуру целое число или дату буфер длины/индикатора необходим только для передачи значения индикатора, так как длина данных уже известен. Если приложение использует буфер длины/индикатора с фиксированной длиной данных, драйвер пропускает любой длины, переданной его.  
  
 Длина буфера данных и данных, содержащихся в нем измеряется в байтах, в отличие от символов. Это различие не имеет значения для программ, использующих строки ANSI, так как длина в байтах и символов одинаковы.  
  
 Когда буфер данных представляет поле дескриптора, определяемым драйвером, диагностические поля или атрибута, приложение должно быть указано в диспетчер драйверов характер аргумент функции, который указывает значение для поля или атрибута. Приложение делает это, задав аргумент length в любой вызов функции, которая присваивает значение полю или атрибут к одному из следующих значений. (То же самое касается функций, которые получают значения поля или атрибута, за исключением, что аргумент указывает значения, для параметра функции в качестве аргумента, сам).  
  
-   Если аргумент функции, который указывает значение для поля или атрибут является указателем на строку символов *длина* аргумент представляет собой длину строки или SQL_NTS.  
  
-   Если аргумент функции, который указывает значение для поля или атрибут является указателем на двоичный буфер, приложение помещает результат SQL_LEN_BINARY_ATTR (*длина*) в макрос *длина* аргумент. Это размещает отрицательное значение в *длина* аргумент.  
  
-   Если аргумент функции, который указывает значение для поля или атрибут является указателем на значение, отличное от строку символов или двоичная строка *длина* аргумент должен иметь значение SQL_IS_POINTER.  
  
-   Если аргумент функции, который указывает значение для поля или атрибут содержит значение фиксированной длины, *длина* аргумент является SQL_IS_INTEGER, SQL_IS_UINTEGER, SQL_IS_SMALLINT или SQL_ISI_USMALLINT, соответствующим образом.  
  
 Этот раздел содержит следующие подразделы.  
  
-   [Отложенные буферы](../../../odbc/reference/develop-app/deferred-buffers.md)  
  
-   [Выделение и освобождение буферов](../../../odbc/reference/develop-app/allocating-and-freeing-buffers.md)  
  
-   [Использование буферов данных](../../../odbc/reference/develop-app/using-data-buffers.md)
