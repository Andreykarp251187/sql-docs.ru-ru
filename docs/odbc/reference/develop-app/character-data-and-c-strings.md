---
title: Символьные данные и строки C | Документация Майкрософт
ms.custom: ''
ms.date: 01/19/2017
ms.prod: sql
ms.prod_service: connectivity
ms.reviewer: ''
ms.technology: connectivity
ms.topic: conceptual
helpviewer_keywords:
- data buffers [ODBC], length
- data buffers [ODBC], character data
- buffers [ODBC], C strings
- buffers [ODBC], character data
- character data and buffers [ODBC]
- length of data buffers [ODBC]
- data buffers [ODBC], C strings
- buffers [ODBC], length
- C strings and buffers [ODBC]
ms.assetid: 3a141cb4-229d-4027-9349-615cb2995e36
author: MightyPen
ms.author: genemi
manager: craigg
ms.openlocfilehash: 00daac655f0c435c1ee22239d3d4aafa23065997
ms.sourcegitcommit: f7fced330b64d6616aeb8766747295807c92dd41
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "63217786"
---
# <a name="character-data-and-c-strings"></a>Символьные данные и строки C
Входные параметры, которые ссылаются на данные переменной длины символов (например, имена столбцов, динамических параметров и значений атрибутов строки) имеют связанные длина параметр. Если приложение завершает работу строки с нулевой символ, как это обычно бывает в C, он предоставляет как аргумент, либо длина в байтах строки (не включая конечное значение null) или SQL_NTS (Null-Terminated строка). Аргумент является неотрицательным длина указывает фактическую длину связанные строки. Аргумент length может быть 0, чтобы указать строку нулевой длины, которая отличается от значения NULL. Отрицательное значение SQL_NTS Указывает драйверу, что для определения длины строки, найдя знак завершения null.  
  
 Если символьные данные возвращаются в драйвере в приложение, драйвер должен всегда завершите его. Это предоставляет приложению выбрать, следует ли обрабатывать данные, как строка или массив символов. Если приложение буфера недостаточен для возврата всех символьных данных, драйвер обрезает его до байтовая длина буфера меньше количество байтов, необходимых символом конечное значение null, заканчиваются значением null усекаемые данные и сохраняет его в буфер. Таким образом приложения всегда должен выделить дополнительное место для символа завершения null в буферов, используемых для извлечения символьных данных. Например 51-битным буфером, необходимую для получения 50 символов данных.  
  
 Специальные Будьте осторожны с помощью приложения, драйвер при отправке и получении долго символьные данные в частях с **SQLPutData** или **SQLGetData**. Если данные, передаваемые как ряд строки с завершающим нулем, символы конечное значение null для этих строк необходимо удален, прежде чем данные могут быть собраны.  
  
 Количество программистов ODBC путать символьные данные и строки C. Что произошло является артефактом на языке C при определении функции ODBC. Если в драйвере ODBC или в приложении используется другой язык — помните, что ODBC не зависит от языка — снижает вероятность возникновения этой путаницы.  
  
 Когда строки C используются для хранения символьных данных, знак завершения null не считается частью данных и не учитывается в качестве части его длина в байтах. Например данные знаков «ABC» могут храниться как строка C «ABC\0» или массив символов {'A', 'B', 'C'}. Байтовая длина данных равно 3, независимо от того, имеется ли он рассматривается как строка или массив символов.  
  
 Несмотря на то, что приложения и драйверы часто использовать строки C (нулем массивов знаков) для хранения символьных данных, необязательно для этого. В языке C символьных данных может также рассматриваться как массив символов (без конечное значение null) и его длина в байтах отдельно переданный буфер длины/индикатора.  
  
 Так как символьные данные могут храниться в массиве не нули, и его длина в байтах передаются отдельно, возможна для внедрения нуль-символов в символьные данные. Тем не менее некоторые функции ODBC в этом случае не определен, относящиеся к драйверу ли драйвер обрабатывает это правильно. Таким образом взаимодействующие приложения обязательно выполняйте обработку символьных данных, который может содержать внедренные символы null как двоичные данные.
