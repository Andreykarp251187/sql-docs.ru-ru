---
description: Типы данных C в ODBC
title: Типы данных C в ODBC | Документация Майкрософт
ms.custom: ''
ms.date: 01/19/2017
ms.prod: sql
ms.prod_service: connectivity
ms.reviewer: ''
ms.technology: connectivity
ms.topic: conceptual
helpviewer_keywords:
- data types [ODBC], C data types
- C data types [ODBC], about C data types
- C data types [ODBC]
ms.assetid: c91bef31-3794-4736-966a-d50997b2233c
author: David-Engel
ms.author: v-daenge
ms.openlocfilehash: 395f60860dd3179326687a6c2fb10bbaf027ca3a
ms.sourcegitcommit: e700497f962e4c2274df16d9e651059b42ff1a10
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/17/2020
ms.locfileid: "88494764"
---
# <a name="c-data-types-in-odbc"></a>Типы данных C в ODBC
ODBC определяет типы данных C, используемые переменными приложения и соответствующими идентификаторами типов. Они используются буферами, которые привязаны к столбцам результирующего набора и параметрам инструкции. Например, предположим, что приложению требуется получить данные из столбца результирующего набора в символьном формате. Он объявляет переменную с типом данных SQLCHAR * и привязывает эту переменную к столбцу результирующего набора с идентификатором типа SQL_C_CHAR. Полный список типов данных C и идентификаторов типов см. в разделе [Приложение D. типы данных](../../../odbc/reference/appendixes/appendix-d-data-types.md).  
  
 ODBC также определяет сопоставление по умолчанию для каждого типа данных SQL с типом данных C. Например, 2-байтовое целое число в источнике данных сопоставляется с 2-байтовым целым числом в приложении. Чтобы использовать сопоставление по умолчанию, приложение указывает идентификатор типа SQL_C_DEFAULT. Однако использование этого идентификатора не рекомендуется в целях взаимодействия.  
  
 Все целочисленные типы данных C, определенные в ODBC *1. x* , были подписаны. В ODBC 2,0 были добавлены неподписанные типы данных C и соответствующие идентификаторы типов. По этой причине приложения и драйверы должны быть особенно осторожными при работе с версиями *1. x* .  
  
## <a name="c-data-type-extensibility"></a>Расширяемость типов данных C  
 В ODBC 3,8 можно указать специфические для драйвера типы данных C. Это позволяет привязывать тип SQL как тип C, зависящий от драйвера, в приложениях ODBC при вызове [SQLBindCol](../../../odbc/reference/syntax/sqlbindcol-function.md), [SQLGetData](../../../odbc/reference/syntax/sqlgetdata-function.md)или [SQLBindParameter](../../../odbc/reference/syntax/sqlbindparameter-function.md). Это может быть полезно для поддержки новых типов серверов, поскольку существующие типы данных C могут неправильно представлять новые типы данных сервера. Использование типов C, зависящих от драйвера, может увеличить число преобразований, которые могут выполнять драйверы.  
  
 Например, предположим, что в системе управления базами данных (СУБД) появился новый тип SQL **DateTimeOffset**, который представляет дату и время с данными о часовом поясе. В ODBC нет конкретного типа C, соответствующего **DateTimeOffset**. Приложению пришлось бы привязать **DateTimeOffset** как SQL_C_BINARY и привести его к определяемому пользователем типу данных. Начиная с ODBC 3,8 с расширяемостью типов данных C, драйвер может определять новый соответствующий тип C. Например, для нового типа SQL DATETIMEOFFSET драйвер может определить новый соответствующий тип C, например SQL_C_DATETIMEOFFSET. Затем приложение может привязать новый тип SQL как тип C, зависящий от драйвера.  
  
 Тип данных C определяется в драйвере следующим образом:  
  
-   Уровень совместимости ODBC для приложения, драйвера ODBC и диспетчера драйверов — 3,8 (или более поздней версии).  
  
-   Диапазон данных типа C, относящегося к драйверу, находится между 0x4000 и 0x7FFF.  
  
-   Драйвер определяет структуру данных, соответствующих типу C.  Это можно сделать в пакете SDK для конкретного драйвера.  
  
 Диспетчер драйверов не будет проверять тип C, определенный в диапазоне 0x4000 и 0x7FFF; драйвер выполнит проверку и все преобразования типов данных. Но если диапазон данных типа C, передаваемый диспетчеру драйверов, находится в диапазоне от Символ 0x0000 до 0x3FFF или между 0x8000 и 0xFFFF, диспетчер драйверов проверяет тип данных C.  
  
> [!NOTE]  
>  Типы данных C, относящиеся к драйверу, должны быть описаны в документации по драйверу.  
  
 Чтобы указать уровень совместимости ODBC 3,8, приложение вызывает [SQLSetEnvAttr](../../../odbc/reference/syntax/sqlsetenvattr-function.md) с атрибутом SQL_ATTR_ODBC_VERSION, для которого задано значение **SQL_OV_ODBC3_80**. Чтобы определить версию драйвера, приложение вызывает **SQLGetInfo** с SQL_DRIVER_ODBC_VER.  
  
 Дополнительные сведения о ODBC 3,8 см. [в разделе новые возможности odbc 3,8](../../../odbc/reference/what-s-new-in-odbc-3-8.md).  
  
## <a name="see-also"></a>См. также  
 [Типы данных C](../../../odbc/reference/appendixes/c-data-types.md)
