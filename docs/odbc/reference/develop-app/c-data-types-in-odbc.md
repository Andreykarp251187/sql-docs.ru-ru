---
title: C Типы данных в ODBC Документы Майкрософт
ms.custom: ''
ms.date: 01/19/2017
ms.prod: sql
ms.prod_service: connectivity
ms.reviewer: ''
ms.technology: connectivity
ms.topic: conceptual
helpviewer_keywords:
- data types [ODBC], C data types
- C data types [ODBC], about C data types
- C data types [ODBC]
ms.assetid: c91bef31-3794-4736-966a-d50997b2233c
author: David-Engel
ms.author: v-daenge
ms.openlocfilehash: 5e1efba2187e2c1f2d813d43640fc9259ad4f2b3
ms.sourcegitcommit: ce94c2ad7a50945481172782c270b5b0206e61de
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/14/2020
ms.locfileid: "81306299"
---
# <a name="c-data-types-in-odbc"></a>Типы данных C в ODBC
ODBC определяет типы данных C, используемые переменными приложений и их соответствующими идентификаторами типа. Они используются буферами, которые обязаны привести к установлению столбцов и параметров оператора. Например, предположим, что приложение хочет получить данные из столбца, установленного в результате, в формате символов. Он объявляет переменную с типом данных S'LCHAR и связывает эту переменную с столбцом набора результатов с идентификатором типа SQL_C_CHAR. Полный список типов данных и идентификаторов типов C можно узнать в [приложении D: Типы данных.](../../../odbc/reference/appendixes/appendix-d-data-types.md)  
  
 ODBC также определяет отображение по умолчанию от каждого типа данных S'L к типу данных C. Например, 2-байт овый ряд в источнике данных отображается в 2-байт овый ряд в приложении. Для использования картографирования по умолчанию приложение определяет идентификатор типа SQL_C_DEFAULT. Однако использование этого идентификатора не рекомендуется по причинам совместимости.  
  
 Все универсальные типы данных C, определенные в ODBC *1.x,* были подписаны. Неподписанные типы данных C и соответствующие идентификаторы типа были добавлены в ODBC 2.0. Из-за этого приложения и драйверы должны быть особенно осторожны при работе с *версиями 1.x.*  
  
## <a name="c-data-type-extensibility"></a>C Расширяемость типа данных  
 В ODBC 3.8 можно указать типы данных C, специфичные для драйвера. Это позволяет привязать тип S'L к типу C для драйвера в приложениях ODBC при вызове [S'LBindCol,](../../../odbc/reference/syntax/sqlbindcol-function.md) [S'LGetData](../../../odbc/reference/syntax/sqlgetdata-function.md)или [S'LBindParameter.](../../../odbc/reference/syntax/sqlbindparameter-function.md) Это может быть полезно для поддержки новых типов серверов, поскольку существующие типы данных C могут неправильно представлять новые типы данных сервера. Использование типов C, специфичных для драйверов, может увеличить количество конверсий, которые могут выполнять драйверы.  
  
 Например, предположим, что система управления базами данных (DBMS) ввела новый тип СЗЛ, **DATETIMEOFFSET**, для представления даты и времени с информацией о часовом поясе. Там не будет конкретного типа C в ODBC, которые соответствуют **DATETIMEOFFSET**. Приложение должно связать **DATETIMEOFFSET** как SQL_C_BINARY и бросить его в тип данных, определяемых пользователем. Начиная с ODBC 3.8 с расширяемостью типа c, драйвер может определить новый соответствующий тип C. Например, для нового типа СЗЛ DATETIMEOFFSET драйвер может определить новый соответствующий тип C, например SQL_C_DATETIMEOFFSET. Затем приложение может связать новый тип S'L в качестве конкретного типа C.  
  
 Тип данных C определяется в драйвере следующим образом:  
  
-   Уровень соответствия ODBC для приложения, драйвера ODBC и менеджера драйверов радо 3,8 (или выше).  
  
-   Диапазон данных типа C, одеял водителя, составляет от 0x4000 до 0x7FFF.  
  
-   Драйвер определяет структуру данных, соответствующих типу C.  Это можно сделать в SDK, специфичном для драйвера.  
  
 Менеджер драйвера не будет проверять тип C, определенный в диапазоне 0x4000 и 0x7FFF; водитель будет выполнять проверку и любое преобразование типа данных. Но если диапазон данных типа C, передаваемый менеджеру драйвера, составляет от 0x0000 до 0x3FFF или между 0x8000 и 0xFFFF, менеджер драйвера проверяет тип данных C.  
  
> [!NOTE]  
>  Типы данных C, специфичные для драйвера, должны быть описаны в документации драйвера.  
  
 Чтобы указать уровень соответствия ODBC 3.8, приложение вызывает [S'LSetEnvAttr](../../../odbc/reference/syntax/sqlsetenvattr-function.md) с SQL_ATTR_ODBC_VERSION атрибутом, установленным **SQL_OV_ODBC3_80.** Чтобы определить версию драйвера, приложение вызывает **s'LGetInfo** с SQL_DRIVER_ODBC_VER.  
  
 Для получения дополнительной информации о ODBC 3.8, [см.](../../../odbc/reference/what-s-new-in-odbc-3-8.md)  
  
## <a name="see-also"></a>См. также:  
 [Типы данных C](../../../odbc/reference/appendixes/c-data-types.md)
