---
title: Типы данных C в ODBC | Документация Майкрософт
ms.custom: ''
ms.date: 01/19/2017
ms.prod: sql
ms.prod_service: connectivity
ms.reviewer: ''
ms.technology: connectivity
ms.topic: conceptual
helpviewer_keywords:
- data types [ODBC], C data types
- C data types [ODBC], about C data types
- C data types [ODBC]
ms.assetid: c91bef31-3794-4736-966a-d50997b2233c
author: MightyPen
ms.author: genemi
manager: craigg
ms.openlocfilehash: 3817b33aa294d6081b9fa2ee240e67ac38dd2a25
ms.sourcegitcommit: 56b963446965f3a4bb0fa1446f49578dbff382e0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2019
ms.locfileid: "67793983"
---
# <a name="c-data-types-in-odbc"></a>Типы данных C в ODBC
ODBC определяет типы данных C, которые используются в переменные приложения и их соответствующие идентификаторы типа. Они используются буферами, которые привязаны к столбцам результирующего набора и параметров инструкции. Например предположим, что приложению требуется получить данные из столбцов результирующего набора в символьном формате. Он объявляется переменная с SQLCHAR * тип данных и привязывает эту переменную к столбцу результирующего набора с идентификатором типа SQL_C_CHAR. Полный список типов данных C и идентификаторы типов, см. в разделе [приложение г Типы данных](../../../odbc/reference/appendixes/appendix-d-data-types.md).  
  
 ODBC также определяет сопоставление по умолчанию из каждого типа данных SQL в тип данных C. Например 2-байтовое целое число в приложении сопоставляется 2-байтовое целое число в источнике данных. Чтобы использовать сопоставление по умолчанию, приложение задает идентификатор типа SQL_C_DEFAULT. Тем не менее использовать этот идентификатор не рекомендуется по соображениям совместимости.  
  
 Все типы данных C целое число, определенные в ODBC *1.x* были подписаны. Беззнаковые типы данных C и их соответствующие идентификаторы типа были добавлены в ODBC 2.0. По этой причине приложения и драйверы должны быть особенно внимательным при работе с *1.x* версий.  
  
## <a name="c-data-type-extensibility"></a>Возможность расширения типа данных C  
 В ODBC 3.8 можно указать типы данных C специфические для драйвера. Это позволяет привязать тип SQL как тип C специфические для драйвера в приложениях ODBC, при вызове [SQLBindCol](../../../odbc/reference/syntax/sqlbindcol-function.md), [SQLGetData](../../../odbc/reference/syntax/sqlgetdata-function.md), или [SQLBindParameter](../../../odbc/reference/syntax/sqlbindparameter-function.md). Это может быть полезна для поддержки новых типов серверов, поскольку существующие типы данных C может неправильно представляют новые типы данных для сервера. Использование типов C специфические для драйвера может увеличить число преобразований, которые могут выполнять драйверы.  
  
 Предположим, например, системы управления базами данных (СУБД) появился новый тип SQL, **DATETIMEOFFSET**, чтобы представить дату и время с помощью сведений о часовом поясе. Бы конкретный тип C в ODBC, предоставивших **DATETIMEOFFSET**. Приложение необходимо привязать **DATETIMEOFFSET** как SQL_C_BINARY и приведения его, чтобы определяемый пользователем тип. Начиная с ODBC 3.8 с возможность расширения типа данных C, драйвер можно определить новый соответствующий тип C. Например для нового типа SQL DATETIMEOFFSET драйвер можно определить новый соответствующий тип C, например SQL_C_DATETIMEOFFSET. Затем приложение может привязать новый тип SQL, как тип C специфические для драйвера.  
  
 Тип данных C определяется в драйвере следующим образом:  
  
-   Уровень соответствия для приложения, драйвер ODBC и диспетчер драйверов ODBC 3.8 (или более поздней версии).  
  
-   Диапазон данных, относящиеся к драйверу типа C — от 0x4000 и 0x7FFF.  
  
-   Драйвер определяет структуру данных, соответствующая типу C.  Это можно сделать в пакете SDK для конкретного драйвера.  
  
 Диспетчер драйверов не пройдет проверку типа C, определенного в диапазоне от 0x4000 и 0x7FFF; драйвер выполнит проверку и преобразование типа данных. Но если диапазон данных типа C, диспетчер драйверов, передаваемый между 0x0000 и 0x3FFF или от 0x8000 до 0xFFFF, диспетчер драйверов будут проверять тип данных C.  
  
> [!NOTE]  
>  Типы данных C специфические для драйвера должны быть описаны в документации по драйверу.  
  
 Чтобы указать уровень соответствия ODBC 3.8, приложение вызывает [SQLSetEnvAttr](../../../odbc/reference/syntax/sqlsetenvattr-function.md) SQL_ATTR_ODBC_VERSION атрибута равным **SQL_OV_ODBC3_80**. Чтобы определить версию драйвера, приложение вызывает **SQLGetInfo** с SQL_DRIVER_ODBC_VER.  
  
 Дополнительные сведения об ODBC 3.8, см. в разделе [новые возможности ODBC 3.8](../../../odbc/reference/what-s-new-in-odbc-3-8.md).  
  
## <a name="see-also"></a>См. также  
 [Типы данных C](../../../odbc/reference/appendixes/c-data-types.md)
