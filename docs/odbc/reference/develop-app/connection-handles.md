---
title: Дескрипторы подключений | Документация Майкрософт
ms.custom: ''
ms.date: 01/19/2017
ms.prod: sql
ms.prod_service: connectivity
ms.reviewer: ''
ms.technology: connectivity
ms.topic: conceptual
helpviewer_keywords:
- connection handles [ODBC]
- handles [ODBC], connection
ms.assetid: 12222653-f04d-46d6-bdee-61348f5d550f
author: MightyPen
ms.author: genemi
ms.openlocfilehash: ab8b94835fb9a6103436026a669c86f2401d57b0
ms.sourcegitcommit: b87d36c46b39af8b929ad94ec707dee8800950f5
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2020
ms.locfileid: "68036429"
---
# <a name="connection-handles"></a>Дескрипторы подключений
*Соединение* состоит из драйвера и источника данных. Каждый из подключений идентифицируется с помощью маркера соединения. Этот обработчик определяет не только используемый драйвер, но и источник данных для использования с этим драйвером. В сегменте кода, который реализует ODBC (диспетчер драйверов или драйвер), маркер подключения определяет структуру, содержащую сведения о соединении, например следующие:  
  
-   Состояние соединения  
  
-   Текущая диагностика на уровне соединения  
  
-   Дескрипторы операторов и дескрипторов, выделенных в данный момент для соединения  
  
-   Текущие параметры каждого атрибута соединения  
  
 ODBC не предотвращает несколько одновременных подключений, если они поддерживаются драйвером. Таким образом, в конкретной среде ODBC несколько дескрипторов подключения могут указывать на различные драйверы и источники данных, на один и тот же драйвер и различные источники данных, а также на несколько подключений к одному и тому же драйверу и источнику данных. Некоторые драйверы ограничивают количество активных подключений, которые они поддерживают. параметр SQL_MAX_DRIVER_CONNECTIONS в **SQLGetInfo** указывает, сколько активных подключений поддерживает конкретный драйвер.  
  
 Дескрипторы подключений в основном используются при подключении к источнику данных (**SQLConnect**, **SQLDriverConnect**или **SQLBrowseConnect**), отключению от источника данных (**SQLDisconnect**), получению сведений о драйвере и источнике данных (**SQLGetInfo**), извлечению диагностики (**SQLGetDiagField** и **SQLGetDiagRec**) и выполнению транзакций (**SQLEndTran**). Они также используются при задании и получении атрибутов соединения (**SQLSetConnectAttr** и **SQLGetConnectAttr**) и при получении собственного формата инструкции SQL (**SQLNativeSql**).  
  
 Дескрипторы подключений выделяются с помощью **функцию SQLAllocHandle** и освобождаются с помощью **SQLFreeHandle**.
