---
title: Блокировать курсоры | Документация Майкрософт
ms.custom: ''
ms.date: 01/19/2017
ms.prod: sql
ms.prod_service: connectivity
ms.reviewer: ''
ms.technology: connectivity
ms.topic: conceptual
helpviewer_keywords:
- cursors [ODBC], block
- block cursors [ODBC]
- result sets [ODBC], block cursors
ms.assetid: 1a92b5d8-7c6e-4ce5-8c99-600a387026aa
author: MightyPen
ms.author: genemi
ms.openlocfilehash: 3e0ea6ff655140c979f400f67a59cd7259bac9e5
ms.sourcegitcommit: b87d36c46b39af8b929ad94ec707dee8800950f5
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2020
ms.locfileid: "68118822"
---
# <a name="block-cursors"></a>Блочные курсоры
Многие приложения тратят значительное количество времени на перенос данных по сети. Часть этого времени посвящена переносу данных по сети, и ее часть занимается сетевыми издержками, например вызовом, сделанным драйвером для запроса строки данных. Последнее время можно уменьшить, если приложение эффективно использует *блок* или *FAT* *, которые могут* возвращать более одной строки за раз.  
  
 Приложение всегда имеет возможность использовать блочный курсор. В источниках данных, из которых можно получить только одну строку за раз, в драйвере должны быть смоделированы блочные курсоры. Это можно сделать, выполнив несколько однострочных выборок. Хотя это маловероятно и не дает никакого выигрыша в производительности, он открывает возможности для приложений. Такие приложения увеличивают производительность, так как СУБД реализуют блочные курсоры в собственном виде, а драйверы, связанные с этими СУБД, предоставляют их.  
  
 Строки, возвращаемые в одной выборки с блочным курсором, называются *набором строк*. Важно не путать набор строк с результирующим набором. Результирующий набор сохраняется в источнике данных, а набор строк сохраняется в буферах приложений. В то время как результирующий набор является фиксированным, набор строк не — он изменяет расположение и содержимое каждый раз, когда извлекается новый набор строк. Как и однострочный курсор, такой как традиционные однонаправленные курсоры SQL к текущей строке, блочный курсор указывает на набор строк, который можно рассматривать как *текущие строки*.  
  
 Для выполнения операций, выполняемых с одной строкой при выборке нескольких строк, приложение должно сначала указать, какая строка является текущей строкой. Текущая строка необходима для вызовов **SQLGetData** и позиционированных инструкций UPDATE и DELETE. Когда блочный курсор сначала возвращает набор строк, текущая строка является первой строкой набора строк. Чтобы изменить текущую строку, приложение вызывает **SQLSetPos** или **SQLBulkOperations** (для обновления по закладке). На следующем рисунке показана связь результирующего набора, набора строк, текущей строки, курсора набора строк и блочного курсора. Дополнительные сведения см. в разделах [Использование блочных курсоров](../../../odbc/reference/develop-app/using-block-cursors.md)далее в этом разделе, [инструкции по позиционированным обновлениям и удалению](../../../odbc/reference/develop-app/positioned-update-and-delete-statements.md) и [Обновление данных с помощью функции SQLSetPos](../../../odbc/reference/develop-app/updating-data-with-sqlsetpos.md).  
  
 ![Выборка следующего, предыдущего, первого и последнего набора строк](../../../odbc/reference/develop-app/media/pr20_2.gif "pr20_2")  
  
 Независимо от того, является ли курсор блочным курсором, он не зависит от того, является ли он прокруткой. Например, большая часть работы в приложении отчетов потратила на получение и печать строк. По этой причине он будет работать быстрее с однопроходным блочным курсором. Он использует однонаправленный курсор, чтобы избежать расходов на прокручиваемый курсор, и блочный курсор для уменьшения сетевого трафика.  
  
 Этот раздел содержит следующие подразделы.  
  
-   [Привязка столбцов для использования с блочными курсорами](../../../odbc/reference/develop-app/binding-columns-for-use-with-block-cursors.md)  
  
-   [Использование блочных курсоров](../../../odbc/reference/develop-app/using-block-cursors.md)  
  
-   [Массив статусов строк](../../../odbc/reference/develop-app/row-status-array.md)
