---
title: Уровни изоляции транзакций | Документы Майкрософт
ms.custom: ''
ms.date: 01/19/2017
ms.prod: sql
ms.prod_service: connectivity
ms.reviewer: ''
ms.technology: connectivity
ms.topic: conceptual
helpviewer_keywords:
- dirty reads [ODBC]
- isolation levels [ODBC]
- nonrepeatable reads [ODBC]
- read uncommitted [ODBC]
- read committed [ODBC]
- serializable reads [ODBC]
- phantoms [ODBC]
- transaction isolation [ODBC]
- repeatable reads [ODBC]
- transactions [ODBC], isolation
ms.assetid: 0d638d55-ffd0-48fb-834b-406f466214d4
author: MightyPen
ms.author: genemi
ms.openlocfilehash: 83197b1b487db6c52a8fe9b7a57dd6af55c33571
ms.sourcegitcommit: b2464064c0566590e486a3aafae6d67ce2645cef
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/15/2019
ms.locfileid: "67985106"
---
# <a name="transaction-isolation-levels"></a>Уровни изоляции транзакций
*Уровни изоляции транзакций* — это единицы измерения протяженности по изоляции для транзакций выполняется успешно. В частности уровни изоляции транзакций определяется наличие или отсутствие следующих явлений:  
  
-   **"Грязных" операций чтения** объект *«грязное» чтение* возникает, когда транзакция считывает данные, которые еще не были зафиксированы. Например предположим, что транзакция 1 обновляет строку. Транзакция 2 считывает обновленную строку, прежде чем обновление фиксируется транзакция 1. Если транзакция 1 откат изменений, транзакция 2 будет считывать данные, считается никогда не существовало.  
  
-   **Неповторяющееся чтение** объект *неповторяющееся чтение* возникает, когда транзакция считывает ту же строку дважды, но возвращает разные данные каждый раз. К примеру Предположим, что операции чтения транзакция 1 строку. Транзакция 2 обновляет или удаляет эту строку и фиксирует update или delete. Если транзакция 1 заново считывает строки, он извлекает значения разных строк или обнаруживает, что строка была удалена.  
  
-   **Фантомные объекты** объект *фантомов* является строкой, соответствующий критерию поиска, но не отображается изначально. Например предположим, что транзакция 1 считывает набор строк, отвечающих некоторым критериям поиска. Транзакция 2 создает новую строку (с помощью обновления или вставки), соответствующий критериям поиска для транзакции 1. Если транзакция 1 reexecutes инструкцию, которая считывает строки, он получает другой набор строк.  
  
 Уровни изоляции четыре транзакций (в соответствии с SQL-92) определяются в терминах этих процессов. В следующей таблице значок «X» помечает каждый явление, которое может произойти.  
  
|уровень изоляции транзакции|«Грязные» чтения|Неповторяющееся чтение|Фантомные объекты|  
|---------------------------------|-----------------|-------------------------|--------------|  
|Уровень изоляции read uncommitted|X|X|X|  
|Уровень изоляции read committed|--|X|X|  
|Уровень изоляции repeatable read|--|--|X|  
|Упорядочиваемый уровень изоляции|--|--|--|  
  
 Следующая таблица описывает простые способы, что СУБД может реализовать уровни изоляции транзакций.  
  
> [!IMPORTANT]  
>  Большинство СУБД использовать более сложные схемы, чем они повысить параллелизм. Эти примеры приведены только для иллюстрации. В частности, ODBC не предписывает как определенной СУБД изолировать операции друг от друга.  
  
|уровень изоляции транзакции|Возможная реализация|  
|---------------------------|-----------------------------|  
|Уровень изоляции read uncommitted|Транзакции не изолированы друг от друга. Если СУБД это поддерживает другие уровни изоляции транзакций, он игнорирует любой механизм, который используется для реализации этих уровней. Чтобы они не влияют на отрицательно других транзакций, транзакции, выполняемые на уровне Read Uncommitted, обычно доступный только для чтения.|  
|Уровень изоляции read committed|Транзакция ожидает, пока не разблокируются строк заблокирован для записи других транзакций; Это предотвращает его чтение данные «грязный».<br /><br /> Содержит транзакции, блокировку чтения (если только он считывает строку) или записи блокировки на текущей строке, для предотвращения другими транзакциями на обновление или удаление его (если он обновляет или удаляет строку). Транзакция освобождает блокировки чтения, когда она перемещается за пределы текущей строки. Он удерживает блокировку записи, до фиксации или отката.|  
|Уровень изоляции repeatable read|Транзакция ожидает, пока не разблокируются строк заблокирован для записи других транзакций; Это предотвращает его чтение данные «грязный».<br /><br /> Транзакция удерживает блокировки чтения всех строк, он возвращает блокировки приложения и записи для всех строк, его операций вставки, обновления или удаления. Например, если транзакция содержит инструкцию SQL, **ВЫБЕРИТЕ \* заказы из**, блокировки транзакций, чтения строк, как приложение извлекает их. Если транзакция содержит инструкцию SQL, **удалить из заказов ГДЕ состояние = «ЗАКРЫТО»** , блокировки транзакций, запись строк как удаляет их.<br /><br /> Так как другие транзакции не удается обновить или удалить эти строки, текущая транзакция позволяет избежать любой неповторяющееся чтение. Транзакция освобождает свои блокировки, когда он фиксируется или откатывается назад.|  
|Упорядочиваемый уровень изоляции|Транзакция ожидает, пока не разблокируются строк заблокирован для записи других транзакций; Это предотвращает его чтение данные «грязный».<br /><br /> Транзакция удерживает блокировку чтения (если только он считывает строки) или блокировку записи (если его можно обновить или удалить строки) на диапазон строк влияет на. Например, если транзакция содержит инструкцию SQL, **ВЫБЕРИТЕ \* заказы из**, диапазон — от всего таблицы Orders; транзакция чтения блокировки таблицы и не допускает новых строк для вставки в него. Если транзакция содержит инструкцию SQL, **удалить из заказов ГДЕ состояние = «ЗАКРЫТО»** , диапазон — от всех строк с состоянием «ЗАКРЫТО»; блокировки транзакций, записи всех строк в заказы таблицы с состоянием «CLOSED», а не не Разрешить все строки вставлять или обновлять таким образом, чтобы результирующей строке находится в состоянии «ЗАКРЫТО».<br /><br /> Так как другие транзакции не удается обновить или удалить строки в диапазоне, текущая транзакция позволяет избежать любой неповторяющееся чтение. Поскольку другим транзакциям вставлять строки в диапазоне, текущая транзакция позволяет избежать любой фантомы. Транзакция освобождает его блокировки, при фиксации или отката.|  
  
 Важно отметить, что уровень изоляции транзакции не влияет на возможность транзакций см. в разделе изменения; транзакции всегда разрешено просматривать любые изменения, которые они делают. Например, транзакция может состоять из двух **обновления** инструкций, первая из которых вызывает оплаты всех сотрудников на 10 процентов и второй из которых задает оплаты все работники некоторое максимальное значение в этот период. Эта команда выполняется успешно как одна транзакция только потому, что второй **обновления** инструкции можно было видеть результаты первого.
