---
description: Компиляция программы на Embedded SQL
title: Компиляция внедренной программы SQL | Документация Майкрософт
ms.custom: ''
ms.date: 01/19/2017
ms.prod: sql
ms.prod_service: connectivity
ms.reviewer: ''
ms.technology: connectivity
ms.topic: conceptual
helpviewer_keywords:
- SQL [ODBC], embedded SQL
- SQL statements [ODBC], embedded SQL
- compiling embedded SQL programs [ODBC]
- embedded SQL [ODBC]
ms.assetid: 9e94146a-5b80-4a01-b586-1e03ff05b9ac
author: David-Engel
ms.author: v-daenge
ms.openlocfilehash: 5065d50bd9ae23cc7db8a2310b13792b461da2a5
ms.sourcegitcommit: e700497f962e4c2274df16d9e651059b42ff1a10
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/17/2020
ms.locfileid: "88386080"
---
# <a name="compiling-an-embedded-sql-program"></a>Компиляция программы на Embedded SQL
Поскольку внедренная программа SQL содержит сочетания инструкций SQL и языка размещения, она не может быть передана непосредственно компилятору для основного языка. Вместо этого он компилируется с помощью многоэтапного процесса. Несмотря на то что этот процесс отличается от продукта к продукту, шаги примерно одинаковы для всех продуктов.  
  
 На этом рисунке показаны шаги, необходимые для компиляции внедренной программы SQL.  
  
 ![Шаги для компиляции встроенной программы SQL](../../odbc/reference/media/pr02.gif "pr02")  
  
 Компиляция внедренной программы SQL состоит из пяти шагов.  
  
1.  Внедренная программа SQL отправляется в предкомпилятор SQL, средство программирования. Предкомпилятор сканирует программу, находит внедренные инструкции SQL и обрабатывает их. Для каждого языка программирования, поддерживаемого СУБД, необходим другой предкомпилятор. Как правило, продукты СУБД предлагают предкомпиляторы для одного или нескольких языков, включая C, Pascal, COBOL, Fortran, Ada, PL/I и различные языки сборки.  
  
2.  Предкомпилятор создает два выходных файла. Первый файл является исходным файлом, в результате чего удаляются его внедренные инструкции SQL. В своем месте Предварительная компилятор заменяет вызовы к собственным подпрограммам СУБД, которые предоставляют ссылку времени выполнения между программой и СУБД. Как правило, имена и последовательности вызовов этих подпрограмм известны только для предкомпиляции и СУБД. они не являются общедоступными интерфейсами СУБД. Второй файл представляет собой копию всех внедренных инструкций SQL, используемых в программе. Этот файл иногда называют модулем запроса базы данных или ДБРМ.  
  
3.  Выходные данные исходного файла из предкомпиляции передаются стандартному компилятору для языка программирования узла (например, компилятора C или COBOL). Компилятор обрабатывает исходный код и создает объектный код в качестве выходных данных. Обратите внимание, что этот шаг не имеет отношения к СУБД или SQL.  
  
4.  Компоновщик принимает модули объектов, созданные компилятором, связывает их с различными библиотечными подпрограммами и создает исполняемую программу. Библиотечные процедуры, связанные с исполняемой программой, включают в себя подпрограммы СУБД, описанные в шаге 2.  
  
5.  Модуль запроса базы данных, созданный предкомпилятором, отправляется специальной служебной программе привязки. Эта программа проверяет инструкции SQL, анализирует, проверяет и оптимизирует их, а затем создает план доступа для каждой инструкции. Результатом является объединенный план доступа для всей программы, представляющий исполняемую версию внедренных инструкций SQL. Программа привязки сохраняет план в базе данных, обычно назначая ей имя программы, которая будет использоваться приложением. Происходит ли это действие во время компиляции или во время выполнения, зависит от СУБД.  
  
 Обратите внимание, что шаги, используемые для компиляции внедренной программы SQL, точно соответствуют действиям, описанным выше в разделе [Обработка инструкции SQL](../../odbc/reference/processing-a-sql-statement.md). В частности, обратите внимание, что предварительная компилятор отделяет инструкции SQL от кода языка узла, а программа привязки анализирует и проверяет инструкции SQL и создает планы доступа. В СУБД, где шаг 5 происходит во время компиляции, первые четыре шага обработки инструкции SQL происходят во время компиляции, а последний шаг (выполнение) происходит во время выполнения. Это влияет на выполнение запросов в таких СУБД очень быстро.
