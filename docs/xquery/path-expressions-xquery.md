---
title: Выражения пути (XQuery) | Документация Майкрософт
ms.custom: ''
ms.date: 03/17/2017
ms.prod: sql
ms.prod_service: sql
ms.reviewer: ''
ms.technology: xml
ms.topic: language-reference
dev_langs:
- XML
helpviewer_keywords:
- axis step [XQuery]
- path expressions [XQuery]
- expressions [XQuery], path
ms.assetid: b93fa36c-bf69-46b9-b137-f597d66fd0c0
author: rothja
ms.author: jroth
ms.openlocfilehash: 9be2fb8752f27164e0e6dbc59e499f4b048d8979
ms.sourcegitcommit: b87d36c46b39af8b929ad94ec707dee8800950f5
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2020
ms.locfileid: "67946395"
---
# <a name="path-expressions-xquery"></a>Выражения пути (XQuery)
[!INCLUDE[tsql-appliesto-ss2012-xxxx-xxxx-xxx-md](../includes/tsql-appliesto-ss2012-xxxx-xxxx-xxx-md.md)]

  Выражения пути XQuery определяют местонахождение узлов, например элементов, атрибутов и текстовых узлов, в документе. Результат выражения пути всегда возвращается согласно порядку расположения узлов в документе, и узлы в результирующей последовательности не дублируются. Указывая путь, можно использовать полный или сокращенный синтаксис. Далее рассматривается полный синтаксис. Сокращенный синтаксис описывается ниже в этом разделе.  
  
> [!NOTE]  
>  Так как примеры запросов в этом разделе указаны для столбцов типа **XML** , **CatalogDescription** и **инструкции**, в таблице **ProductModel** следует ознакомиться с содержимым и структурой XML-документов, хранящихся в этих столбцах.  
  
 Путь в выражении может быть относительным или абсолютным. Ниже приведено описание обоих типов.  
  
-   Выражение относительного пути составляется из одного или более шагов, разделенных одним или двумя знаками косой черты (/ или //). Например `child::Features` — выражение относительного пути, где `Child` относится только к дочерним узлам текущего узла. Текущим называется узел, обрабатываемый в данный момент. Выражение получает \<компоненты,> дочерние узлы узла контекста.  
  
-   Выражение абсолютного пути начинается с одного или двух знаков косой черты (/ или //), за которыми следует необязательный относительный путь. Например, знак косой черты в начале выражения `/child::ProductDescription` означает, что это выражение абсолютного пути. Поскольку знак косой черты в начале выражения возвращает корневой узел документа контекстного узла, выражение возвращает все дочерние узлы \<ProductDescription> элемента корневого узла документа.  
  
     Если абсолютный путь начинается с одного знака косой черты, за ним может следовать относительный путь, а может и не следовать. Если выражение содержит только один знак косой черты, возвращается корневой узел для текущего узла. В типе данных XML это узел документа.  
  
 Типичное выражение пути состоит из шагов. Например, абсолютное выражение пути, `/child::ProductDescription/child::Summary`, содержит два шага, разделенные косой чертой.  
  
-   Первый шаг извлекает дочерние узлы \<ProductDescription> элемента корневого каталога документа.  
  
-   Второй шаг извлекает элементы \<сводки> дочерних узлов для каждого полученного \<узла элемента> ProductDescription, который, в свою очередь, преобразуется в контекстный узел.  
  
 Шаг в выражении пути может быть шагом оси или основным шагом.  
  
## <a name="axis-step"></a>Шаг оси  
 Шаг оси в выражении пути включает в себя следующие компоненты.  
  
 [категорий](../xquery/path-expressions-specifying-axis.md)  
 Определяет направление движения. Шаг оси в выражении пути, начинающегося с текущего узла и ведущего к узлам, доступным в направлении, указанным осью.  
  
 [проверка узла](../xquery/path-expressions-specifying-node-test.md)  
 Задает тип или имена узлов, которые будут выбраны.  
  
 Ноль или более необязательных предикатов  
 Фильтруют узлы, выбирая одни и пропуская другие.  
  
 В следующих примерах используется **аксисстеп** в выражениях пути:  
  
-   Выражение абсолютного пути `/child::ProductDescription` содержит только один шаг. Оно определяет ось (`child`) и проверку узла (`ProductDescription`).  
  
-   Выражение относительного пути `child::ProductDescription/child::Features` содержит два шага, разделенных косой чертой. Оба шага задают ось — дочерние элементы. ProductDescription и Features — проверки узлов.  
  
-   Выражение относительного пути, `child::root/child::Location[attribute::LocationID=10]`, содержит два шага, разделенные косой чертой. Первый шаг определяет ось (`child`) и проверку узла (`root`). Второй шаг содержит все три компонента шага оси: ось (child), проверку узлов (`Location`) и предикат (`[attribute::LocationID=10]`).  
  
 Дополнительные сведения о компонентах шага оси см. в разделе [Указание оси на шаге выражения пути](../xquery/path-expressions-specifying-axis.md), [Указание проверки узла в шаге выражения пути](../xquery/path-expressions-specifying-node-test.md)и [Указание предикатов в шаге выражения пути](../xquery/path-expressions-specifying-predicates.md).  
  
## <a name="general-step"></a>Основной шаг  
 Основной шаг представляет собой обычное выражение, значением которого должна быть последовательность узлов.  
  
 Реализация XQuery в SQL Server допускает основные шаги в первых шагах выражений пути. Далее приведены примеры выражений пути с использованием основных шагов.  
  
```  
(/a, /b)/c  
id(/a/b)  
```  
  
 Дополнительные сведения о функции ID см. в разделе [функция id &#40;XQuery&#41;](../xquery/functions-on-sequences-id.md).  
  
## <a name="in-this-section"></a>в этом разделе  
 [Указание оси на шаге выражения пути](../xquery/path-expressions-specifying-axis.md)  
 Описывает работу с шагом оси в выражениях пути.  
  
 [Установка проверки узла в шаге выражения пути](../xquery/path-expressions-specifying-node-test.md)  
 Описывает работу с проверкой узлов в выражениях пути.  
  
 [Определение предикатов в шаге выражения пути](../xquery/path-expressions-specifying-predicates.md)  
 Описывает работу с предикатами в выражениях пути.  
  
 [Использование сокращенного синтаксиса в выражении пути](../xquery/path-expressions-using-abbreviated-syntax.md)  
 Описывает использование сокращенного синтаксиса в выражениях пути.  
  
  
