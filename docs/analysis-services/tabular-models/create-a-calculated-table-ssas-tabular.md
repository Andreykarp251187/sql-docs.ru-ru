---
title: Создание вычисляемой таблицы в табличных моделях служб Analysis Services | Документация Майкрософт
ms.date: 12/19/2018
ms.prod: sql
ms.technology: analysis-services
ms.custom: tabular-models
ms.topic: conceptual
ms.author: owend
ms.reviewer: owend
author: minewiskan
manager: kfile
ms.openlocfilehash: 199096efcdf9212e19e1055f1276079eddfb1a75
ms.sourcegitcommit: f7fced330b64d6616aeb8766747295807c92dd41
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "62469378"
---
# <a name="create-a-calculated-table"></a>Создание вычисляемой таблицы 
[!INCLUDE[ssas-appliesto-sqlas-aas](../../includes/ssas-appliesto-sqlas-aas.md)]
  *Вычисляемая таблица* представляет собой объект, вычисляемый на основе выражения или запроса DAX и наследуемый (полностью или частично) от других таблиц в той же модели.  
  
 Основной задачей, решаемой с помощью вычисляемых таблиц, является подключение ролевого измерения в определенном контексте, чтобы представить его в виде структуры запроса в клиентских приложениях.  Как вы помните, ролевое измерение — это таблица, подключаемая в нескольких контекстах. В качестве классического примера можно привести таблицу Date, которая представляется как OrderDate, ShipDate или DueDate в зависимости от связи по внешнему ключу. Создав вычисляемую таблицу для ShipDate, вы получите автономную таблицу, к которой можно отправлять запросы и с которой можно работать так же, как с любой другой таблицей. Другим вариантом использования включает в себя настройку отфильтрованного набора строк, подмножества или супермножества столбцов на основании других существующих таблиц. Это позволяет сохранить исходную таблицу без изменений, создавая ее варианты для решения определенных задач.  
  
 Для максимально эффективного использования вычисляемых таблиц потребуются определенные знания DAX. При работе с выражениями таблицы, полезно знать, что вычисляемая таблица содержит один раздел с DAXSource, где выражение является выражением DAX.  
Для каждого столбца, возвращаемого выражением, имеется один столбец CalculatedTableColumn, где SourceColumn — это имя возвращенного столбца (аналогично с DataColumn для невычисляемых таблиц). 

Хотя бы одна таблица должна существовать до создания вычисляемой таблицы. Если вы создаете вычисляемой таблицы, как с автономным объектом вычисляемые таблицы, вы можете сначала создать таблицу путем импорта из источника данных (csv, xls, xml). Импорт из файла может иметь один столбец и одно значение. Затем можно скрыть эту таблицу. 
  
## <a name="how-to-create-a-calculated-table"></a>Создание вычисляемой таблицы  
  
1.  Во-первых убедитесь, что табличная модель имеет уровень совместимости 1200 или выше. Он указан в свойстве **Уровень совместимости** модели в SSDT.  
  
2.  Перейдите в представление данных. В представлении диаграммы создать вычисляемую таблицу нельзя.  
  
3.  Выберите **Таблица** > **Новая вычисляемая таблица**.  
  
4.  Введите или вставьте выражение DAX (ниже приведено несколько примеров).  
  
5.  Дайте таблице имя.  
  
6.  Создайте связи с другими таблицами в модели. См. в разделе [создать связи между двумя таблицами](../../analysis-services/tabular-models/create-a-relationship-between-two-tables-ssas-tabular.md) Если вам нужна помощь с выполнением этого шага.  
  
7.  Добавьте ссылки на таблицу в вычислениях или выражениях вашей модели либо воспользуйтесь функцией **Анализ в Excel** для нерегламентированного анализа данных.  
  
### <a name="replicate-a-role-playing-dimension"></a>Репликация ролевого измерения  
 В строке формулы введите формулу DAX, которая получает копию другой таблицы. Когда вычисляемая таблица будет заполнена, присвойте ей описательное имя и настройте отношение, которое использует внешний ключ, относящийся к роли. Например, в базе данных Adventure Works можно создать вычисляемую таблицу дат выполнения и использовать DueDateKey в качестве основания связи с таблицей фактов.  
  
```  
=DimDate  
```  
  
### <a name="summarized-or-filtered-dataset"></a>Сводный или отфильтрованный набор данных  
 В строке формул введите выражение DAX, которое фильтрует, суммирует или иным образом обрабатывает набор данных, чтобы он содержал нужные вам строки. В этом примере выполняется группировка по цвету и валюте.  
  
```  
=SUMMARIZECOLUMNS(DimProduct[Color]  
, DimCurrency[CurrencyName]   
, "Sales" , SUM(FactInternetSales[SalesAmount])  
)  
```  
  
### <a name="superset-using-columns-from-multiple-tables"></a>Супермножество для столбцов из нескольких таблиц  
 В строке формул введите выражение DAX, которое объединяет столбцы из нескольких таблиц. В этом случае результатом запроса является список категорий продуктов по каждой валюте.  
  
```  
=CROSSJOIN(DimProductCategory, DimCurrency)  
```  
  
## <a name="see-also"></a>См. также  
 [Уровень совместимости](../../analysis-services/tabular-models/compatibility-level-for-tabular-models-in-analysis-services.md)   
 [Выражения анализа данных (DAX) в службах Analysis Services](http://msdn.microsoft.com/library/abb336c9-3346-4cab-b91b-90f93f4575e5)   
 [Основные сведения о DAX в табличных моделях](../../analysis-services/tabular-models/understanding-dax-in-tabular-models-ssas-tabular.md)  
  
  
