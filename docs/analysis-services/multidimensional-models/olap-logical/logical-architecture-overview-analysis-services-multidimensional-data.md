---
title: Обзор логической архитектуры (службы Analysis Services — многомерные данные) | Документация Майкрософт
ms.date: 05/02/2018
ms.prod: sql
ms.technology: analysis-services
ms.custom: olap
ms.topic: conceptual
ms.author: owend
ms.reviewer: owend
author: minewiskan
manager: kfile
ms.openlocfilehash: aca12552338eb05549199b22af3a63e9f4b4a101
ms.sourcegitcommit: 3026c22b7fba19059a769ea5f367c4f51efaf286
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/15/2019
ms.locfileid: "68208629"
---
# <a name="logical-architecture-overview-analysis-services---multidimensional-data"></a>Обзор логической архитектуры (службы Analysis Services — многомерные данные)
[!INCLUDE[ssas-appliesto-sqlas](../../../includes/ssas-appliesto-sqlas.md)]
  Службы Analysis Services работают в режиме развертывания сервера, который определяет архитектуру памяти и среду выполнения, используемую моделями Analysis Services различных типов. Режим сервера определяется во время установки. **Многомерный и интеллектуальный анализ данных режим** поддерживает традиционный OLAP и интеллектуального анализа данных. **Табличный режим** поддерживает табличные модели. **В режиме интеграции с SharePoint** ссылается на экземпляр служб Analysis Services, который был установлен как [!INCLUDE[ssGemini](../../../includes/ssgemini-md.md)] для SharePoint, используемый для загрузки и запросов к Excel или [!INCLUDE[ssGemini](../../../includes/ssgemini-md.md)] моделей данных в книге.  
  
 В этом разделе рассматривается основная архитектура служб Analysis Services, применяемая в режиме многомерных данных и интеллектуального анализа данных. Дополнительные сведения о других режимах см. в разделе [табличное моделирование](../../../analysis-services/tabular-models/tabular-models-ssas.md) и [сравнение табличных и многомерных решений](../../../analysis-services/comparing-tabular-and-multidimensional-solutions-ssas.md).  
  
## <a name="basic-architecture"></a>Базовая архитектура  
 Экземпляр служб [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)] может содержать несколько баз данных, а в базе данных могут одновременно присутствовать объекты OLAP и объекты интеллектуального анализа данных. Приложения подключаются к указанному экземпляру служб [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)] и к указанной базе данных. На серверном компьютере может эксплуатироваться несколько экземпляров служб [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)]. Экземпляры [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)] именуются как "\<ServerName >\\< имя_экземпляра\>«. На следующем рисунке показано все упомянутые связи между [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)] объектов.  
  
 ![Связи между объектами AMO во время выполнения](../../../analysis-services/multidimensional-models/olap-logical/media/amo-runningobjects.gif "связи между объектами AMO во время выполнения")  
  
 Основные классы представляют собой минимальный набор объектов, требуемый для формирования куба. Этот минимальный набор объектов включает измерение, группу мер и секцию. Определение статистической обработки является необязательным.  
  
 Измерения создаются на основе атрибутов и иерархий. Иерархии формируются с использованием упорядоченного набора атрибутов, такого, что каждый атрибут соответствует одному из уровней в иерархии.  
  
 Кубы создаются на основе измерений и групп мер. Измерения в коллекции измерений куба принадлежат к коллекции измерений базы данных. Группы мер — это коллекции мер, которые имеют одно и то же представление источника данных и одно и то же подмножество измерений в кубе. Группа мер имеет одну или несколько секций, предназначенных для управления физическими данными. Группа мер может иметь применяемую по умолчанию статистическую схему. Статистическая схема по умолчанию может использоваться во всех секциях в группе мер; кроме того, каждая секция может иметь собственную статистическую схему.  
  
 Объекты сервера  
 Каждый экземпляр служб [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)] рассматривается как отдельный объект сервера среди объектов AMO; каждый отдельный экземпляр подключается к объекту <xref:Microsoft.AnalysisServices.Server> с помощью отдельного соединения. Каждый объект сервера содержит один или несколько источников данных, представлений источников данных и объектов баз данных, а также сборки и роли безопасности.  
  
 Объекты измерений  
 Каждый объект базы данных содержит несколько объектов измерения. Каждый объект измерения содержит один или несколько атрибутов, которые организованы в виде иерархий.  
  
 Объекты куба  
 Каждый объект базы данных содержит один или несколько объектов куба. Куб задается его мерами и измерениями. Меры и измерения куба выводятся из таблиц и представлений в представлении источника данных, на котором основан куб или который создан из определений мер и измерений.  
  
## <a name="object-inheritance"></a>Наследование объектов  
 Объектная модель ASSL содержит много повторяющихся групп элементов. Например, группа элементов, "**измерения** содержат **иерархий**,» определяет иерархию измерений элемента. Оба **кубы** и **MeasureGroups** группа элементов, содержащих "**измерения** содержат **иерархий**.»  
  
 Если элемент не переопределяется явно, он наследует все характеристики этой повторяющейся группы элементов от более высокого уровня. Например **переводы** для **CubeDimension** аналогичны **переводы** для своего предка элемента **куба**.  
  
 Чтобы иметь возможность явно переопределять свойства, унаследованные от объекта более высокого уровня, не обязательно явно повторять в объекте всю структуру и свойства объекта высокого уровня. Единственными свойствами, которые требуют явного определения в объекте, являются те свойства, которые необходимо переопределить. Например **CubeDimension** могут быть перечислены только те **иерархий** , нужно отключить в **куба**, или для которого необходимо изменить видимость или для которых некоторые **Уровень** сведения не были предоставлены в **измерения** уровень.  
  
 Некоторые свойства, заданные в объекте, предоставляют применяемые по умолчанию значения для дочерних объектов или объектов-потомков. Например **Cube.StorageMode** предоставляет значение по умолчанию для **Partition.StorageMode**. Что касается унаследованных значений по умолчанию, то в ASSL для унаследованных значений по умолчанию применяются следующие правила.  
  
-   Если свойство для дочернего объекта не определено в элементе XML, то по умолчанию в качестве значения свойства применяется унаследованное значение. Но если выполняется запрос этого значения с сервера, то сервер возвращает неопределенное значение элемента XML.  
  
-   Возможность определить программным путем, было ли задано свойство дочернего объекта непосредственно на дочернем объекте или унаследовано, отсутствует.  
  
## <a name="example"></a>Пример  
 Куб «Импорт» содержит две меры («Пакеты» и «Последняя дата») и три связанных измерения («Маршрут», «Источник» и «Время»).  
  
 ![Пример куба 1](../../../analysis-services/multidimensional-models/olap-logical/media/cubeintro1.gif "пример куба 1")  
  
 Наименьшие буквенно-цифровые значения в кубе — это элементы измерений. Примеры элементов — «Наземный» (элемент измерения «Маршрут»), «Африка» (элемент измерения «Источник») и «1-й квартал» (элемент измерения «Время»).  
  
### <a name="measures"></a>меры  
 Значение в ячейках куба представляют две меры — «Пакеты» и «Последняя дата». Мера «Посылки» представляет число импортированных посылок и **Sum** для статистической обработки фактов используется функция. Последняя мера представляет собой дату получения и **Max** для статистической обработки фактов используется функция.  
  
### <a name="dimensions"></a>Измерения  
 Измерение «Маршрут» представляет пути, которыми импортируемый товар достигает своего назначения. В число элементов этого измерения входят «наземный», «не наземный», «воздушный», «морской», «дорожный» и «железнодорожный». Измерение «Источник» представляет место производства импортируемого товара, например Азию или Африку. Измерение «Время» представляет кварталы и полугодия.  
  
### <a name="aggregates"></a>Статистические вычисления  
 Бизнес-пользователи куба могут определять значения его мер для каждого элемента в каждом измерении независимо от уровня элемента в измерении, поскольку службы [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)] вычисляют значения верхних уровней по мере необходимости. Например значения меры на предыдущем рисунке можно агрегировать в соответствии с обычной календарной иерархией с помощью Календарное время иерархии в измерении времени, как показано на следующей схеме.  
  
 ![Диаграмма мер, упорядоченных по измерению времени](../../../analysis-services/multidimensional-models/olap-logical/media/cubeintro2.gif "Диаграмма мер, упорядоченных по измерению времени")  
  
 Помимо статистических вычислений с использованием одного измерения, возможна статистическая обработка мер с использованием сочетаний элементов из различных измерений. Это позволяет бизнес-пользователям вычислять меры в нескольких измерениях одновременно. Например, если бизнес-пользователь хочет проанализировать квартальный импорт, прибывший по воздуху из восточного и западного полушарий, он может создать запрос к кубу, чтобы получить следующий набор данных.  
  
||||Пакеты|||Последняя|||  
|-|-|-|--------------|-|-|----------|-|-|  
||||Все источники|Восточное полушарие|Западное полушарие|Все источники|Восточное полушарие|Западное полушарие|  
|Все время|||25110|6547|18563|29-дек-99|22-дек-99|29-дек-99|  
||Первое полугодие||11173|2977|8196|28-июн-99|20-июн-99|28-июн-99|  
|||Первый квартал|5108|1452|3656|30-мар-99|19-мар-99|30-мар-99|  
|||Второй квартал|6065|1525|4540|28-июн-99|20-июн-99|28-июн-99|  
||Второе полугодие||13937|3570|10367|29-дек-99|22-дек-99|29-дек-99|  
|||Третий квартал|6119|1444|4675|30-сен-99|18-сен-99|30-сен-99|  
|||Четвертый квартал|7818|2126|5692|29-дек-99|22-дек-99|29-дек-99|  
  
 После определения куба можно создать новые агрегаты или изменить существующие агрегаты, установив параметры наподобие того, вычисляются ли агрегаты предварительно во время обработки или же вычисляются во время запроса. **См. также:** [агрегаты и статистические схемы](../../../analysis-services/multidimensional-models-olap-logical-cube-objects/aggregations-and-aggregation-designs.md).  
  
### <a name="mapping-measures-attributes-and-hierarchies"></a>Сопоставление мер, атрибутов и иерархий  
 Меры, атрибуты и иерархии в примере куба выводятся из следующих столбцов таблиц фактов и измерений куба.  
  
|Мера или атрибут (уровень)|Members|Исходная таблица|Исходный столбец|Образец значения столбца|  
|------------------------------------|-------------|------------------|-------------------|-------------------------|  
|Мера «Посылки»|Неприменимо|ImportsFactTable|Пакеты|12|  
|Мера «Последняя дата»|Неприменимо|ImportsFactTable|Последняя|03-май-99|  
|Уровень категории «Маршрут» в измерении «Маршрут»|не наземный, наземный|RouteDimensionTable|Route_Category|Не наземный|  
|Атрибут «Маршрут» в измерении «Маршрут»|воздушный, морской, дорожный, железнодорожный|RouteDimensionTable|Маршрут|Морской|  
|Атрибут «Полушарие» в измерении «Источник»|Восточное полушарие, западное полушарие|SourceDimensionTable|Полушарие|Восточное полушарие|  
|Атрибут «Континент» в измерении «Источник»|Африка, Азия, Австралия, Европа, Северная Америка, Южная Америка|SourceDimensionTable|Континент|Европа|  
|Атрибут «Полугодие» в измерении «Время»|Первое полугодие, второе полугодие|TimeDimensionTable|Полугодие|Второе полугодие|  
|Атрибут «Квартал» в измерении «Время»|Первый квартал, второй квартал, третий квартал, четвертый квартал|TimeDimensionTable|Квартал|Третий квартал|  
  
 Данные в одной ячейке куба обычно выводятся из нескольких строк таблицы фактов. Например, ячейка куба на пересечении элемента «воздух» элемента «Африка» и «1 квартал» содержит значение, выведенное статистическим вычислением следующих рядов в **ImportsFactTable** таблицы фактов.  
  
|||||||  
|-|-|-|-|-|-|  
|Import_ReceiptKey|RouteKey|SourceKey|TimeKey|Пакеты|Последняя|  
|3516987|1|6|1|15|10-янв-99|  
|3554790|1|6|1|40|19-янв-99|  
|3572673|1|6|1|34|27-янв-99|  
|3600974|1|6|1|45|02-фев-99|  
|3645541|1|6|1|20|09-фев-99|  
|3674906|1|6|1|36|17-фев-99|  
  
 В приведенной выше таблице каждая строка содержит те же значения для **RouteKey**, **SourceKey**, и **TimeKey** столбцов, указывающее на то, что эти строки размещаются в одной и той же ячейке куба.  
  
 Показанный здесь пример представляет очень простой куб, в том смысле, что это куб с единственной группой мер, а все таблицы измерений соединены с таблицей фактов по схеме «звезда». Другая схема — это схема «снежинка», в которой одна или несколько таблиц измерений присоединяются к другой таблице измерения, а не напрямую к таблице фактов. **См. также:** [измерения &#40;службы Analysis Services — многомерные данные&#41;](../../../analysis-services/multidimensional-models-olap-logical-dimension-objects/dimensions-analysis-services-multidimensional-data.md).  
  
 В приведенном здесь примере содержится только одна таблица фактов. Когда в кубе есть несколько таблиц фактов, меры каждой из них организуются в группы мер, причем группа мер связана с соответствующим набором измерений согласно заданным связям измерений. Эти связи определяются указанием участвующих таблиц в представлении источника данных и гранулярности связи. **См. также:** [связей измерений](../../../analysis-services/multidimensional-models-olap-logical-cube-objects/dimension-relationships.md).  
  
## <a name="see-also"></a>См. также  
 [Многомерный шаблон баз данных](../../../analysis-services/multidimensional-models/multidimensional-model-databases-ssas.md)  
  
  
