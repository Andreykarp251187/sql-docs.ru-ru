---
title: Применение фильтра к модели интеллектуального анализа данных | Документация Майкрософт
ms.date: 05/01/2018
ms.prod: sql
ms.technology: analysis-services
ms.custom: data-mining
ms.topic: conceptual
ms.author: owend
ms.reviewer: owend
author: minewiskan
manager: kfile
ms.openlocfilehash: 5430aa0125e621a574d8fb9cc6b28f6b73794b46
ms.sourcegitcommit: 3026c22b7fba19059a769ea5f367c4f51efaf286
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/15/2019
ms.locfileid: "68184447"
---
# <a name="apply-a-filter-to-a-mining-model"></a>Применение фильтра к модели интеллектуального анализа данных
[!INCLUDE[ssas-appliesto-sqlas](../../includes/ssas-appliesto-sqlas.md)]
  Если структура интеллектуального анализа данных содержит вложенную таблицу, можно применить фильтр к таблице вариантов, вложенной таблице или к обеим таблицам.  
  
 Следующая процедура демонстрирует создание обоих видов фильтров: фильтров вариантов и фильтров строк вложенной таблицы.  
  
 Условие для таблицы вариантов выбирает клиентов, имеющих доход от 30 000 до 40 000. Условие для вложенной таблицы выбирает клиентов, которые не приобрели какой-то конкретный товар.  
  
 Полное условие фильтра, созданное в этом примере, выглядит следующим образом:  
  
```  
[Income] > '30000'   
AND  [Income] < '40000'   
AND EXISTS (SELECT * FROM [<nested table name>]   
WHERE [Model] <> 'Water Bottle' )   
```  
  
### <a name="to-create-a-case-filter-on-a-mining-model"></a>Создание фильтра вариантов в модели интеллектуального анализа данных  
  
1.  В обозревателе решений [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)]щелкните структуру интеллектуального анализа данных, содержащую ту модель интеллектуального анализа данных, к которой нужно применить фильтр.  
  
2.  Перейдите на вкладку **Модели интеллектуального анализа данных** .  
  
3.  Выберите модель и щелкните правой кнопкой мыши, чтобы открыть контекстное меню.  
  
     -или-  
  
     Выберите модель. Затем в меню **Модель интеллектуального анализа данных** выберите команду **Настроить фильтр моделей**.  
  
4.  В диалоговом окне **Фильтр модели** щелкните верхнюю строку сетки в текстовом поле **Столбец структуры интеллектуального анализа данных** .  
  
5.  Если источник данных содержит единственную плоскую таблицу, в раскрывающемся списке отображаются только имена столбцов этой таблицы.  
  
     Если структура интеллектуального анализа данных содержит несколько таблиц, то в списке отображаются имена этих исходных таблиц. Имена столбцов не отображаются до тех пор, пока не будет выбрана таблица.  
  
     Если структура интеллектуального анализа данных содержит таблицу вариантов и вложенную таблицу, то в раскрывающемся списке отображаются столбцы из таблицы вариантов и имя вложенной таблицы.  
  
6.  Выберите столбец из раскрывающегося списка.  
  
     Значок слева от текстового поля изменится, указывая, что выбранным элементом является таблица или столбец.  
  
7.  Щелкните текстовое поле **Оператор** и выберите оператор из списка. Перечень допустимых операторов зависит от типа данных выбранного столбца.  
  
8.  Щелкните текстовое поле **Значение** и введите значение в поле.  
  
     Например, выберите столбец **Income**, оператор "больше" (>), а затем введите значение **30000**.  
  
9. Щелкните следующую строку сетки.  
  
     Созданное условие фильтра автоматически добавится к содержимому текстового поля «Выражение». Например: `[Income] > '30000'`  
  
10. Щелкните текстовое поле **AND/OR** в следующей строке сетки, чтобы добавить условие.  
  
     Например, чтобы создать условие BETWEEN, выберите **AND** из раскрывающегося списка логических операндов.  
  
11. Выберите оператор и введите значение, как описано в шагах 7 и 8.  
  
     Например, еще раз выберите столбец **Income**, оператор "меньше" (<), а затем введите значение **40000**.  
  
12. Щелкните следующую строку сетки.  
  
13. Условие фильтра в текстовом поле «Выражение» автоматически обновится, чтобы включить новое условие. Законченное выражение выглядит следующим образом: `[Income] > '30000'AND [Income] < '40000'`  
  
### <a name="to-add-a-filter-on-the-nested-table-in-a-mining-model"></a>Добавление фильтра к вложенной таблице в модели интеллектуального анализа данных  
  
1.  В  **\<имя > Фильтр модели** диалоговом окне щелкните пустую строку в сетке под **столбец структуры интеллектуального анализа данных**.  
  
2.  Выберите имя вложенной таблицы из раскрывающегося списка.  
  
     Значок в левой стороне текстового поля изменится, указывая, что выбранным элементом является имя таблицы.  
  
3.  Щелкните текстовое поле **Оператор** и выберите **Содержит** или **Не содержит**.  
  
     В диалоговом окне **Фильтр модели** для вложенной таблицы доступны только эти условия, поскольку таблица вариантов ограничена вариантами, содержащими определенное значение во вложенной таблице. Значение условия для вложенной таблицы будет задано в следующем шаге.  
  
4.  Нажмите кнопку **значение** , а затем щелкните **(...)**  , чтобы построить выражение.  
  
     **\<Имя > Фильтр** откроется диалоговое окно. Это диалоговое окно позволяет задавать условия только для текущей таблицы, которая в данном случае является вложенной таблицей.  
  
5.  Щелкните поле **Столбец структуры интеллектуального анализа данных** и выберите имя столбца из раскрывающихся списков столбцов вложенной таблицы.  
  
6.  Нажмите текстовое поле **Оператор** и выберите оператор из списка допустимых операторов для столбца.  
  
7.  Щелкните поле **Значение** и введите значение.  
  
     Например, в поле **Столбец структуры интеллектуального анализа данных** выберите значение **Model**. В поле **Оператор**выберите **<>** и введите значение **Water Bottle**. Это условие приведет к созданию следующего критерия фильтра:  
  
```  
EXISTS (SELECT * FROM [<nested table name>] WHERE [Model] <> 'Water Bottle' )   
```  
  
> [!NOTE]  
>  Количество атрибутов вложенной таблицы потенциально может быть неограниченным, поэтому службы [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] не предоставляют список возможных значений для выбора. Необходимо вводить точное значение. Кроме того, во вложенной таблице не может использоваться оператор LIKE.  
  
1.  При необходимости добавьте дополнительные условия, объединив их с помощью операторов **AND** или **OR** в поле **AND/OR** слева от сетки **Условия** . [!INCLUDE[clickOK](../../includes/clickok-md.md)]  
  
2.  В диалоговом окне **Фильтр модели** просмотрите созданные условия с помощью диалогового окна **Фильтр** . Условия для вложенной таблицы добавляются к условиям таблицы вариантов, а неполный набор условий фильтра отображается в текстовом поле **Выражение** .  
  
3.  Можно также дополнительно нажать кнопку **Изменить запрос** и вручную изменить критерий фильтра.  
  
    > [!NOTE]  
    >  Если какая-либо часть критерия фильтра изменена вручную, то сетка становится недоступной и работать с выражением фильтра в дальнейшем можно только в режиме изменения текста. Чтобы снова перейти в режим изменения с помощью сетки, необходимо очистить критерий фильтра и начать сначала.  
  
## <a name="see-also"></a>См. также  
 [Фильтры для моделей интеллектуального анализа данных (службы Analysis Services — интеллектуальный анализ данных)](../../analysis-services/data-mining/filters-for-mining-models-analysis-services-data-mining.md)   
 [Задачи и инструкции по модели интеллектуального анализа данных](../../analysis-services/data-mining/mining-model-tasks-and-how-tos.md)   
 [удалить фильтр из модели интеллектуального анализа данных](../../analysis-services/data-mining/delete-a-filter-from-a-mining-model.md)  
  
  
