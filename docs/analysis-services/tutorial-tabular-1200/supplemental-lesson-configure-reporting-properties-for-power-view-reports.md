---
title: Настройка свойств отчетов для отчетов Power View | Документация Майкрософт
ms.date: 05/07/2019
ms.prod: sql
ms.technology: analysis-services
ms.custom: tabular-models
ms.topic: tutorial
ms.author: owend
ms.reviewer: owend
author: minewiskan
manager: kfile
ms.openlocfilehash: 3ee35ac833a1170a688bb9439ed4dd8f6b6d6716
ms.sourcegitcommit: 54c8420b62269f6a9e648378b15127b5b5f979c1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/07/2019
ms.locfileid: "65403376"
---
# <a name="supplemental-lesson---configure-reporting-properties-for-power-view-reports"></a>Дополнительное занятие — Настройка свойств отчетов для отчетов Power View
[!INCLUDE[ssas-appliesto-sql2016-later-aas](../../includes/ssas-appliesto-sql2016-later-aas.md)]

В этом дополнительном занятии будет задание свойств отчетов для проект AW Internet Sales. Свойства отчетов упрощают пользователям выбор и отображение данных модели в Power View. Можно также задать свойства, позволяющие скрывать некоторые столбцы и таблицы, а также создавать новые данные для использования в диаграммах.   
  
Предполагаемое время для выполнения этого занятия: **30 минут**  
  
## <a name="prerequisites"></a>предварительные требования  
Это дополнительное занятие является частью учебника по табличному моделированию, который необходимо изучать по порядку. Прежде чем выполнять задания в этом дополнительном занятии, необходимо завершить все предыдущие занятия.  
Для выполнения этого дополнительного занятия необходимо иметь следующее.  
  
-   Проект AW Internet Sales (выполняемая в этом учебнике) готова к развертыванию или уже развернута на сервере служб Analysis Services.  
  
  
## <a name="model-properties-that-affect-reporting"></a>Свойства модели, влияющие на отчеты  
При создании табличной модели, существуют некоторые свойства, которые можно задать для отдельных столбцов и таблиц для повышения удобства отчеты в Power View. Кроме того, можно создать дополнительные данные отчета для поддержки представления и других функций, специфичных для клиента построения отчетов. В образце модели интернет-продаж Adventure Works имеются некоторые изменения, которые нужно внести.  
  
-   **Добавлять новые данные** -новые данные в вычисляемом столбце с формулой DAX, которая создает информацию о дате в формате, который проще отображать в диаграммах.  
  
-   **Скрытие столбцов и таблиц, ненужных пользователю** . Столбец **Скрытый** управляет отображением столбцов и таблиц в клиенте отчетов. Скрытые элементы будут по-прежнему частью модели и доступны для запросов и вычислений.  
  
-   **Включение таблиц одним щелчком** -по умолчанию, никакие действия не выполняются, если пользователь щелкает таблицу в списке полей. Для изменения этого поведения, чтобы щелчок таблицы добавлял эту таблицу в отчет, необходимо задать набор полей по умолчанию для каждого столбца, который требуется включить в таблицу. Это свойство имеет значение для столбцов таблицы, которые пользователи, скорее всего, будут использовать.  
  
-   **Задание группирования по мере необходимости** . Свойство **Сохраните уникальные строки** определяет, нужно ли группировать значения в столбце по другому полю, например по идентификатору. Для столбцов, содержащих повторяющиеся значения, такие как имена клиентов (например, нескольких клиентов зовут Александр Иванов), очень важно группу (по уникальным строкам) на **идентификатор строки** поля, чтобы предоставить своим конечным пользователям с правильные результаты.  
  
-   **Задание типов и форматов данных** . По умолчанию Power View применяет правила исходя из типа данных столбца, чтобы определить, может ли поле использоваться в качестве меры. Так как каждая визуализация данных в Power View также содержит правила, указывающие, где могут быть помещены меры и отличные от мер, важно задать тип данных в модели, или переопределить значение по умолчанию, для достижения результата, необходимого для пользователя.  
  
-   **Задать сортировку по столбцу** свойство — **сортировать по столбцу** свойство указывает, если значения в столбце должны сортироваться по значениям в другом поле. Например, столбец Month Calendar, содержащий название месяца, должен сортироваться по столбцу Month Number.  
  
## <a name="hide-tables-from-client-tools"></a>Скрыть таблицы от клиентских средств  
Поскольку в таблице Product уже есть вычисляемый столбец Product Category и Product Subcategory, не нужно делать таблицы Product Category и Product Subcategory видимыми для клиентских приложений.  
  
#### <a name="to-hide-the-product-category-and-product-subcategory-tables"></a>Скрытие таблиц Product Category и Product Subcategory  
  
1.  В конструкторе моделей щелкните таблицу (вкладку) **Product Category** правой кнопкой мыши и выберите пункт **Скрыть из набора клиентских средств**.  
  
2.  Щелкните таблицу (вкладку) **Product Subcategory** правой кнопкой мыши и выберите пункт **Скрыть из набора клиентских средств**.  
  
## <a name="create-new-data-for-charts"></a>Создание новых данных для диаграмм  
Иногда бывает необходимо создавать в модели новые данные с помощью формул DAX. В данной задаче будет добавлено два новых вычисляемых столбца в таблице Date. Эти новые столбцы представляют поля даты в формате, удобном для использования в диаграммах.  
  
#### <a name="to-create-new-data-for-charts"></a>Создание новых данных для диаграмм  
  
1.  В таблице **Date** выполните прокрутку до правого края и щелкните **Добавить столбец**.  
  
2.  Добавляется 2 новых вычисляемых столбца со следующими формулами в строке формул.  
  
    |Имя столбца|Формула|  
    |---------------|-----------|  
    |Квартал года|=[Calendar Year] & " Q" & [Calendar Quarter]|  
    |Year Month|=[Calendar Year] & FORMAT([Month],"#00")|  
  
## <a name="default-field-set"></a>Набор полей по умолчанию  
Набор полей по умолчанию — это предопределенный список столбцов и мер для таблицы, которые автоматически добавляются на холст отчета при выборе таблицы в списке полей отчета. В сущности можно задать столбцы по умолчанию, меры и упорядочение полей, которые пользователи увидят, когда эта таблица будет визуализирована в отчетах Power View.  Для модели интернет-продаж нужно определить набор полей по умолчанию и порядок для таблиц Customer, Geography и Product. Включаются только наиболее распространенные столбцы, которые нужны пользователям во время анализа интернет-продаж Adventure Works в отчетах Power View.  
  
Подробные сведения о наборе полей по умолчанию, см. в разделе [настроить набор полей по умолчанию для отчетов Power View](../tabular-models/power-view-configure-default-field-set-for-reports.md).  
  
#### <a name="to-set-default-field-set-for-tables"></a>Задание набора полей по умолчанию для таблиц  
  
1.  В конструкторе моделей щелкните таблицу (вкладку) **Заказчик** .  
  
2.  В окне **Свойства** в разделе **Свойства отчетов**для свойства **Набор полей по умолчанию** щелкните текст **Щелкните, чтобы изменить** , чтобы открыть диалоговое окно **Набор полей по умолчанию** .  
  
3.  В диалоговом окне в списке **Набор полей по умолчанию** в разделе **Поля в таблице** нажмите клавишу CTRL и выберите следующие поля, а затем нажмите **Добавить**.  
  
    **Дата рождения**, **альтернативного идентификатора клиента**, **имя**, **Фамилия**.  
  
4.  В окне **Поля по умолчанию по порядку** с помощью кнопок перемещения вверх и вниз разместите элементы в следующем порядке.  
  
    **Альтернативный идентификатор клиента**  
  
    **First Name**  
  
    **Last Name**  
  
    **Birth Date**.  
  
5.  Нажмите кнопку **ОК** , чтобы закрыть диалоговое окно **Набор полей по умолчанию** для таблицы **Customer** .  
  
6.  Выполните те же шаги для таблицы **Geography** , выбрав следующие поля и разместив их в этом порядке.  
  
    **City**, **State Province Code**, **Country Region Code**.  
  
7.  Наконец, выполните те же действия для таблицы **Product** , выбрав следующие поля и разместив их в том же порядке.  
  
    **Product Alternate ID**, **название продукта**.  
  
## <a name="table-behavior"></a>Поведение таблиц  
Свойства поведения таблиц позволяют изменить поведение по умолчанию для различных типов представления и группирования таблиц, используемых в отчетах Power View. Это повышает эффективность размещения и идентификации — имена, изображения, заголовки в мозаике, макеты карт и диаграмм.  
  
Подробные сведения о свойствах поведения таблиц см. в разделе [Настройка свойств работы таблицы для отчетов Power View](../tabular-models/power-view-configure-table-behavior-properties-for-reports.md).  
  
#### <a name="to-set-table-behavior"></a>Задание поведения 
  
1.  В конструкторе моделей щелкните таблицу (вкладку) **Заказчик** .  
  
2.  В окне **Свойства** для свойства **Поведение таблицы** щелкните текст **Щелкните, чтобы изменить**, чтобы открыть диалоговое окно **Поведение таблицы** .  
  
3.  В **поведение таблицы** отображаемое в диалоговом окне **идентификатор строки** раскрывающегося списка, выберите **Customer ID** столбца.  
  
4.  В списке **Сохранять уникальные строки** выберите **First Name** и **Last Name**.  
  
    Этот параметр указывает, есть ли у этого столбца значения, которые должны рассматриваться как уникальные, даже если они содержат повторяющиеся значения, например если несколько сотрудников имеют одно и то же имя.  
  
5.  В раскрывающемся списке **Метка по умолчанию** выберите столбец **Last Name** .  
  
    Этот параметр указывает, что столбец содержит отображаемое имя для представления данных в строке.  
  
6.  Повторите эти шаги для **Geography** таблицу, выбрав **идентификатор географии** столбец в качестве идентификатора строки и **Город** столбца в **сохранять уникальные строки**  поле со списком. Нет необходимости задавать метку по умолчанию для этой таблицы.  
  
7.  Повторите эти шаги для **продукта** таблицу, выбрав **идентификатор продукта** столбец в качестве идентификатора строки и **название продукта** столбца в **сохранить уникальный Строки** поле со списком. Для **метка по умолчанию**выберите **Product Alternate ID**.  
  
## <a name="reporting-properties-for-columns"></a>Свойства отчетов для столбцов  
Можно задать несколько основных свойств столбца и отдельные свойства отчетов по столбцам для улучшения моделей отчетов. Например, пользователю может потребоваться возможность видеть все столбцы во всех таблицах. Так же, как скрытые таблицы Product Category и Product Subcategory ранее, с помощью свойства Hidden для столбца, можно скрыть определенных столбцов из таблицы, если они отображаются. Другие свойства, например «Формат данных» и «Сортировать по столбцу», также влияют на отображение данных в отчетах. Зададим некоторые из этих столбцов. Другие столбцы не требуют никаких действий и не отображаются ниже.  
  
Здесь необходимо задать только несколько отличающихся свойств, но существует еще и множество других. Более подробные сведения о свойствах столбцов отчетов, см. в разделе [свойства столбца](../tabular-models/column-properties-ssas-tabular.md).  
  
#### <a name="to-set-properties-for-columns"></a>Задание свойств столбцов  
  
1.  В конструкторе моделей щелкните таблицу (вкладку) **Заказчик** .  
  
2.  Щелкните **Customer ID** столбец для отображения свойства столбца в **свойства** окна.  
  
3.  В окне **Свойства** установите свойство **Скрытый** равным True. **Customer ID** столбца становится выделенным серым в конструкторе моделей.  
  
4.  Повторите эти действия, задав следующий столбец и свойства для каждой указанной таблицы. Оставьте все остальные свойства в параметрах по умолчанию.  
  
    Примечание. Для всех столбцов даты, убедитесь, что **тип данных** — **даты**.  
  
    **Заказчик**  
  
    |Столбец|Свойство|Значение|  
    |----------|------------|---------|  
    |Идентификатор географии|Скрытый|True|  
    |Birth Date|Формат данных|Short Date|  
  
    **Дата**  
  
    > [!NOTE]  
    > Так как таблица Date была выбрана, модели качестве таблицы дат с помощью пометить как таблицу дат, в занятии 7 Пометить как таблицу дат и столбец дат в таблице Date столбец использоваться в качестве уникального идентификатора, свойство идентификатора строки для столбца Date автоматически устанавливается в значение True и не может быть изменено. При использовании функций операций со временем в формулах DAX необходимо указание таблицы дат. В этой модели можно создать несколько мер с помощью функции логики операций со временем, подсчитывать продажи за различные периоды, например предыдущий и текущий кварталы, а также использовать ключевые показатели эффективности (KPI). Дополнительные сведения об указании таблицы дат см. в разделе [укажите обозначение таблицы дат для использования с логикой операций со временем](../tabular-models/specify-mark-as-date-table-for-use-with-time-intelligence-ssas-tabular.md).  
  
    |Столбец|Свойство|Значение|  
    |----------|------------|---------|  
    |Дата|Формат данных|Short Date|  
    |Номер дня недели|Скрытый|True|  
    |День недели|Сортировать по столбцу|Номер дня недели|  
    |Day of Week|Скрытый|True|  
    |День месяца|Скрытый|True|  
    |День года|Скрытый|True|  
    |Названия месяца|Сортировать по столбцу|Месяц|  
    |Месяц|Скрытый|True|  
    |Месячный календарь|Скрытый|True|  
    |Финансовый квартал|Скрытый|True|  
    |Финансовый год|Скрытый|True|  
    |Финансовый семестр|Скрытый|True|  
  
    **Geography**  
  
    |Столбец|Свойство|Значение|  
    |----------|------------|---------|  
    |Идентификатор географии|Скрытый|True|  
    |Идентификатор территории продаж|Скрытый|True|  
  
    **Product**  
  
    |Столбец|Свойство|Значение|  
    |----------|------------|---------|  
    |Идентификатор продукта|Скрытый|True|  
    |Альтернативный идентификатор продукта|Метка по умолчанию|True|  
    |Идентификатор подкатегории продуктов|Скрытый|True|  
    |Дата начала жизненного цикла продукта (Дата начала периода расчета стоимости продукта )|Формат данных|Short Date|  
    |Дата окончания жизненного цикла продукта (Дата окончания периода расчета стоимости продукта)|Формат данных|Short Date|  
  
    **Internet Sales**  
  
    |Столбец|Свойство|Значение|  
    |----------|------------|---------|  
    |Идентификатор продукта|Скрытый|True|  
    |Идентификатор клиента|Скрытый|True|  
    |Идентификатор продвижения|Скрытый|True|  
    |Идентификатор валюты|Скрытый|True|  
    |Идентификатор территории продаж|Скрытый|True|  
    |Заказанное количество|Тип данных<br /><br />Формат данных<br /><br />десятичные разряды|Десятичное число<br /><br />Десятичное число<br /><br />0|  
    |Дата заказа|Формат данных|Short Date|  
    |Срок заказа|Формат данных|Short Date|  
    |Дата отгрузки|Формат данных|Short Date|  
  
## <a name="redeploy-the-adventure-works-internet-sales-tabular-model"></a>Повторное развертывание табличной модели интернет-продаж Adventure Works  
Поскольку модель была изменена, необходимо развернуть ее повторно.  
  
#### <a name="to-redeploy-the-adventure-works-internet-sales-tabular-model"></a>Повторное развертывание табличной модели интернет-продаж Adventure Works  
  
-   В SSDT откройте **построения** меню, а затем щелкните **развернуть модель Adventure Works Internet Sales**.  
  
    Появится диалоговое окно **Развертывание** , в котором будет отображено состояние развертывания метаданных, а также показана каждая таблица, включенная в модель.  
  
## <a name="next-steps"></a>Следующие шаги  
Теперь можно использовать Excel для визуализации данных из модели. Убедитесь, что учетная запись служб Analysis Services и Reporting Services на сайте SharePoint имеет разрешения на экземпляре служб Analysis Services, на котором будет развернута модель.  
  
  
  
  
