---
title: Определение и использование действия детализации | Документация Майкрософт
ms.date: 05/06/2019
ms.prod: sql
ms.technology: analysis-services
ms.custom: multidimensional-models
ms.topic: tutorial
ms.author: owend
ms.reviewer: owend
author: minewiskan
manager: kfile
ms.openlocfilehash: cc0b42e3d5b74b730a197b4c8cb595e871a247c6
ms.sourcegitcommit: 3026c22b7fba19059a769ea5f367c4f51efaf286
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/15/2019
ms.locfileid: "65403516"
---
# <a name="lesson-8-1---defining-and-using-a-drillthrough-action"></a>Урок 8 – 1-Определение и использование действия детализации
[!INCLUDE[ssas-appliesto-sqlas](../../includes/ssas-appliesto-sqlas.md)]

Распределение данных фактов по измерениям фактов без верной фильтрации данных, возвращаемых запросом, может привести к снижению его производительности. Чтобы избежать этого, можно определить действие детализации, которое ограничит общее число возвращаемых строк. Это позволит значительно повысить производительность выполнения запросов.  
  
В задачах этого раздела предстоит создать действие детализации, возвращающее пользователям через Интернет подробные сведения о заказе на продажу.  
  
## <a name="defining-the-drillthrough-action-properties"></a>Определение свойств действия детализации  
  
1.  Откройте куб "Учебник по [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] " в конструкторе кубов и перейдите на вкладку **Действия** .  
  
    Вкладка **Действия** содержит несколько панелей. В левой части вкладки находятся панели **Организатор действий** и **Средства вычисления** . Справа от них находится панель **Отображение** , содержащая подробные сведения о действии, выбранном на панели **Организатор действий** .  
  
    На рисунке ниже показана вкладка **Действия** конструктора кубов.  
  
    ![Вкладка «действия» конструктора кубов](../media/l8-action1.gif "вкладка «действия» конструктора кубов")  
  
2.  На панели инструментов вкладки **Действия** нажмите кнопку **Создать действие детализации** .  
  
    В панели отображения появится пустой шаблон действия.  
  
    ![Пустой шаблон действия на панели отображения](../media/l8-action2.gif "пустой шаблон действия на панели отображения")  
  
3.  В поле **Имя** измените имя действия на **Действие детализации продаж через Интернет**.  
  
4.  В списке **Элементы группы мер** выберите значение **Продажи через Интернет**.  
  
5.  В поле **Столбцы детализации** выберите в списке **Измерения** значение **Подробности заказа через Интернет** .  
  
6.  В списке **Возвращаемые столбцы** установите флажки **Описание элемента** и **Номер заказа** , а затем нажмите кнопку **ОК**. На следующем рисунке показано, как выглядит шаблон действия в этот момент времени данной процедуры.  
  
    ![Столбцы детализации поле](../media/l8-action3.gif "столбцы детализации")  
  
7.  Разверните поле **Дополнительные свойства** , как показано на рисунке ниже.  
  
    !["Дополнительные свойства"](../media/l8-action4.gif "\"Дополнительные свойства\"")  
  
8.  В поле **Максимальное число строк** введите значение **10**.  
  
9. В **заголовок** введите **Детализация сведений о заказе...** .  
  
    Эти настройки ограничивают количество возвращаемых строк и указывают заголовок, отображаемый в меню клиентского приложения. На рисунке ниже показаны эти параметры в поле **Дополнительные свойства** .  
  
    !["Дополнительные свойства"](../media/l8-action5.gif "\"Дополнительные свойства\"")  
  
## <a name="using-the-drillthrough-action"></a>Использование действия детализации  
  
1.  В меню **Сборка** выберите команду **Развернуть Analysis Services Tutorial**.  
  
2.  После успешного завершения развертывания в конструкторе кубов, где открыт куб **Tutorial, перейдите на вкладку** Браузер [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] и нажмите кнопку **Повторное соединение** .  
  
3.  Запустите Excel.  
  
4.  Добавьте меру **Продажи через Интернет — объем продаж** в область значений.  
  
5.  Добавьте определенную пользователем иерархию **География заказчика** из папки **Расположение** в измерении **Заказчик** в область **Фильтр отчета** .  
  
6.  В сводной таблице в столбце **География заказчика**добавьте фильтр, который выбирает одного заказчика. Разверните узлы **Все заказчики**, **Австралия**, **Квинсленд**, **Брисбейн**, **4000**, установите флажок **Адам Пауэл**и нажмите кнопку **ОК**.  
  
    В области данных будет отображена итоговая сумма продаж компании [!INCLUDE[ssSampleDBCoFull](../../includes/sssampledbcofull-md.md)] Адаму Пауэлу.  
  
7.  Щелкните правой кнопкой мыши объем продаж, наведите указатель на пункт **Дополнительные действия**, а затем щелкните **Детализация сведений о заказе**.  
  
    В окне **Средство просмотра выборки данных**приводятся подробные сведения о заказах, отправленных Адаму Пауэлу, как показано на рисунке ниже. Однако были бы полезны некоторые дополнительные сведения, например дата заказа, дата оплаты счета и дата отгрузки. В следующей процедуре эти дополнительные сведения будут добавлены.  
  
    ![Заказы, доставленные Адаму Пауэлу](../media/l8-action6.gif "заказы доставленные Адаму Пауэлу")  
  
8.  Закрыть Excel/  
  
## <a name="modifying-the-drillthrough-action"></a>Изменение действия детализации  
  
1.  Откройте измерение **Подробности заказа через Интернет** в конструкторе измерений.  
  
    Обратите внимание, что для этого измерения определены только три атрибута.  
  
2.  На панели **Представление источника данных** щелкните правой кнопкой мыши свободную область и выберите команду **Показать все таблицы**.  
  
3.  В меню **Формат** наведите указатель на пункт **Автомакет** и выберите пункт **Диаграмма**.  
  
4.  Найдите таблицу **InternetSales (dbo.FactInternetSales)** , щелкнув правой кнопкой мыши свободный участок панели **Представление источника данных** . Выберите команду **Найти таблицу** , выберите **InternetSales** , а затем нажмите кнопку **ОК**.  
  
5.  Создайте новые атрибуты, основанные на следующих столбцах:  
  
    -   OrderDateKey  
  
    -   DueDateKey  
  
    -   ShipDateKey  
  
6.  Для свойства **Имя** атрибута **Ключ даты заказа** задайте значение **Дата заказа** . Затем нажмите кнопку обзора, относящуюся к свойству **Столбец имени** , и в диалоговом окне **Столбец имени** выберите в качестве исходной таблицы **Date** , а в качестве исходного столбца — SimpleDate. [!INCLUDE[clickOK](../../includes/clickok-md.md)]  
  
7.  Для свойства **Имя** атрибута **Ключ срока заказа** задайте значение **Срок заказа**, а затем точно так же, как и для атрибута **Ключ даты заказа** , задайте для свойства **Столбец имени** значение **Date.SimpleDate (WChar)** .  
  
8.  Задайте для свойства **Имя** атрибута **Ключ даты отгрузки** значение **Дата отгрузки**, а для свойства **Столбец имени** этого атрибута — значение **Date.SimpleDate (WChar)** .  
  
9. Перейдите на вкладку **Действия** конструктора кубов для куба "Учебник по [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] ".  
  
10. В поле **Столбцы детализации** установите флажки, добавив в список **Возвращаемые столбцы** перечисленные ниже столбцы, и нажмите кнопку **ОК**.  
  
    -   Дата заказа  
  
    -   Срок заказа  
  
    -   Дата отгрузки  
  
    На следующем рисунке эти столбцы выделены.  
  
    ![Столбцы детализации поле](../media/l8-action7.gif "столбцы детализации")  
  
## <a name="reviewing-the-modified-drillthrough-action"></a>Просмотр измененного действия детализации  
  
1.  В меню **Сборка** выберите команду **Развернуть Analysis Services Tutorial**.  
  
2.  После успешного завершения развертывания в конструкторе кубов, где открыт куб "Учебник по **", перейдите на вкладку** Браузер [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] и нажмите кнопку **Повторное соединение** .  
  
3.  Запустите Excel.  
  
4.  Создайте сводную таблицу снова с помощью меры **Продажи через Интернет — объем продаж** в области значений и **География заказчика** в фильтре отчета.  
  
    Добавьте фильтр по элементам **Все заказчики**, **Австралия**, **Квинсленд**, **Брисбен**, **4000**, **Адам Пауэл**.  
  
5.  Щелкните ячейку данных **Продажи через Интернет — объем продаж** , наведите указатель на пункт **Дополнительные действия**и щелкните **Детализация сведения о заказе**.  
  
    Подробные сведения о заказах, поставленных Адаму Пауэллу, отображаются на временном листе. Доступны для просмотра описание элемента, номер заказа, дата заказа, срок заказа и дата отгрузки, как показано на следующем рисунке.  
  
    ![Заказы, доставленные Адаму Пауэлу](../media/l8-action8.gif "заказы доставленные Адаму Пауэлу")  
  
## <a name="next-lesson"></a>Следующее занятие  
[Занятие 9. Определение перспектив и переводов](lesson-9-defining-perspectives-and-translations.md)  
  
## <a name="see-also"></a>См. также  
[Действия (службы Analysis Services — многомерные данные)](../multidimensional-models/actions-analysis-services-multidimensional-data.md)  
[Действия в многомерных моделях](../multidimensional-models/actions-in-multidimensional-models.md)  
[Связи измерений](../multidimensional-models-olap-logical-cube-objects/dimension-relationships.md)  
[Определение связи фактов](lesson-5-2-defining-a-fact-relationship.md)  
[Определение связей фактов и свойств связей фактов](../multidimensional-models/define-a-fact-relationship-and-fact-relationship-properties.md)  
  
  
  
