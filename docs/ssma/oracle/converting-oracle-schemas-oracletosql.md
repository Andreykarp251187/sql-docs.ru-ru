---
title: Преобразование схем Oracle (OracleToSQL) | Документация Майкрософт
ms.prod: sql
ms.custom: ''
ms.date: 01/19/2017
ms.reviewer: ''
ms.technology: ssma
ms.topic: conceptual
helpviewer_keywords:
- Conversion Results
ms.assetid: e021182d-31da-443d-b110-937f5db27272
author: Shamikg
ms.author: Shamikg
manager: v-thobro
ms.openlocfilehash: 18da150a435b5d3d61740139309d109a16691da3
ms.sourcegitcommit: 3026c22b7fba19059a769ea5f367c4f51efaf286
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/15/2019
ms.locfileid: "63288885"
---
# <a name="converting-oracle-schemas-oracletosql"></a>Преобразование схем Oracle (OracleToSQL)
После подключения к базе данных Oracle, подключенных к [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], и задание проекта и параметры сопоставления данных, можно преобразовать объекты базы данных Oracle для [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] объектов базы данных.  
  
## <a name="the-conversion-process"></a>Процесс преобразования  
Преобразование объектов базы данных принимает определения объектов из Oracle, преобразует их в аналогичные [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] объектов и затем загружает эту информацию в метаданные SSMA. Она не загружает данные в экземпляр [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Затем можно просмотреть объекты и их свойства с помощью [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] обозреватель метаданных.  
  
Во время преобразования SSMA выводит сообщения об ошибках на панели списка ошибок и выходных сообщений в области вывода. Чтобы определить, есть ли у вас на изменение базы данных Oracle или процесс преобразования, чтобы получить результаты требуемое преобразование, используйте выходные данные и сведения об ошибке.  
  
## <a name="setting-conversion-options"></a>Установка параметров преобразования  
Прежде чем выполнять преобразование объектов, просмотрите параметры преобразования проекта в **параметры проекта** диалоговое окно. В этом диалоговом окне, можно задать как SSMA преобразует функции и глобальные переменные. Дополнительные сведения см. в разделе [параметры проекта &#40;преобразования&#41; &#40;OracleToSQL&#41;](../../ssma/oracle/project-settings-conversion-oracletosql.md).  
  
## <a name="conversion-results"></a>Результаты преобразования  
В следующей таблице показаны Oracle объекты преобразуются, в результате чего [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] объектов:  
  
|||  
|-|-|  
|Объектов Oracle|Полученные объекты SQL Server|  
|Функции|Если функция может напрямую преобразовать [!INCLUDE[tsql](../../includes/tsql-md.md)], SSMA создает функцию.<br /><br />В некоторых случаях функции необходимо преобразовать в хранимую процедуру. В этом случае SSMA создает хранимую процедуру и функции, которая вызывает хранимую процедуру.|  
|Процедуры|Если процедура может напрямую преобразовать [!INCLUDE[tsql](../../includes/tsql-md.md)], SSMA создает хранимую процедуру.<br /><br />В некоторых случаях в автономных транзакций должен вызываться хранимой процедуры. В этом случае SSMA создает две хранимые процедуры: с реализацией, процедуры и другой, который используется для вызова реализации хранимой процедуры.|  
|Пакеты|SSMA создает ряд хранимых процедур и функций, которые используются единые одинаковыми именами объектов.|  
|Последовательности;|SSMA создает последовательность объектов (SQL Server 2012 или SQL Server 2014) или эмулирует последовательности Oracle.|  
|Таблицы с зависимых объектов, таких как индексы и триггеры|SSMA создает таблицы с зависимые объекты.|  
|Просмотреть с помощью зависимые объекты, такие как триггеры|SSMA создает представления с зависимые объекты.|  
|Материализованные представления|**SSMA создает индексированных представлений в SQL server, за некоторыми исключениями. Преобразование не будет выполнено, если материализованное представление включает один или несколько из следующих конструкций:**<br /><br />Определяемая пользователем функция<br /><br />Недетерминированное поля / функции / выражения SELECT, ГДЕ или предложений GROUP BY<br /><br />Использование столбца Float в SELECT *, ГДЕ или предложений GROUP BY (особый вид предыдущем выпуске)<br /><br />Тип пользовательских данных (включая вложенные таблицы)<br /><br />COUNT (distinct &lt;поле&gt;)<br /><br />FETCH<br /><br />Инструкции объединения OUTER (LEFT, RIGHT или FULL)<br /><br />Вложенный запрос, другие представления<br /><br />OVER РАНЖИРОВАНИЯ, ПРИВЕСТИ, ЖУРНАЛ<br /><br />MIN, MAX<br /><br />UNION, МИНУС, ПЕРЕСЕКАЮТСЯ.<br /><br />HAVING|  
|Триггер|**SSMA создает триггеры на основе следующих правил:**<br /><br />Прежде ЧЕМ триггеры преобразуются в триггерах INSTEAD OF.<br /><br />Триггеры AFTER, преобразуются в триггеры AFTER.<br /><br />Триггеры INSTEAD OF, преобразуются в триггерах INSTEAD OF. Несколько триггеров INSTEAD OF, определенные на той же операции, объединяются в один триггер.<br /><br />Триггеров на уровне строк можно эмулировать с помощью курсоров.<br /><br />Каскадные триггеры конвертируются в несколько отдельных триггеров.|  
|Синонимы|**Синонимы создаются для следующих типов объектов:**<br /><br />Таблицы и таблицы, объект<br /><br />Представления и представления объектов<br /><br />Хранимые процедуры<br /><br />Функции<br /><br />**Синонимы для следующих объектов разрешаются и заменены прямые объектные ссылки:**<br /><br />Последовательности;<br /><br />Пакеты<br /><br />Объекты схемы классов в Java<br /><br />Пользовательские объектные типы<br /><br />Синонимы для другого синонима нельзя перенести и будут помечены как ошибки.<br /><br />Синонимы не создаются для Materialized представлений.|  
|Определяемые пользователем типы|**SSMA не обеспечивает поддержку для преобразования определяемых пользователем типов. Пользовательские типы, включая его использования в программах PL/SQL будут отмечены ошибки преобразования руководствоваться следующими правилами:**<br /><br />Столбец таблицы определяемый пользователем тип преобразуется в VARCHAR(8000).<br /><br />Аргумент пользователя определяемый тип в хранимую процедуру или функцию преобразуется в VARCHAR(8000).<br /><br />Переменная типа определяемых пользователем в блоке PL/SQL преобразуются в VARCHAR(8000).<br /><br />Таблица объектов преобразуется в обычную таблицу.<br /><br />Представление объекта преобразуется в стандартное представление.|  
  
## <a name="converting-oracle-database-objects"></a>Преобразование объектов базы данных Oracle  
Для преобразования объектов базы данных Oracle, сначала выберите объекты, которые требуется преобразовать и затем имеют SSMA выполнить преобразование. Просмотр выходных сообщений во время преобразования, на **представление** меню, выберите **вывода**.  
  
**Для преобразования объектов Oracle в синтаксис SQL Server**  
  
1.  В обозревателе метаданных Oracle, разверните узел сервера Oracle и раскройте **схемы**.  
  
2.  Выберите объекты для преобразования:  
  
    -   Чтобы преобразовать все схемы, установите флажок рядом с полем **схемы**.  
  
    -   Чтобы преобразовать или опустить базы данных, установите флажок рядом с именем схемы.  
  
    -   Для преобразования или пропустить категории объектов, разверните схему и затем установите или снимите флажок рядом с категорией.  
  
    -   Чтобы преобразовать или исключить отдельные объекты, разверните папку «категория» и выберите или снимите флажок рядом с объектом.  
  
3.  Для преобразования всех выбранных объектов, щелкните правой кнопкой мыши **схемы** и выберите **преобразования схемы**.  
  
    Можно также преобразовать отдельных объектов или категории объектов, щелкнув правой кнопкой мыши объект или ее родительскую папку, а затем выбрав **преобразования схемы**.  
  
## <a name="viewing-conversion-problems"></a>Просмотр проблемы с преобразованием  
Некоторые объекты Oracle не могут быть преобразованы. Успех конверсии можно определить, просмотрев отчет сводки преобразования.  
  
**Чтобы просмотреть сводный отчет**  
  
1.  В обозревателе метаданных Oracle выберите **схемы**.  
  
2.  В области справа выберите **отчетов** вкладки.  
  
    Этот отчет показывает отчет об оценке сводки для всех объектов базы данных, оценивается ли или преобразованы. Можно также просмотреть сводный отчет по отдельным объектам:  
  
    -   Чтобы просмотреть отчет для отдельную схему, выберите схему в обозревателе метаданных Oracle.  
  
    -   Чтобы просмотреть отчет, для отдельного объекта, выберите объект в обозревателе метаданных Oracle. Объекты, имеющие проблемы с преобразованием иметь красный значок ошибки.  
  
Для объектов, которые не удалось выполнить преобразование можно просмотреть синтаксис, вызвавшую ошибку преобразования.  
  
**Для просмотра отдельных преобразования проблем**  
  
1.  В обозревателе метаданных Oracle разверните **схемы**.  
  
2.  Разверните схему, которая показывает красный значок ошибки.  
  
3.  В области схемы разверните папку с красным значком ошибки.  
  
4.  Выберите объект, который имеет красный значок ошибки.  
  
5.  В области справа щелкните **отчетов** вкладки.  
  
6.  В верхней части **отчетов** вкладка — стрелку раскрывающегося списка. Если в списке отображается **статистики**, выделение **источника**.  
  
    SSMA отобразит исходный код и несколько кнопок, расположенный непосредственно над кодом.  
  
7.  Нажмите кнопку **следующая проблема** кнопки. Это красный значок ошибки с стрелка, указывающая вправо.  
  
    SSMA будут выделите первый проблемных исходного кода, найденных в текущем объекте.  
  
Для каждого элемента, которые не могут быть преобразованы необходимо определить, что нужно сделать с помощью этого объекта:  
  
-   Можно изменить исходный код для процедуры **SQL** вкладки.  
  
-   Можно изменить объект в базе данных Oracle, чтобы удалить или изменить неисправного кода. Чтобы загрузить обновленный код в SSMA, необходимо обновить метаданные. Дополнительные сведения см. в разделе [подключение к базе данных Oracle &#40;OracleToSQL&#41;](../../ssma/oracle/connecting-to-oracle-database-oracletosql.md).  
  
-   Объект можно исключить из миграции. В [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] обозревателя метаданных и обозреватель метаданных Oracle, снимите флажок рядом с элементом перед загрузкой объектов в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] и перенос данных из Oracle.  
  
## <a name="next-step"></a>Следующий шаг  
Следующий шаг в процессе миграции является [загрузит преобразованные объекты в SQL Server](loading-converted-database-objects-into-sql-server-oracletosql.md).  
  
## <a name="see-also"></a>См. также  
[Переход с Oracle баз данных в SQL Server &#40;OracleToSQL&#41;](../../ssma/oracle/migrating-oracle-databases-to-sql-server-oracletosql.md)  
  
